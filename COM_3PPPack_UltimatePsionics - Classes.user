<?xml version="1.0" encoding="UTF-8"?>
<document signature="Hero Lab Data">
  <loadonce key="COM_3PPPack_UltimatePsionics - Classes"/>
  <thing id="cHelpSkn" name="Soulknife" compset="Class" uniqueness="unique">
    <fieldval field="cHDSides" value="10"/>
    <fieldval field="cAbbr" value="Skn"/>
    <fieldval field="cSkills" value="4"/>
    <fieldval field="cSpecSing" value="Blade Skill"/>
    <fieldval field="cSpecName" value="Blade Skills"/>
    <fieldval field="srcPageNum" value="57"/>
    <fieldval field="srcBookInf" value="Ultimate Psionics"/>
    <fieldval field="cSCRNumDce" value="5"/>
    <fieldval field="cSCRDceSiz" value="6"/>
    <fieldval field="cSCRMult" value="10"/>
    <arrayval field="cCustTot" index="9" value="5"/>
    <arrayval field="cCustTot" index="11" value="6"/>
    <arrayval field="cCustTot" index="13" value="7"/>
    <arrayval field="cCustTot" index="15" value="8"/>
    <arrayval field="cCustTot" index="17" value="9"/>
    <arrayval field="cCustTot" index="19" value="10"/>
    <arrayval field="cBonFtTot" index="0" value="1"/>
    <arrayval field="cCustTot" index="1" value="1"/>
    <arrayval field="cCustTot" index="3" value="2"/>
    <arrayval field="cCustTot" index="5" value="3"/>
    <arrayval field="cCustTot" index="7" value="4"/>
    <usesource source="pPsiUn"/>
    <tag group="cWill" tag="Good"/>
    <tag group="ClassSkill" tag="skAcrobat"/>
    <tag group="ClassSkill" tag="skStealth"/>
    <tag group="ClassSkill" tag="skSwim"/>
    <tag group="ClassSkill" tag="Profession"/>
    <tag group="cRef" tag="Good"/>
    <tag group="fInclude" tag="fPowerAtt"/>
    <tag group="fInclude" tag="fTwoWep"/>
    <tag group="fInclude" tag="fWepFocMB"/>
    <tag group="Classes" tag="Soulknife" name="Soulknife"/>
    <tag group="cAttack" tag="Good"/>
    <tag group="AgeColumn" tag="1"/>
    <tag group="cFort" tag="Poor"/>
    <tag group="ClassSkill" tag="Craft"/>
    <tag group="ClassSkill" tag="skClimb"/>
    <tag group="ClassSkill" tag="skPUAhypno"/>
    <tag group="ProductId" tag="HLCommunit"/>
    <tag group="ClassSkill" tag="skPercep"/>
    <tag group="ClassSkill" tag="skIntim"/>
    <tag group="ClassSkill" tag="skPUKnwPsi"/>
    <bootstrap thing="fArmMedium"></bootstrap>
    <bootstrap thing="cSknEnhMB">
      <autotag group="ClSpecWhen" tag="9"/>
      </bootstrap>
    <bootstrap thing="cSknEnhMB">
      <autotag group="ClSpecWhen" tag="11"/>
      </bootstrap>
    <bootstrap thing="cSknEnhMB">
      <autotag group="ClSpecWhen" tag="13"/>
      </bootstrap>
    <bootstrap thing="cSknEnhMB">
      <autotag group="ClSpecWhen" tag="15"/>
      </bootstrap>
    <bootstrap thing="cSknEnhMB">
      <autotag group="ClSpecWhen" tag="17"/>
      </bootstrap>
    <bootstrap thing="cSknEnhMB">
      <autotag group="ClSpecWhen" tag="19"/>
      </bootstrap>
    <bootstrap thing="fSknMndBld"></bootstrap>
    <bootstrap thing="fArmShield"></bootstrap>
    <bootstrap thing="cSknMindBl">
      <autotag group="ClSpecWhen" tag="1"/>
      </bootstrap>
    <bootstrap thing="cSknWldTal">
      <autotag group="ClSpecWhen" tag="1"/>
      </bootstrap>
    <bootstrap thing="cSknShaMB">
      <autotag group="ClSpecWhen" tag="1"/>
      </bootstrap>
    <bootstrap thing="cSknThrMB">
      <autotag group="ClSpecWhen" tag="1"/>
      </bootstrap>
    <bootstrap thing="cSknPsyStr">
      <autotag group="ClSpecWhen" tag="3"/>
      </bootstrap>
    <bootstrap thing="cSknPsyStr">
      <autotag group="ClSpecWhen" tag="7"/>
      </bootstrap>
    <bootstrap thing="cSknPsyStr">
      <autotag group="ClSpecWhen" tag="11"/>
      </bootstrap>
    <bootstrap thing="cSknPsyStr">
      <autotag group="ClSpecWhen" tag="15"/>
      </bootstrap>
    <bootstrap thing="cSknPsyStr">
      <autotag group="ClSpecWhen" tag="19"/>
      </bootstrap>
    <bootstrap thing="cSknEnhMB">
      <autotag group="ClSpecWhen" tag="3"/>
      </bootstrap>
    <bootstrap thing="cSknEnhMB">
      <autotag group="ClSpecWhen" tag="5"/>
      </bootstrap>
    <bootstrap thing="cSknEnhMB">
      <autotag group="ClSpecWhen" tag="7"/>
      </bootstrap>
    <bootstrap thing="fSimple"></bootstrap>
    <bootstrap thing="fArmLight"></bootstrap>
    <bootstrap thing="cSknMBMas">
      <autotag group="ClSpecWhen" tag="20"/>
      </bootstrap>
    <bootstrap thing="cSknQuiDra">
      <autotag group="ClSpecWhen" tag="5"/>
      </bootstrap>
    </thing>
  <thing id="cSoulknife" name="Soulknife" description="Never caught unarmed, the soulknife is the literal interpretation of using the power of the mind as a weapon. Creating a mind blade is the core of the soulknife, and with it, he is a deadly combatant.{br}{br}Versatile and varied, the soulknife can be found in all shapes and sizes, wielding blades unique to the wielder and customized to fit the needs of the soulknife. Fluid in function, the soulknife has mastered how to alter her mind blade to fit the situation, bringing power and versatility into any combat.{br}{br}{b}Role:{/b} As a wielder of a weapon first and foremost, the soulknife excels as a front-line combatant on the battlefield. Her limited armor options and defensive abilities can be a hindrance, but her varied blade abilities can make her an excellent mobile warrior or battlefield controller.{br}{br}{b}Alignment:{/b} Any." compset="ClassLevel" maxlimit="20">
    <usesource source="pPsiUn"/>
    <tag group="ClassType" tag="Normal"/>
    <tag group="ProductId" tag="HLCommunit"/>
    <bootstrap thing="cHelpSkn"></bootstrap>
    <link linkage="helper" thing="cHelpSkn"/>
    </thing>
  <thing id="cSknMindBl" name="Form Mind Blade" description="As a move action, a soulknife can form a semi-solid weapon composed of psychic energy distilled from his own mind.\n\nA soulknife must choose the form of his mind blade at 1st level. He can either form it into a light weapon, a one-handed weapon, or a two-handed weapon. Once chosen, his mind blade stays in this form every time the soulknife forms his mind blade. The light weapon deals 1d6 points of damage, the one-handed weapon deals 1d8 points of damage, and the two-handed weapon deals 2d6 points of damage. All damages are based on a Mediumsized creature wielding Medium-sized weapons; adjust the weapon damage as appropriate for different sized weapons. In all forms, the mind blade has a critical range of 19-20/x2. A soulknife with powerful build or any similar ability forms an appropriately-sized mind blade dealing the size-appropriate amount of damage.\n\nIf the soulknife&apos;s chosen form is a light weapon, he may choose to form two light weapons when forming his mind blade if he so chooses, but he suffers the standard penalties for two-weapon fighting.\n\nRegardless of the weapon form a soulknife has chosen, his mind blade does not have a set damage type. When shaping his weapon and assigning abilities to it, the soulknife chooses whether it will deal bludgeoning, piercing, or slashing damage. The soulknife may change the damage type of an existing mind blade, or may summon a new mind blade with a different damage type, as a full-round action; otherwise, the mind blade retains the last damage type chosen every time it is summoned.\n\nThe blade can be broken (it has hardness 10 and 10 hit points); however, a soulknife can simply create another on his next move action. The moment he relinquishes his grip on his blade, it dissipates (unless he intends to throw it; see below). A mind blade is considered a magic weapon for the purpose of overcoming damage reduction and is considered a masterwork weapon.\n\nA soulknife can use feats such as Power Attack or Combat Expertise in conjunction with the mind blade just as if it were a normal weapon. He can also choose his mind blade for feats requiring a specific weapon choice, such as Weapon Focus and Improved Critical.\n\nPowers or spells that upgrade weapons can be used on a mind blade. The soulknife can use feats such as Weapon Finesse that work on light weapons with his mind blade, but such feats only work on mind blades in a light weapon form.\n\nEven in places where psionic effects do not normally function (such as within a {i}null psionics field{/i}), a soulknife can attempt to sustain his mind blade by making a DC 20 Will save. On a successful save, the soulknife maintains his mind blade for a number of rounds equal to his class level before he needs to check again, although the mind blade is treated for all purposes as a non-magical, masterwork weapon while in a place where psionic effects do not normally function. On an unsuccessful attempt, the mind blade vanishes.\n\nAs a move action on her turn, the soulknife can attempt a new Will save to rematerialize his mind blade while he remains within the psionics-negating effect. He gains a bonus on Will saves made to maintain or form his mind blade equal to the total enhancement bonus of his mind blade (see below).\n\nThe soulknife chooses the appearance of his mind blade, although its shape must reflect the selections the soulknife has chosen: a bludgeoning mind blade would be blunt, slashing would have an edge, etc.\n\n{b}Note:{/b} From the two drop down menus you must pick the type of mind blade (ie Light, one-handed, or two-handed) and its damage type (ie Bludgeoning, Piercing, or Slashing). Because these values can be changed often and in combat they display now on the In-Play tab also." compset="ClSpecial" summary="Form a semi-solid weapon composed of psychic energy distilled from your own mind.">
    <fieldval field="usrCandid1" value="component.Simple &amp; MindBlade.? &amp; !MindBlade.Bolt?"/>
    <arrayval field="usrArray" index="0" value="Bludgeoning"/>
    <arrayval field="usrArray" index="1" value="Piercing"/>
    <arrayval field="usrArray" index="2" value="Slashing"/>
    <tag group="SpecType" tag="Attack"/>
    <tag group="AbilType" tag="Super"/>
    <tag group="ChooseSrc1" tag="Hero"/>
    <tag group="Helper" tag="ActivMenu"/>
    <bootstrap thing="iPUMndBl1H">
      <containerreq phase="First" priority="99">hero#MindBlade.OneHanded</containerreq>
      </bootstrap>
    <bootstrap thing="iPUMndBl2H">
      <containerreq phase="First" priority="99">hero#MindBlade.TwoHanded</containerreq>
      </bootstrap>
    <bootstrap thing="iPUMndBlLT">
      <containerreq phase="First" priority="99">hero#MindBlade.Light</containerreq>
      </bootstrap>
    <bootstrap thing="iPUMndBlLT">
      <containerreq phase="First" priority="99">hero#MindBlade.Light</containerreq>
      </bootstrap>
    <bootstrap thing="zPUMndBld1"></bootstrap>
    <bootstrap thing="zPUMndBld2"></bootstrap>
    <bootstrap thing="zPUMndBld3"></bootstrap>
    <eval phase="First" priority="50" name="Add Mind Blade Tags"><![CDATA[
      ~ If we've been Disabled, get out now
      doneif (tagis[Helper.SpcDisable] <> 0)

      ~ If nothing chosen get out now!
      doneif (field[usrChosen1].ischosen <> 1)

      perform field[usrChosen1].chosen.pulltags[MindBlade.?]
      perform hero.pushtags[MindBlade.?]]]></eval>
    <eval phase="PostLevel" priority="10000" index="2"><![CDATA[
      ~ If we're not shown, just get out now
      doneif (tagis[Helper.ShowSpec] <> 1)
      ~ If we've been Disabled, get out now
      doneif (tagis[Helper.SpcDisable] <> 0)
      ~ If we've not chosen anything, get out
      doneif (field[usrChosen1].ischosen = 0)

      ~ Bludgeoning
      if (field[usrIndex].value = 0) then
        perform assign[wType.B]
      ~ Piercing
      elseif (field[usrIndex].value = 1) then
        perform assign[wType.P]
      ~ Slashing
      elseif (field[usrIndex].value = 2) then
        perform assign[wType.S]
      endif

      ~ Find all Mindblades and set the damage type tag
      foreach pick in hero from BaseWep where "IsWeapon.wMindBlade"
        perform eachpick.delete[wType.?]
        perform eachpick.gizmo.delete[wType.?]
        perform eachpick.pushtags[wType.?]
        perform eachpick.gizmo.pushtags[wType.?]
      nexteach]]></eval>
    </thing>
  <thing id="cSknWldTal" name="Wild Talent" description="The soulknife gains Wild Talent as a bonus feat at 1st level. This provides her with the psionic power necessary to manifest her mind blade. A character who is already psionic instead gains the Psionic Talent feat." compset="ClSpecial">
    <tag group="Helper" tag="SpecUp"/>
    <bootstrap thing="fPUPsiTal">
      <containerreq phase="First" priority="2000">Hero.Psionic</containerreq>
      </bootstrap>
    <bootstrap thing="fPUWildTal">
      <containerreq phase="First" priority="2000">!Hero.Psionic</containerreq>
      </bootstrap>
    </thing>
  <thing id="cSknShaMB" name="Shape Mind Blade" description="The soulknife&apos;s mind blade retains the last chosen form every time it is formed until the soulknife reshapes it. If the soulknife chooses to reshape his blade, it requires a full-round action to do so. She may also re-assign the type of damage dealt as part of reshaping his mind blade if he so chooses.{br}{br}A soulknife can reassign the ability or abilities he has added to his mind blade; see below. To do so, he must first spend 8 hours in concentration. These cannot be the normal 8 hours used for rest, even if the soulknife does not require sleep. After that period, the mind blade materializes with the new ability or abilities selected by the soulknife." compset="ClSpecial" summary="Change the form of your mind blade, or reassign its abilities"></thing>
  <thing id="cSknThrMB" name="Throw Mind Blade" description="All soulknives have some knowledge of how to throw their mind blades, though the range increment varies by form and the largest of blade forms cannot be thrown. Light weapon mind blades have a range increment of 20 ft. One-handed weapon mind blades have a range increment of 15 ft. Two-handed weapon mind blades cannot be thrown without the Two-Handed Throw blade skill. Whether or not the attack hits, a thrown mind blade then dissipates." compset="ClSpecial" summary="Light 20ft, 1H 15ft, and 2H can&apos;t be thrown.">
    <eval phase="First" priority="10000"><![CDATA[
      ~we're earlier than the normal test for whether we've reached the correct level, so we'll recreate that test here
      doneif (root.field[cTotalLev].value + field[xExtraLev].value + field[xEffectLev].value < tagvalue[ClSpecWhen.?])
      ~ If we've been Disabled, get out now
      doneif (tagis[Helper.SpcDisable] <> 0)

      ~ If Light mindblade live set throw distance
      If (hero.childlives[iPUMndBlLT] <> 0) Then
        ~ Find all Light Mindblade weapons
        foreach pick in hero from BaseWep where "MindBlade.Light"
          ~ Give light mindblade 20ft throw range
          perform eachpick.assign[wRangeInc.20]
          perform eachpick.assign[wCategory.RangeThrow]
        nexteach
      Endif
      ~ If One-handed mindblade live set throw distance
      If (hero.childlives[iPUMndBl1H] <> 0) Then
        ~ Give 1-Handed mindblade 15ft throw range
        perform hero.childfound[iPUMndBl1H].assign[wRangeInc.15]
        perform hero.childfound[iPUMndBl1H].assign[wCategory.RangeThrow]
      Endif]]></eval>
    </thing>
  <thing id="cSknPsyStr" name="Psychic Strike" description="As a move action, a soulknife of 3rd level or higher can imbue his mind blade with destructive psychic energy. This effect deals an extra 1d8 points of damage on any attack he wishes to activate it on (as long as the attack is made with his mind blade). A soulknife may hold the charge as long as he likes without discharging. It does not go off on any attack unless he chooses to use it, and the charge is not wasted if an attack misses. Mindless creatures are immune to this damage, although non-mindless creatures immune to mind-affecting effects are affected by this damage as normal. (Unlike the rogue&apos;s sneak attack, the psychic strike is not precision damage and can affect creatures otherwise immune to extra damage from critical hits or more than 30 feet away.)\n\nA mind blade deals this extra damage only once when this ability is called upon, but a soulknife can imbue his mind blade with psychic energy again by taking another move action. Additionally, he may recharge it as a swift action by expending his psionic focus.{br}{br}Once a soulknife has prepared his blade for a psychic strike, it holds the extra energy until it is used (whether the attack is successful or not). Even if the soulknife drops the mind blade (or it otherwise dissipates, such as when it is thrown), it is still imbued with psychic energy when the soulknife next materializes it.{br}{br}If the soulknife forms his mind blade into two weapons, he may imbue each mind blade with psychic strike as normal. If he reshapes his mind blade into a single weapon form, the additional psychic strike imbued into the additional weapon is lost.{br}{br}At every four levels thereafter (7th, 11th, etc), the extra damage from a soulknife&apos;s psychic strike increases by 1d8." compset="ClSpecial" summary="Add destructive psychic energy to your mindblade.">
    <fieldval field="abValue2" value="8"/>
    <tag group="Helper" tag="UseOwnLev" name="UseOwnLev" abbrev="UseOwnLev"/>
    <tag group="AbilType" tag="Super"/>
    <tag group="SpecType" tag="Attack" name="Attack" abbrev="Attack"/>
    <tag group="User" tag="Activation"/>
    <tag group="abAction" tag="PUExpFocus"/>
    <tag group="abAction" tag="Move"/>
    <tag group="abAction" tag="Swift"/>
    <eval phase="PostLevel" priority="20000"><![CDATA[
      ~ If we're not shown, just get out now
      doneif (tagis[Helper.ShowSpec] <> 1)
      ~ if we've been disabled, get out now
      doneif (tagis[Helper.SpcDisable] <> 0)
      ~ If not active then get out now
      doneif (field[abilActive].value <> 1)

      ~ Find all Mindblade weapons and add extra damage
      foreach pick in hero from BaseWep where "IsWeapon.wMindBlade"
        ~ Set the extra damage onto our mind blade weapon
        #extradamage[eachpick,signed(field[abValue].value) & "d" & field[abValue2].value & " psy",field[name].text]
      nexteach]]></eval>
    <eval phase="PostLevel" priority="10000" index="2"><![CDATA[
      ~Set the list name
      field[listname].text = field[thingname].text & " " & signed(field[xIndex].value) & "d" & field[abValue2].value

      ~ If we're not shown, just get out now
      doneif (tagis[Helper.ShowSpec] <> 1)
      ~ if we've been disabled, get out now
      doneif (tagis[Helper.SpcDisable] <> 0)

      field[abValue].value += field[xCount].value
      field[livename].text = field[thingname].text & " " & signed(field[abValue].value) & "d" & field[abValue2].value
      field[abSumm].text = signed(field[abValue].value) & "d" & field[abValue2].value & " to your mind blade damage."]]></eval>
    </thing>
  <thing id="cSknBSAltB" name="Alter Mind Blade" description="The soulknife gains the ability to shape her mind blade into different weapon forms. She may change her blade&apos;s form to the light weapon, one-handed weapon, or two-handed weapon forms any time she forms her mind blade. Additionally, the soulknife may choose to form her mind blade into a one-handed weapon and a light weapon instead of two light weapons." compset="CustomSpec" summary="You can reshape your mind blade any time you form it" uniqueness="useronce">
    <usesource source="pPsiUn"/>
    <tag group="SpecSource" tag="cHelpSkn"/>
    <tag group="abCategory" tag="PUBladeSk"/>
    <tag group="NotClExpr" tag="cHelpPUA"/>
    </thing>
  <thing id="cSknBSBlds" name="Bladestorm" description="As a full attack, when wielding her mind blade, the soulknife can give up her regular attacks and instead throw one mind blade at her full attack bonus at all opponents within 30 feet, ignoring the normal range increments for throwing a mind blade. Regardless of the number of attacks she makes, she only provokes attacks of opportunity as though she made a single ranged attack. The soulknife must possess the Bladewind blade skill to take this ability, this ability may not be used if the mind blade is in a two-handed weapon form, and the soulknife must be at least 16th level to choose this blade skill." compset="CustomSpec" uniqueness="unique">
    <usesource source="pPsiUn"/>
    <tag group="Helper" tag="NoPathSoc"/>
    <tag group="SpecSource" tag="cHelpSkn"/>
    <tag group="abCategory" tag="PUBladeSk"/>
    <tag group="NotClExpr" tag="cHelpPUA"/>
    <prereq message="Soulknife Level 16+ required">
      <validate><![CDATA[        var classcheck as string
        var levels as number

        classcheck = "Soulknife"

        call PUPreReqs

        validif (levels >= 16)]]></validate>
      </prereq>
    </thing>
  <thing id="cSknBSBldw" name="Bladewind" description="The soulknife gains the ability to momentarily fragment her mind blade into numerous identical blades, each of which strikes at a nearby opponent.\n\nAs a full attack, when wielding her mind blade, a soulknife can give up her regular attacks and instead fragment her mind blade to make one melee attack at her full base attack bonus against each opponent within reach. Each fragment functions identically to the soulknife&apos;s regular mind blade.\n\nWhen using bladewind, the soulknife can choose to expend her psychic strike if an attack miss to reroll that attack, but none of the bladewind attacks deal any extra damage from psychic strike.\n\nWhen using bladewind, a soulknife forfeits any bonus or extra attacks granted by other feats or abilities (such as Cleave or haste). The mind blade immediately reverts to its previous form after the bladewind attack. A soulknife must be at least 8th level to choose this blade skill." compset="CustomSpec" uniqueness="unique">
    <usesource source="pPsiUn"/>
    <tag group="Helper" tag="NoPathSoc"/>
    <tag group="SpecSource" tag="cHelpSkn"/>
    <tag group="abCategory" tag="PUBladeSk"/>
    <tag group="NotClExpr" tag="cHelpPUA"/>
    <prereq message="Soulknife Level 8+ required">
      <validate><![CDATA[        var classcheck as string
        var levels as number

        classcheck = "Soulknife"

        call PUPreReqs

        validif (levels >= 8)]]></validate>
      </prereq>
    </thing>
  <thing id="cSknBSCbtS" name="Combat Slide" description="Upon successfully striking an enemy in melee, the soulknife may immediately make a 5-foot step (even if she&apos;s already moved in the round, but not if she&apos;s taken a 5-foot step). In addition, when someone misses the soulknife with a melee attack, she may spend an immediate action to take a 5-foot step." compset="CustomSpec" uniqueness="unique">
    <usesource source="pPsiUn"/>
    <tag group="Helper" tag="NoPathSoc"/>
    <tag group="SpecSource" tag="cHelpSkn"/>
    <tag group="abCategory" tag="PUBladeSk"/>
    </thing>
  <thing id="cSknBSDead" name="Deadly Blow" description="The soulknife&apos;s mind blade critical multiplier increases by 1. A soulknife must be at least 10th level to choose this blade skill." compset="CustomSpec" uniqueness="unique">
    <usesource source="pPsiUn"/>
    <tag group="Helper" tag="NoPathSoc"/>
    <tag group="SpecSource" tag="cHelpSkn"/>
    <tag group="abCategory" tag="PUBladeSk"/>
    <eval phase="PreLevel" priority="5000"><![CDATA[
      var nCrit as number
      var sCrit as string

      ~ Loop through all the mindblade weapons
      foreach pick in hero from BaseWep where "IsWeapon.wMindBlade"
         ~ Get the current crit multiplier value
         nCrit = eachpick.tagvalue[wCritMult.?]
         ~ Remove all current crit multiplier tags
         perform eachpick.delete[wCritMult.?]
         ~ Calc new crit multiplier as a string
         sCrit = decimals(nCrit+1,0)
         ~ set the new tag on the hero
         perform eachpick.assignstr["wCritMult." & sCrit]
      nexteach]]></eval>
    <prereq message="Soulknife Level 10+ required">
      <validate><![CDATA[        var classcheck as string
        var levels as number

        classcheck = "Soulknife"

        call PUPreReqs

        validif (levels >= 10)]]></validate>
      </prereq>
    </thing>
  <thing id="cSknBSDua" name="Dual Imbue" description="When utilizing multiple mind blades, the soulknife may charge both blades with her psychic strike ability at the same time (including when expending her focus to charge her psychic strike). However, her psychic strike damage is reduced by 1d8 when using this option. Damage remains normal when each weapon is charged separately." compset="CustomSpec" uniqueness="unique">
    <usesource source="pPsiUn"/>
    <tag group="Helper" tag="NoPathSoc"/>
    <tag group="SpecSource" tag="cHelpSkn"/>
    <tag group="abCategory" tag="PUBladeSk"/>
    <tag group="NotClExpr" tag="cHelpPUA"/>
    </thing>
  <thing id="cSknBSEnR" name="Enhanced Range" description="The soulknife&apos;s range increment when throwing her mind blade in any form doubles." compset="CustomSpec" uniqueness="unique">
    <usesource source="pPsiUn"/>
    <tag group="Helper" tag="NoPathSoc"/>
    <tag group="SpecSource" tag="cHelpSkn"/>
    <tag group="abCategory" tag="PUBladeSk"/>
    </thing>
  <thing id="cSknBSExC" name="Exploding Critical" description="When a soulknife confirms a critical hit, she can expend her psionic focus to deal her psychic strike damage, even if her mind blade was not charged with psychic strike, and even if she already dealt psychic strike on the attack. A soulknife must be at least 12th level to choose this blade skill." compset="CustomSpec" uniqueness="unique">
    <usesource source="pPsiUn"/>
    <tag group="Helper" tag="NoPathSoc"/>
    <tag group="SpecSource" tag="cHelpSkn"/>
    <tag group="abCategory" tag="PUBladeSk"/>
    <tag group="abAction" tag="PUExpFocus"/>
    <prereq message="Soulknife Level 12+ required">
      <validate><![CDATA[        var classcheck as string
        var levels as number

        classcheck = "Soulknife"

        call PUPreReqs

        validif (levels >= 12)]]></validate>
      </prereq>
    </thing>
  <thing id="cSknBSExS" name="Extended Strike" description="A soulknife may, as a standard action, make a single attack as if her reach was 5&apos; longer. This blade skill may be combined with the twin strike blade skill. A soulknife must be at least 12th level to choose this blade skill." compset="CustomSpec" uniqueness="useronce">
    <usesource source="pPsiUn"/>
    <tag group="SpecSource" tag="cHelpSkn"/>
    <tag group="abCategory" tag="PUBladeSk"/>
    <tag group="NotClExpr" tag="cHelpPUA"/>
    <tag group="abAction" tag="Standard"/>
    <prereq message="Soulknife Level 12+ required">
      <validate><![CDATA[        var classcheck as string
        var levels as number

        classcheck = "Soulknife"

        call PUPreReqs

        validif (levels >= 12)]]></validate>
      </prereq>
    </thing>
  <thing id="cSknBSFluF" name="Fluid Form" description="The soulknife may expend her psychic strike as a swift action, but deal no psychic strike damage, to make a minor modification to her mind blade. She may remove up to one weapon special ability (if any) from her mind blade&apos;s configuration, and add the ability&apos;s value to the mind blade&apos;s enhancement bonus. She may also add up to one weapon special ability to her mind blade&apos;s configuration, and subtract the ability&apos;s value from the mind blade&apos;s enhancement bonus. Once she had made either or both of these changes, the mind blade suffers a -1 penalty to its enhancement bonus; this penalty is cumulative with each time this blade skill is used, and lasts until the soulknife rests for 8 hours or spends 8 hours in concentration to reconfigure her mind blade. This blade skill may not be used if this would reduce the mind blade&apos;s enhancement bonus below +1, or if the final enhancement bonus would be above the soulknife&apos;s maximum." compset="CustomSpec" uniqueness="unique">
    <usesource source="pPsiUn"/>
    <tag group="Helper" tag="NoPathSoc"/>
    <tag group="SpecSource" tag="cHelpSkn"/>
    <tag group="abCategory" tag="PUBladeSk"/>
    </thing>
  <thing id="cSknBSFlFI" name="Fluid Form, Improved" description="When the soulknife uses the Fluid Form blade skill, she may change all of her mind blade&apos;s weapon special abilities simultaneously. The mind blade still suffers a cumulative -1 penalty to its enhancement bonus when the Fluid Form blade skill is used. A soulknife must have the Fluid Form blade skill to choose this blade skill." compset="CustomSpec" uniqueness="unique">
    <usesource source="pPsiUn"/>
    <tag group="Helper" tag="NoPathSoc"/>
    <tag group="SpecSource" tag="cHelpSkn"/>
    <tag group="abCategory" tag="PUBladeSk"/>
    <exprreq message="Fluid Form Blade Skill required."><![CDATA[#hasability[cSknBSFluF] <> 0]]></exprreq>
    </thing>
  <thing id="cSknBSFull" name="Full Enhancement" description="When forming her mind blade into multiple items, the soulknife suffers no reduction in enhancement bonus." compset="CustomSpec" uniqueness="unique">
    <usesource source="pPsiUn"/>
    <tag group="Helper" tag="NoPathSoc"/>
    <tag group="SpecSource" tag="cHelpSkn"/>
    <tag group="abCategory" tag="PUBladeSk"/>
    </thing>
  <thing id="cSknBSFurC" name="Furious Charge" description="A soulknife with this ability deals an additional 2 points of damage on every attack made at the end of a charge. The increased damage is only 1 per attack for off-hand attacks, but becomes 3 per attack when using the two-handed form of the mind blade." compset="CustomSpec" uniqueness="useronce">
    <usesource source="pPsiUn"/>
    <tag group="SpecSource" tag="cHelpSkn"/>
    <tag group="abCategory" tag="PUBladeSk"/>
    <tag group="NotClExpr" tag="cHelpPUA"/>
    </thing>
  <thing id="cSknBSFuCI" name="Furious Charge, Improved" description="A soulknife with this ability can expend her psychic strike while making a charge to make an additional attack with her main hand, albeit at a -5 penalty on the attack roll, at the end of a charge action. If the soulknife is wielding two mind blades and has the Twin Strike blade skill, she may instead make an additional attack with each mind blade, but each of these additional attacks suffers a -5 penalty on the attack roll in addition to the penalties for attacking with two weapons. The soulknife does not apply the expended psychic strike&apos;s damage to her attacks. The soulknife may only gain the benefit of this blade skill once on any charge. The soulknife must have the Furious Charge blade skill and be at least 8th level to choose this blade skill." compset="CustomSpec" uniqueness="useronce">
    <usesource source="pPsiUn"/>
    <tag group="SpecSource" tag="cHelpSkn"/>
    <tag group="abCategory" tag="PUBladeSk"/>
    <tag group="NotClExpr" tag="cHelpPUA"/>
    <exprreq message="Furious Charge Blade Skill required."><![CDATA[#hasability[cSknBSFurC] <> 0]]></exprreq>
    <prereq message="Soulknife Level 8+ required">
      <validate><![CDATA[        var classcheck as string
        var levels as number

        classcheck = "Soulknife"

        call PUPreReqs

        validif (levels >= 8)]]></validate>
      </prereq>
    </thing>
  <thing id="cSknBSGruR" name="Gruesome Riposte" description="The soulknife may expend her psionic focus as an immediate action to attack an enemy who has successfully struck her in melee. This attack is assumed to happen after the successful attack, so she cannot use this ability if the attack would put her below 0 hit points, nor does dropping her enemy below 0 hit points prevent the attack from hitting. A soulknife must be at least 10th level to choose this blade skill." compset="CustomSpec" uniqueness="useronce">
    <usesource source="pPsiUn"/>
    <tag group="SpecSource" tag="cHelpSkn"/>
    <tag group="abCategory" tag="PUBladeSk"/>
    <tag group="NotClExpr" tag="cHelpPUA"/>
    <tag group="abAction" tag="PUExpFocus"/>
    <tag group="abAction" tag="Immediate"/>
    <prereq message="Soulknife Level 10+ required">
      <validate><![CDATA[        var classcheck as string
        var levels as number

        classcheck = "Soulknife"

        call PUPreReqs

        validif (levels >= 10)]]></validate>
      </prereq>
    </thing>
  <thing id="cSknBSImpE" name="Improved Enhancement" description="The soulknife&apos;s enhancement bonus on her mind blade increases by 1. This increase may be used to increase the actual enhancement bonus of the mind blade (to a maximum of +5) or be spent on weapon special abilities, as normal. A soulknife must be at least 12th level to choose this blade skill." compset="CustomSpec" uniqueness="unique">
    <usesource source="pPsiUn"/>
    <tag group="Helper" tag="NoPathSoc"/>
    <tag group="SpecSource" tag="cHelpSkn"/>
    <tag group="abCategory" tag="PUBladeSk"/>
    <prereq message="Soulknife Level 12+ required">
      <validate><![CDATA[        var classcheck as string
        var levels as number

        classcheck = "Soulknife"

        call PUPreReqs

        validif (levels >= 12)]]></validate>
      </prereq>
    </thing>
  <thing id="cSknBSKniS" name="Knife to the Soul" description="The soulknife gains the knife to the soul ability. When a soulknife with knife to the soul executes a psychic strike, she can choose to substitute Intelligence, Wisdom, or Charisma damage (her choice) for extra dice of damage. For each die of extra damage she gives up, she deals 1 point of damage to the ability score she chooses. A soulknife can combine extra dice of damage and ability damage in any combination, so long as no more than half of the soulknife&apos;s extra dice of damage are converted to ability damage. Knife to the soul may only be used once per round.\n\nUnlike the base psychic strike ability, knife to the soul is entirely reliant on the creature&apos;s mind, and cannot be used on creatures immune to mind-affecting abilities. The soulknife decides which ability score her psychic strike damages and the division of ability damage and extra dice of damage when she imbues her mind blade with the psychic strike energy. A soulknife must be at least 12th level to choose this blade skill." compset="CustomSpec" uniqueness="unique">
    <usesource source="pPsiUn"/>
    <tag group="Helper" tag="NoPathSoc"/>
    <tag group="SpecSource" tag="cHelpSkn"/>
    <tag group="abCategory" tag="PUBladeSk"/>
    <prereq message="Soulknife Level 12+ required">
      <validate><![CDATA[        var classcheck as string
        var levels as number

        classcheck = "Soulknife"

        call PUPreReqs

        validif (levels >= 12)]]></validate>
      </prereq>
    </thing>
  <thing id="cSknBSMDag" name="Mind Daggers" description="The soulknife may form one or a pair of mind daggers in place of her normal forms. Mind daggers have a range increment of 30 ft when thrown, deal 1d4 points of damage (type assigned in the same manner as other forms) and have a critical range of 19-20/x2. She may switch between mind daggers and her chosen blade form at will as a free action, including in the middle of full attacks, and it can be done more than once per round (this is an exception to the full-round action normally required to shape a mind blade). She cannot switch between the daggers and the two-handed mind blade form unless only forming a single dagger. Mind daggers have the same enhancement configuration as the soulknife&apos;s current mind blade configuration." compset="CustomSpec" summary="The soulknife may form one or a pair of mind daggers in place of her normal forms" uniqueness="useronce">
    <usesource source="pPsiUn"/>
    <tag group="Helper" tag="NoPathSoc"/>
    <tag group="SpecSource" tag="cHelpSkn"/>
    <tag group="abCategory" tag="PUBladeSk"/>
    <bootstrap thing="zPUMndBld5"></bootstrap>
    <bootstrap thing="iPUMndDagg">
      <containerreq phase="First" priority="99">hero#MindBlade.Dagger</containerreq>
      </bootstrap>
    <bootstrap thing="iPUMndDagg">
      <containerreq phase="First" priority="99">hero#MindBlade.Dagger</containerreq>
      </bootstrap>
    </thing>
  <thing id="cSknBSMShl" name="Mind Shield" description="Mind Shield: The soulknife gains a +2 shield bonus to armor class, as long as she has a hand free." compset="CustomSpec" uniqueness="unique">
    <fieldval field="abValue" value="2"/>
    <usesource source="pPsiUn"/>
    <tag group="SpecSource" tag="cHelpSkn"/>
    <tag group="abCategory" tag="PUBladeSk"/>
    <tag group="Helper" tag="NoPathSoc"/>
    <eval phase="PostAttr" priority="1000"><![CDATA[doneif (hero.child[cSknMindBl].field[usrChosen1].ischosen = 0)

~if (hero.childexists[wMndBld2H] = 0) then
if (hero.childlives[wMndBld2H] <> 0) then
  if (hero.child[wMndBld2H].field[gIsEquip].value = 0) then
    ~ Apply our AC bonus to all our armor scores
    #applybonus[tACShield, hero.child[ArmorClass], field[abValue].value]
    endif
else
  ~ Apply our AC bonus to all our armor scores
    #applybonus[tACShield, hero.child[ArmorClass], field[abValue].value]
  endif]]></eval>
    </thing>
  <thing id="cSknBSMulT" name="Multiple Throw" description="The soulknife can throw a number of mind blades per round equal to the number of melee attacks she could make. A soulknife must be at least 14th level to choose this blade skill." compset="CustomSpec" uniqueness="useronce">
    <usesource source="pPsiUn"/>
    <tag group="SpecSource" tag="cHelpSkn"/>
    <tag group="abCategory" tag="PUBladeSk"/>
    <tag group="NotClExpr" tag="cHelpPUA"/>
    <prereq message="Soulknife Level 14+ required">
      <validate><![CDATA[        var classcheck as string
        var levels as number

        classcheck = "Soulknife"

        call PUPreReqs

        validif (levels >= 8)]]></validate>
      </prereq>
    </thing>
  <thing id="cSknBSPowS" name="Powerful Strike" description="The soulknife&apos;s psychic strike deals an additional 1d8 damage." compset="CustomSpec" uniqueness="unique">
    <usesource source="pPsiUn"/>
    <tag group="Helper" tag="NoPathSoc"/>
    <tag group="SpecSource" tag="cHelpSkn"/>
    <tag group="abCategory" tag="PUBladeSk"/>
    <eval phase="PostLevel" priority="9999">hero.child[cSknPsyStr].field[abValue].value += 1</eval>
    </thing>
  <thing id="cSknBSReaB" name="Reaching Blade" description="The soulknife may expend her focus to increase her reach with her mind blade by 5 feet until the start of her next turn. Unlike normal reach weapons, a soulknife may also attack adjacent opponents with her mind blade. A soulknife must be at least 8th level to choose this blade skill." compset="CustomSpec" uniqueness="useronce">
    <usesource source="pPsiUn"/>
    <tag group="SpecSource" tag="cHelpSkn"/>
    <tag group="abCategory" tag="PUBladeSk"/>
    <tag group="NotClExpr" tag="cHelpPUA"/>
    <tag group="abAction" tag="PUExpFocus"/>
    <prereq message="Soulknife Level 8+ required">
      <validate><![CDATA[        var classcheck as string
        var levels as number

        classcheck = "Soulknife"

        call PUPreReqs

        validif (levels >= 8)]]></validate>
      </prereq>
    </thing>
  <thing id="cSknBSReap" name="Reaper&apos;s Blade" description="A soulknife with this ability automatically recharges her psychic strike ability if she reduces an enemy&apos;s hit points to below 0 with a melee attack using her mind blade. If her blade was already charged, her next psychic strike deals 1.5 times the damage rolled. A soulknife must be at least 10th level to choose this blade skill." compset="CustomSpec" uniqueness="unique">
    <usesource source="pPsiUn"/>
    <tag group="Helper" tag="NoPathSoc"/>
    <tag group="SpecSource" tag="cHelpSkn"/>
    <tag group="abCategory" tag="PUBladeSk"/>
    <prereq message="Soulknife Level 10+ required">
      <validate><![CDATA[        var classcheck as string
        var levels as number

        classcheck = "Soulknife"

        call PUPreReqs

        validif (levels >= 8)]]></validate>
      </prereq>
    </thing>
  <thing id="cSknBSRend" name="Rending Blades" description="Hooks extend from the soulknife&apos;s mind blade, dealing an additional 1d6 bleed damage on a critical hit, and giving a competence bonus on Climb checks equal to the enhancement bonus of the mind blade." compset="CustomSpec" uniqueness="useronce">
    <usesource source="pPsiUn"/>
    <tag group="SpecSource" tag="cHelpSkn"/>
    <tag group="abCategory" tag="PUBladeSk"/>
    <tag group="NotClExpr" tag="cHelpPUA"/>
    </thing>
  <thing id="cSknBSTop" name="Toppling Strike" description="If the soulknife&apos;s mind blade has the Trip special feature, she may use it to make a single attack at her full base attack bonus as a standard action. If the attack hits, it deals damage normally and the soulknife can make a free trip attack (using her full base attack bonus) against the same foe. She does not provoke an attack of opportunity for this trip attempt. A soulknife must have the Weapon Special blade skill before selecting this blade skill." compset="CustomSpec" uniqueness="unique">
    <usesource source="pPsiUn"/>
    <tag group="Helper" tag="NoPathSoc"/>
    <tag group="SpecSource" tag="cHelpSkn"/>
    <tag group="abCategory" tag="PUBladeSk"/>
    <exprreq message="Weapon Special Blade Skill required."><![CDATA[#hasability[cSknBSWepS] <> 0]]></exprreq>
    </thing>
  <thing id="cSknBSTopI" name="Toppling Strike, Improved" description="If the soulknife&apos;s mind blade has the Trip special feature, she may use it to make a single attack at her full base attack bonus as a standard action. If the attack hits, it deals damage normally and the soulknife can make a free trip attack (using her full base attack bonus) against the same foe. If she successfully trips that foe, she may make an additional trip attack (using her full base attack bonus) against another foe within reach and adjacent to the first foe. As long as she successfully trips her foe, she may continue to make trip attempts against foes adjacent to the previous foe, so long as they are within her reach. She does not provoke attacks of opportunity for these trip attempts. A soulknife must have the Toppling Strike and Weapon Special blade skills before selecting this blade skill." compset="CustomSpec" uniqueness="unique">
    <usesource source="pPsiUn"/>
    <tag group="Helper" tag="NoPathSoc"/>
    <tag group="SpecSource" tag="cHelpSkn"/>
    <tag group="abCategory" tag="PUBladeSk"/>
    <exprreq message="Toppling Strike Blade Skill required."><![CDATA[#hasability[cSknBSTop] <> 0]]></exprreq>
    <exprreq message="Weapon Special Blade Skill required."><![CDATA[#hasability[cSknBSWepS] <> 0]]></exprreq>
    </thing>
  <thing id="cSknBSTrad" name="Trade Blows" description="When the soulknife uses the total defense action, she may make a melee attack at her normal attack bonus on anyone that makes a melee attack against her, regardless of whether the opponent&apos;s attack hits. This attack is resolved immediately after the opponent&apos;s attack. The soulknife may make one such attack for each attack made against her. If multiple opponents attack the soulknife, each attack she makes must be against the enemy that triggered it. All such attacks are made with a -4 penalty on the attack roll, and are an exception to the rule that you cannot attack during the total defense action. A soulknife must be at least 10th level to choose this blade skill." compset="CustomSpec" uniqueness="useronce">
    <usesource source="pPsiUn"/>
    <tag group="SpecSource" tag="cHelpSkn"/>
    <tag group="abCategory" tag="PUBladeSk"/>
    <tag group="NotClExpr" tag="cHelpPUA"/>
    <prereq message="Soulknife Level 10+ required">
      <validate><![CDATA[        var classcheck as string
        var levels as number

        classcheck = "Soulknife"

        call PUPreReqs

        validif (levels >= 10)]]></validate>
      </prereq>
    </thing>
  <thing id="cSknBSTwin" name="Twin Strike" description="When making a single standard attack and wielding two mind blades, the soulknife may attack with both of her mind blades at the normal penalties for two-weapon fighting. She may also utilize this ability when making attacks of opportunity, but not for any other special attacks, unless specifically stated otherwise. The soulknife must be at least 8th level to choose this blade skill." compset="CustomSpec" uniqueness="useronce">
    <usesource source="pPsiUn"/>
    <tag group="SpecSource" tag="cHelpSkn"/>
    <tag group="abCategory" tag="PUBladeSk"/>
    <tag group="NotClExpr" tag="cHelpPUA"/>
    <prereq message="Soulknife Level 8+ required">
      <validate><![CDATA[        var classcheck as string
        var levels as number

        classcheck = "Soulknife"

        call PUPreReqs

        validif (levels >= 8)]]></validate>
      </prereq>
    </thing>
  <thing id="cSknBS2HTr" name="Two-Handed Throw" description="The soulknife gains the ability to throw her mind blade if it is in two-handed form, with a range increment of 10 ft." compset="CustomSpec" summary="2H mindblade has 10ft range increment." uniqueness="useronce">
    <usesource source="pPsiUn"/>
    <tag group="SpecSource" tag="cHelpSkn"/>
    <tag group="abCategory" tag="PUBladeSk"/>
    <tag group="NotClExpr" tag="cHelpPUA"/>
    <eval phase="PreLevel" priority="10000"><![CDATA[
~ If 2H mindblade not live get out now!
doneif (hero.childlives[iPUMndBl2H] <> 1)

~ Give two-handed mindblade 10ft throw range
perform hero.childfound[iPUMndBl2H].assign[wRangeInc.10]
perform hero.childfound[iPUMndBl2H].assign[wCategory.RangeThrow]]]></eval>
    </thing>
  <thing id="cSknBSWepS" name="Weapon Special" description="The soulknife may assign one of the following specials to her mind blade when she shapes her mind blade: brace, trip, or disarm. She may change the assigned ability by reshaping her mind blade. This blade skill may be taken more than once, allowing the soulknife to assign multiple abilities at once." compset="CustomSpec" uniqueness="unique">
    <usesource source="pPsiUn"/>
    <tag group="Helper" tag="NoPathSoc"/>
    <tag group="SpecSource" tag="cHelpSkn"/>
    <tag group="abCategory" tag="PUBladeSk"/>
    </thing>
  <thing id="cSknBSWing" name="Wing Clip" description="As a standard action, the soulknife may make a single melee attack against a single creature. If she hits, instead of dealing damage, the vibrations in her mind blade damages the creature&apos;s ability to move, rendering it unable to move for a number of rounds equal to the soulknife&apos;s Strength modifier (minimum 1). A successful Fortitude save negates the effect. The DC of this save is 10 + the soulknife&apos;s base attack bonus." compset="CustomSpec" uniqueness="unique">
    <usesource source="pPsiUn"/>
    <tag group="Helper" tag="NoPathSoc"/>
    <tag group="SpecSource" tag="cHelpSkn"/>
    <tag group="abCategory" tag="PUBladeSk"/>
    <tag group="StandardDC" tag="BAB"/>
    <tag group="abSave" tag="FortNeg"/>
    </thing>
  <thing id="cSknEnhMB" name="Enhanced Mind Blade" description="A soulknife&apos;s mind blade improves as the character gains higher levels. At 3rd level and every odd level thereafter, the mind blade gains a cumulative +1 enhancement bonus that he may spend on an actual enhancement bonus or on weapon special abilities. A soulknife&apos;s level determines his maximum enhancement bonus (see Table 2-8: The Soulknife). The soulknife may (and must, when his total enhancement is higher than his maximum bonus) apply any special ability from the table below instead of an enhancement bonus, as long as he meets the level requirements. A soulknife can choose any combination of weapon special abilities and/or enhancement bonus that does not exceed the total allowed by the soulknife&apos;s level, but he must assign at least a +1 enhancement bonus before assigning any special abilities.\n\nIf the soulknife shapes his mind blade into two items, the enhancement bonus of his mind blade (if any) is reduced by 1 (to a minimum of 0). If this would reduce the enhancement bonus on the mind blades to 0 and weapon special abilities are applied, the soulknife must reshape his mind blade to make the options valid. Both mind blades have the same selection of enhancement bonus and weapon special abilities (if any). This penalty does not apply when using the Mind Shield blade skill.\n\n{b}Note:{/b} To ehance your mind blade go to the {b}Weapons{/b} tab and click on the &quot;Wrench/Hammer&quot; icon.  Then you can make it a +1 mindblade or a +1 Flaming mindblade.  Currently the scripts will not error check if you increase the bonus past what you should be allowed or take a invalid item power.  This will come in a future update." compset="ClSpecial" summary="You can enhance your mind blade with extra power.">
    <tag group="SpecType" tag="Attack"/>
    <tag group="AbilType" tag="Super"/>
    <eval phase="Final" priority="10000"><![CDATA[
      ~ Set the list name
      field[listname].text = field[thingname].text & " " & signed(field[xIndex].value)

      ~ If we're not shown, just get out now
      doneif (tagis[Helper.ShowSpec] <> 1)
      ~ if we've been disabled, get out now
      doneif (tagis[Helper.SpcDisable] <> 0)

      field[abValue].value += field[xCount].value
      field[livename].text = field[thingname].text & " " & signed(field[abValue].value)
      field[abSumm].text = "You can enhance your Mind Blade with a total enhancement bonus of +" & field[abValue].value & "."]]></eval>
    </thing>
  <thing id="cSknMBMas" name="Mind Blade Mastery" description="At 20th level, a soulknife reaches the pinnacle of her art and her connection to her blade is so strong it cannot be severed. She no longer requires a Will save to maintain her mind blade in a null psionics field, although it still loses any enhancement bonus and special abilities. In addition, she may change the configurations of her mind blade&apos;s special abilities at will as a fullround action, which also resets any penalties that may have accrued from the Fluid Form and Improved Fluid Form blade skills." compset="ClSpecial">
    <tag group="SpecType" tag="Attack" name="Attack" abbrev="Attack"/>
    <tag group="Helper" tag="UseOwnLev" name="UseOwnLev" abbrev="UseOwnLev"/>
    <tag group="AbilType" tag="Super"/>
    </thing>
  <thing id="cSknQuiDra" name="Quick Draw" description="A 5th level soulknife may manifest her mind blade as a free action, though she may still only attempt to do so once per round (unless throwing the weapon multiple times using the Multiple Throw blade skill)." compset="ClSpecial" summary="You can manifest your Mind Blade as a free action.">
    <tag group="SpecType" tag="Attack" name="Attack" abbrev="Attack"/>
    <tag group="Helper" tag="UseOwnLev" name="UseOwnLev" abbrev="UseOwnLev"/>
    <tag group="AbilType" tag="Super"/>
    </thing>
  <thing id="cHelpWld" name="Wilder" compset="Class" uniqueness="unique">
    <fieldval field="cAbbr" value="Wld"/>
    <fieldval field="cHDSides" value="8"/>
    <fieldval field="cSkills" value="4"/>
    <fieldval field="cSpecSing" value="Surge Type"/>
    <fieldval field="cPsiSPowNm" value="Talent"/>
    <fieldval field="cPsiSPowMa" value="1"/>
    <fieldval field="srcPageNum" value="75"/>
    <fieldval field="srcBookInf" value="Ultimate Psionics"/>
    <fieldval field="cSCRNumDce" value="4"/>
    <fieldval field="cSCRDceSiz" value="4"/>
    <fieldval field="cSCRMult" value="10"/>
    <arrayval field="cPsiLevTot" index="8" value="4"/>
    <arrayval field="cPsiLevTot" index="9" value="5"/>
    <arrayval field="cPsiLevTot" index="10" value="5"/>
    <arrayval field="cPsiLevTot" index="11" value="6"/>
    <arrayval field="cPsiLevTot" index="12" value="6"/>
    <arrayval field="cPsiLevTot" index="13" value="7"/>
    <arrayval field="cPsiLevTot" index="14" value="7"/>
    <arrayval field="cPsiLevTot" index="15" value="8"/>
    <arrayval field="cPsiLevTot" index="16" value="8"/>
    <arrayval field="cPsiLevTot" index="17" value="9"/>
    <arrayval field="cPsiLevTot" index="18" value="9"/>
    <arrayval field="cPsiLevTot" index="19" value="9"/>
    <arrayval field="cPsiPPTot" index="0" value="2"/>
    <arrayval field="cPsiPPTot" index="1" value="6"/>
    <arrayval field="cPsiPPTot" index="2" value="11"/>
    <arrayval field="cPsiPPTot" index="3" value="17"/>
    <arrayval field="cPsiPPTot" index="4" value="25"/>
    <arrayval field="cPsiPPTot" index="5" value="35"/>
    <arrayval field="cPsiPPTot" index="6" value="46"/>
    <arrayval field="cPsiPPTot" index="7" value="58"/>
    <arrayval field="cPsiPPTot" index="8" value="72"/>
    <arrayval field="cPsiPPTot" index="9" value="88"/>
    <arrayval field="cPsiPPTot" index="10" value="106"/>
    <arrayval field="cPsiPPTot" index="11" value="126"/>
    <arrayval field="cPsiPPTot" index="12" value="147"/>
    <arrayval field="cPsiPPTot" index="13" value="170"/>
    <arrayval field="cPsiPPTot" index="14" value="195"/>
    <arrayval field="cPsiPPTot" index="15" value="221"/>
    <arrayval field="cPsiPPTot" index="16" value="250"/>
    <arrayval field="cPsiPPTot" index="17" value="280"/>
    <arrayval field="cPsiPPTot" index="18" value="311"/>
    <arrayval field="cPsiPPTot" index="19" value="343"/>
    <arrayval field="cPsiPowTot" index="0" value="1"/>
    <arrayval field="cPsiPowTot" index="1" value="2"/>
    <arrayval field="cPsiPowTot" index="2" value="2"/>
    <arrayval field="cPsiPowTot" index="3" value="3"/>
    <arrayval field="cPsiPowTot" index="4" value="3"/>
    <arrayval field="cPsiPowTot" index="5" value="4"/>
    <arrayval field="cPsiPowTot" index="6" value="4"/>
    <arrayval field="cPsiPowTot" index="7" value="5"/>
    <arrayval field="cPsiPowTot" index="8" value="5"/>
    <arrayval field="cPsiPowTot" index="9" value="6"/>
    <arrayval field="cPsiPowTot" index="10" value="6"/>
    <arrayval field="cPsiPowTot" index="11" value="7"/>
    <arrayval field="cPsiPowTot" index="12" value="7"/>
    <arrayval field="cPsiPowTot" index="13" value="8"/>
    <arrayval field="cPsiPowTot" index="14" value="8"/>
    <arrayval field="cPsiPowTot" index="15" value="9"/>
    <arrayval field="cPsiPowTot" index="16" value="9"/>
    <arrayval field="cPsiPowTot" index="17" value="10"/>
    <arrayval field="cPsiPowTot" index="18" value="10"/>
    <arrayval field="cPsiPowTot" index="19" value="11"/>
    <arrayval field="cPsiLevTot" index="0" value="1"/>
    <arrayval field="cPsiLevTot" index="1" value="1"/>
    <arrayval field="cPsiLevTot" index="2" value="1"/>
    <arrayval field="cCustTot" index="0" value="1"/>
    <arrayval field="cPsiLevTot" index="3" value="2"/>
    <arrayval field="cPsiLevTot" index="4" value="2"/>
    <arrayval field="cPsiLevTot" index="5" value="3"/>
    <arrayval field="cPsiLevTot" index="6" value="3"/>
    <arrayval field="cPsiLevTot" index="7" value="4"/>
    <usesource source="pPsiUn"/>
    <tag group="ClassSkill" tag="skPercep"/>
    <tag group="ClassSkill" tag="skSenseMot"/>
    <tag group="ClassSkill" tag="skSwim"/>
    <tag group="ClassSkill" tag="skUseMagic"/>
    <tag group="cAttack" tag="Medium"/>
    <tag group="AgeColumn" tag="1"/>
    <tag group="ClassSkill" tag="Craft" name="All Craft Skills" abbrev="All Craft Skills"/>
    <tag group="ClassSkill" tag="Profession" name="All Profession Skills" abbrev="All Profession Skills"/>
    <tag group="ClassSkill" tag="skPUAhypno" name="Autohypnosis" abbrev="Autohypnosis"/>
    <tag group="ClassSkill" tag="skSpellcr" name="Spellcraft" abbrev="Spellcraft"/>
    <tag group="Classes" tag="Wilder" name="Wilder" abbrev="Wizard"/>
    <tag group="cFort" tag="Poor" name="Slow" abbrev="Slow"/>
    <tag group="cWill" tag="Good" name="Fast" abbrev="Fast"/>
    <tag group="cRef" tag="Poor" name="Slow" abbrev="Slow"/>
    <tag group="ClassSkill" tag="skAcrobat"/>
    <tag group="ClassSkill" tag="skBluff"/>
    <tag group="ClassSkill" tag="skDiplo"/>
    <tag group="ClassSkill" tag="skClimb"/>
    <tag group="ProductId" tag="HLCommunit"/>
    <tag group="ClassSkill" tag="skPUKnwPsi"/>
    <tag group="ClassSkill" tag="skEscape"/>
    <tag group="ClassSkill" tag="skIntim"/>
    <bootstrap thing="cWldWildSu">
      <autotag group="ClSpecWhen" tag="3"/>
      </bootstrap>
    <bootstrap thing="cWldWildSu">
      <autotag group="ClSpecWhen" tag="7"/>
      </bootstrap>
    <bootstrap thing="cWldWildSu">
      <autotag group="ClSpecWhen" tag="11"/>
      </bootstrap>
    <bootstrap thing="cWldWildSu">
      <autotag group="ClSpecWhen" tag="15"/>
      </bootstrap>
    <bootstrap thing="cWldWildSu">
      <autotag group="ClSpecWhen" tag="19"/>
      </bootstrap>
    <bootstrap thing="cWldImpSur">
      <autotag group="ClSpecWhen" tag="5"/>
      </bootstrap>
    <bootstrap thing="cWldImpSur">
      <autotag group="ClSpecWhen" tag="9"/>
      </bootstrap>
    <bootstrap thing="cWldImpSur">
      <autotag group="ClSpecWhen" tag="13"/>
      </bootstrap>
    <bootstrap thing="fArmLight"></bootstrap>
    <bootstrap thing="fArmShield"></bootstrap>
    <bootstrap thing="fSimple"></bootstrap>
    <bootstrap thing="cWldPsyEne">
      <autotag group="ClSpecWhen" tag="1"/>
      </bootstrap>
    <bootstrap thing="cWldWildSu">
      <autotag group="ClSpecWhen" tag="1"/>
      </bootstrap>
    <bootstrap thing="cWldSurBnd">
      <autotag group="ClSpecWhen" tag="1"/>
      </bootstrap>
    <bootstrap thing="cWldElude">
      <autotag group="ClSpecWhen" tag="10"/>
      </bootstrap>
    <bootstrap thing="cWldElude">
      <autotag group="ClSpecWhen" tag="14"/>
      </bootstrap>
    <bootstrap thing="cWldElude">
      <autotag group="ClSpecWhen" tag="18"/>
      </bootstrap>
    <bootstrap thing="cWldImpSur">
      <autotag group="ClSpecWhen" tag="17"/>
      </bootstrap>
    <bootstrap thing="cWldPerSur">
      <autotag group="ClSpecWhen" tag="20"/>
      </bootstrap>
    <bootstrap thing="cWldSurBla">
      <autotag group="ClSpecWhen" tag="1"/>
      </bootstrap>
    <bootstrap thing="cWldElude">
      <autotag group="ClSpecWhen" tag="2"/>
      </bootstrap>
    <bootstrap thing="cWldElude">
      <autotag group="ClSpecWhen" tag="6"/>
      </bootstrap>
    <bootstrap thing="cWldSurEup">
      <autotag group="ClSpecWhen" tag="4"/>
      </bootstrap>
    <bootstrap thing="cWldSurEup">
      <autotag group="ClSpecWhen" tag="12"/>
      </bootstrap>
    <bootstrap thing="cWldSurEup">
      <autotag group="ClSpecWhen" tag="20"/>
      </bootstrap>
    <link linkage="psiattr" thing="aCHA"/>
    </thing>
  <thing id="cWilder" name="Wilder" description="Unlike the psion, who studies his psionic ability and potential to unlock its secrets, or the psychic warrior, who uses his psionic ability to enhance his physical form, the wilder taps into her emotions to unlock and unleash her innate psionic power. By channeling her emotions in such a fashion, the wilder greatly enhances her psionic powers, but runs the risk of suffering backlash, as emotions are unstable.\n\n{b}Role{/b}: The wilder traditionally fills the role of dealing large amounts of damage, while running the risk of suffering backlash. Depending on the path a wilder chooses, she can also give her nearby allies a boost in efficiency.\n\n{b}Alignment{/b}: Any" compset="ClassLevel" maxlimit="20">
    <usesource source="pPsiUn"/>
    <tag group="ClassType" tag="Normal"/>
    <tag group="ProductId" tag="HLCommunit"/>
    <bootstrap thing="cHelpWld"></bootstrap>
    <link linkage="helper" thing="cHelpWld"/>
    </thing>
  <thing id="cWldWildSu" name="Wild Surge" description="A wilder can let her passion and emotion rise to the surface in a wild surge when she manifests a power. During a wild surge, a wilder gains phenomenal psionic strength, but may harm herself by the reckless use of her power (see Psychic Enervation, below).{br}{br}A wilder can choose to invoke a wild surge whenever she manifests a power. When she does so, she gains +1 to her manifester level with that manifestation of the power. The manifester level boost gives her the ability to augment her powers to a higher degree than she otherwise could; however, she pays no extra power point for this wild surge. Instead, the additional 1 power point that would normally be required to augment the power is effectively supplied by the wild surge.{br}{br}Level-dependent power effects are also improved, depending on the power a wilder manifests with her wild surge.{br}{br}This improvement in manifester level does not grant her any other benefits outside of the manifestation (she gains no higher-level class abilities, for instance).{br}{br}She cannot use the Overchannel psionic feat and invoke her wild surge at the same time.{br}{br}At 3rd level, a wilder boosts her manifester level by two instead of one. At 7th level, she boosts her manifester level by three; at 11th level, by four; at 15th level, by five; and at 19th level, by six. The wilder always wild surges for the maximum amount possible, for unleashing emotions in the fashion of a wild surge does not lend itself to using finesse." compset="ClSpecial" summary="You can gain a boost to your psychic power.">
    <tag group="AbilType" tag="Super"/>
    <eval phase="PostLevel" priority="10000"><![CDATA[
~Set the list name
field[listname].text = field[thingname].text & " " & signed(field[xIndex].value)

~ If we're not shown, just get out now
doneif (tagis[Helper.ShowSpec] <> 1)
~ if we've been disabled, get out now
doneif (tagis[Helper.SpcDisable] <> 0)

field[abValue].value += field[xCount].value
field[livename].text = field[thingname].text & " " & signed(field[abValue].value)]]></eval>
    </thing>
  <thing id="cWldArtSur" name="Artificer&apos;s Surge" description="{b}Wild Surge and Psychic Enervation:{/b} The artificer wilder learns to channel her emotions into psionic items, allowing her to increase the power of items as well as her own powers. The artificer wilder may wild surge while manifesting a power from a power completion or power trigger item and treat the power being manifested as if it was augmented by her wild surge. The wilder must be capable of activating the item normally to apply her wild surge to the item. The item surged must make a Fortitude save (DC 10 + the wild surge bonus added) or lose one charge if a charged item, lose an additional daily use if an item restricted by daily uses, or its psionic power is suppressed for 24 hours if it is not restricted by charged or daily uses, and the artificer wilder suffers a 30% chance of psychic enervation. This method of wild surging functions in all other ways identically to a standard wild surge. An artificer wilder overcome by psychic enervation is dazed until the end of her next turn and loses a number of power points equal to her normal manifester level (the increase in manifester level from her wild surge does not increase the number of power points lost).{br}{br}{b}Surge Bond:{/b} You gain one Item Creation feat as a bonus feat. You must still meet the prerequisites of the feat.{br}{br}{b}Improved Surge Bond:{/b} At 5th level, the artificer wilder gain one Item Creation feat as a bonus feat at 5th level and every four levels thereafter (9th, 13th, etc). She must still meet the prerequisites of the feat." compset="CustomSpec" summary="Gain Item Creation bonus feats. You must still meet the prerequisites of the feats." uniqueness="useronce">
    <usesource source="pPsiUn"/>
    <tag group="Helper" tag="NoPathSoc"/>
    <tag group="SpecSource" tag="cHelpWld"/>
    <tag group="Custom" tag="SurgeArti" name="Surge - Artificer&apos;s"/>
    <eval phase="First" priority="10000"><![CDATA[
~ Set type of Bonus Feats allowed
perform linkage[table].assign[fCategory.ItemCreate]

~ Set the bonus levels
linkage[table].field[cBonFtTot].arrayvalue[0] = 1
linkage[table].field[cBonFtTot].arrayvalue[4] = 2
linkage[table].field[cBonFtTot].arrayvalue[8] = 3
linkage[table].field[cBonFtTot].arrayvalue[12] = 4
linkage[table].field[cBonFtTot].arrayvalue[16] = 5

~ Update Surge Bond Text
#appenddesc[cWldSurBnd,"{b}" & field[name].text & ":{/b} " & "You gain one Item Creation feat as a bonus feat. You must still meet the prerequisites of the feat."]
~ Update Improved Surge Bond Text
#appenddesc[cWldImpSur,"{b}" & field[name].text & ":{/b} " & "At 5th level, the artificer wilder gain one Item Creation feat as a bonus feat at 5th level and every four levels thereafter (9th, 13th, etc). She must still meet the prerequisites of the feat."]]]></eval>
    </thing>
  <thing id="cWldFreSur" name="Free Surge" description="{b}Wild Surge and Psychic Enervation{/b}: The free wilder rides every emotion, taking them to heights unbelievable by others and finding her power in the moment of each encounter. Regardless of the emotion, embracing them to such a degree can sometimes be draining and cause her to be lost inside the experience. A free wilder overcome by psychic enervation is dazed until the end of her next turn and loses a number of power points equal to her normal manifester level (the increase in manifester level from her wild surge does not increase the number of power points lost).\n\n{b}Surge Bond{/b}: The free wilder gains the Psionic Talent feat as a bonus feat.\n\n{b}Improved Surge Bond{/b}: At 5th level, the free wilder gains the Volatile Mind ability." compset="CustomSpec" summary="Your surge is ruled by power of all emotions." uniqueness="useronce">
    <tag group="Helper" tag="NoPathSoc"/>
    <tag group="SpecSource" tag="cHelpWld"/>
    <bootstrap thing="cWldVolMnd">
      <autotag group="ClSpecWhen" tag="5"/>
      </bootstrap>
    <bootstrap thing="fPUPsiTal">
      <autotag group="thing" tag="skipprereq"/>
      </bootstrap>
    <eval phase="First" priority="10000"><![CDATA[
~ Update Surge Bond Text
#appenddesc[cWldSurBnd,"{b}" & field[name].text & ":{/b} " & "The free wilder gains the Psionic Talent* feat as a bonus feat."]
~ Update Improved Surge Bond Text
#appenddesc[cWldImpSur,"{b}" & field[name].text & ":{/b} " & "At 5th level, the free wilder gains the Volatile Mind ability."]]]></eval>
    </thing>
  <thing id="cWldLeaSur" name="Leader&apos;s Surge" description="{b}Wild Surge and Psychic Enervation:{/b} For the leader wilder, the rush of emotions is at its highest when amongst allies and friends. From their camaraderie, she draws renewed strength and in combat, their danger drives her emotions to almost paralyzing heights, sometimes spilling over into her aura. A leader wilder overcome by psychic enervation is shaken for a number of rounds equal to the level of wild surge used and loses a number of power points equal to her normal manifester level (the increase in manifester level from her wild surge does not increase the number of power points lost), and each ally inside her aura (see Bond Benefit, below) must make a Will save (DC 10 +  wilder level + wilder&apos;s Charisma modifier) or be shaken until the end of their next turn. If the leader wilder suffers psychic enervation again while still suffering from a previous psychic enervation, the penalties do not stack, but the duration resets.{br}{br}{b}Surge Bond:{/b} The leader wilder gains the Surging Aura* feat as a bonus feat.{br}{br}{b}Improved Surge Bond:{/b} A leader wilder&apos;s ability to share her surging power with her allies reaches a new and profound level of understanding and as she surges, so do her allies. Beginning at 5th level, the wilder increases her surging aura radius by 5&apos; and whenever she gains the benefits of her surging euphoria, all allies within her surging aura radius also gain the benefits of surging euphoria. Every four levels beyond 5th (9th, 13th, and 17th level), the range of her surging aura radius increases by 5&apos; (to 20&apos; at 9th level, etc.)." compset="CustomSpec" summary="For the leader wilder, the rush of emotions is at its highest when amongst allies and friends." uniqueness="useronce">
    <tag group="Helper" tag="NoPathSoc"/>
    <tag group="SpecSource" tag="cHelpWld"/>
    <tag group="Custom" tag="SurgeLead" name="Surge - Leader&apos;s"/>
    <bootstrap thing="fPUSurAur">
      <autotag group="thing" tag="skipprereq"/>
      </bootstrap>
    <eval phase="First" priority="10000"><![CDATA[
~ Update Surge Bond Text
#appenddesc[cWldSurBnd,"{b}" & field[name].text & ":{/b} " & "The leader wilder gains the Surging Aura* feat as a bonus feat."]
~ Update Improved Surge Bond Text
#appenddesc[cWldImpSur,"{b}" & field[name].text & ":{/b} " & "A leader wilder's ability to share her surging power with her allies reaches a new and profound level of understanding and as she surges, so do her allies. Beginning at 5th level, the wilder increases her surging aura radius by 5' and whenever she gains the benefits of her surging euphoria, all allies within her surging aura radius also gain the benefits of surging euphoria. Every four levels beyond 5th (9th, 13th, and 17th level), the range of her surging aura radius increases by 5' (to 20' at 9th level, etc.)."]]]></eval>
    <eval phase="PostLevel" priority="10000" index="2"><![CDATA[
~ If we are level 5+ set extra text onto the Surging Aura feat
If (field[xTotalLev].value >= 5) Then
   #appenddesc[fPUSurAur,"{b}Improved Surge Bond:{/b} The wilder increases her surging aura radius and whenever she gains the benefits of her surging euphoria, all allies within her surging aura radius also gain the benefits of surging euphoria."]
   #value[fPUSurAur] += 5
Endif
If (field[xTotalLev].value >= 9) Then
   #value[fPUSurAur] += 5
Endif
If (field[xTotalLev].value >= 13) Then
   #value[fPUSurAur] += 5
Endif
If (field[xTotalLev].value >= 17) Then
   #value[fPUSurAur] += 5
Endif]]></eval>
    </thing>
  <thing id="cWldStuSur" name="Student&apos;s Surge" description="{b}Wild Surge and Psychic Enervation:{/b} A student wilder has received some formal training in psionics, but still uses raw emotions to empower her abilities. The student wilder uses any emotion much like a free wilder, but with more focus and control. A student wilder overcome by psychic enervation is dazzled for a number of rounds equal to the level of wild surge used and loses a number of power points equal to her normal manifester level (the increase in manifester level from her wild surge does not increase the number of power points lost). If the student wilder suffers psychic enervation again while still suffering from a previous psychic enervation, the penalties stack (-1 to attack rolls and sight-based Perception checks) and the duration resets.\n\n{b}Surge Bond:{/b} The student wilder gains the Psicrystal Affinity* feat as a bonus feat.\n\n{b}Improved Surge Bond:{/b} A student wilder gains the Expanded Knowledge feat as a bonus feat at 5th level and every four levels thereafter (9th, 13th, etc)." compset="CustomSpec" summary="A student wilder has received some formal training in psionics, but still uses raw emotions to empower her abilities." uniqueness="useronce">
    <tag group="Helper" tag="NoPathSoc"/>
    <tag group="SpecSource" tag="cHelpWld"/>
    <tag group="Custom" tag="SurgeStud" name="Surge - Student&apos;s"/>
    <bootstrap thing="fPUPsicry">
      <autotag group="thing" tag="skipprereq"/>
      </bootstrap>
    <eval phase="First" priority="10000"><![CDATA[
~ Set type of Bonus Feats allowed
perform linkage[table].assign[fInclude.fPUExpKn]

~ Set the bonus levels
linkage[table].field[cBonFtTot].arrayvalue[4] = 2
linkage[table].field[cBonFtTot].arrayvalue[8] = 3
linkage[table].field[cBonFtTot].arrayvalue[12] = 4
linkage[table].field[cBonFtTot].arrayvalue[16] = 5

~ Update Surge Bond Text
#appenddesc[cWldSurBnd,"{b}" & field[name].text & ":{/b} " & "The student wilder gains the Psicrystal Affinity* feat as a bonus feat.{br}{br}{b}Note:{/b} The Psicrystal is added on the 'Other' tab."]
~ Update Improved Surge Bond Text
#appenddesc[cWldImpSur,"{b}" & field[name].text & ":{/b} " & "A student wilder gains the Expanded Knowledge feat as a bonus feat at 5th level and every four levels thereafter (9th, 13th, etc)."]]]></eval>
    </thing>
  <thing id="cWldWarSur" name="Warrior&apos;s Surge" description="{b}Wild Surge and Psychic Enervation:{/b} A warrior wilder embraces the surge of adrenaline, the rush of combat and melee and thus her connection to her body is far more intense. When she rides the wave of her combat-driven emotions, rage and fear foremost, the strain can sometimes be too high for her body to bear. A warrior wilder overcome by psychic enervation is staggered until the end of her next turn and loses a number of hit points equal to her normal manifester level (the increase in manifester level from her wild surge does not increase the number of hit points lost).{br}{br}The warrior wilder may expend her psionic focus as a free action when she would suffer psychic enervation to convert this damage into power point loss, although she is still staggered as normal.{br}{br}{b}Surge Bond:{/b} The warrior wilder gains the Toughness feat as a bonus feat.{br}{br}{b}Improved Surge Bond:{/b} At 5th level, the warrior wilder gains the Hardened Body ability." compset="CustomSpec" summary="A warrior wilder embraces the surge of adrenaline, the rush of combat and melee and thus her connection to her body is far more intense." uniqueness="useronce">
    <tag group="Helper" tag="NoPathSoc"/>
    <tag group="SpecSource" tag="cHelpWld"/>
    <tag group="Custom" tag="SurgeWarr" name="Surge - Warrior&apos;s"/>
    <tag group="abAction" tag="PUExpFocus"/>
    <bootstrap thing="cWldHarBod">
      <autotag group="ClSpecWhen" tag="5"/>
      </bootstrap>
    <bootstrap thing="cWldHarBod">
      <autotag group="ClSpecWhen" tag="9"/>
      </bootstrap>
    <bootstrap thing="cWldHarBod">
      <autotag group="ClSpecWhen" tag="13"/>
      </bootstrap>
    <bootstrap thing="cWldHarBod">
      <autotag group="ClSpecWhen" tag="17"/>
      </bootstrap>
    <bootstrap thing="fToughness">
      <autotag group="thing" tag="skipprereq"/>
      </bootstrap>
    <eval phase="First" priority="1000"><![CDATA[
~ Update Surge Bond Text
#appenddesc[cWldSurBnd,"{b}" & field[name].text & ":{/b} " & "The warrior wilder gains the Toughness feat as a bonus feat."]
~ Update Improved Surge Bond Text
#appenddesc[cWldImpSur,"{b}" & field[name].text & ":{/b} " & "At 5th level, the warrior wilder gains the Hardened Body ability."]]]></eval>
    </thing>
  <thing id="cWldVolMnd" name="Volatile Mind" description="A free wilder&apos;s temperamental mind is hard to affect with telepathy or enchantment. Beginning at 5th level, the wilder gains a +1 bonus to saving throws against telepathy powers or enchantment spells. Every four levels beyond 5th (9th, 13th, and 17th level), this bonus improves by +1.\n\nWhenever any telepathy power is manifested or any enchantment spell is cast on a wilder of 17th level or higher, the wilder receives a Will save to negate the effect in addition to any save the effect may allow; if the spell or power already allows a Will save to negate, the wilder makes a second one, and would need to fail both to be affected." compset="ClSpecial" summary="A free wilder&apos;s temperamental mind is hard to affect with telepathy or enchantment.">
    <tag group="AbilType" tag="Extra"/>
    <eval phase="PostLevel" priority="10000"><![CDATA[
~ If the improved surge ability is disabled then we disabled.
If (hero.child[cWldImpSur].tagis[Helper.SpcDisable] = 1) Then
  perform assign[Helper.SpcDisable]
Endif

~Set the list name
field[listname].text = field[thingname].text & " " & signed(field[xIndex].value)

~ If we're not shown, just get out now
doneif (tagis[Helper.ShowSpec] <> 1)
~ if we've been disabled, get out now
doneif (tagis[Helper.SpcDisable] <> 0)

field[abValue].value += field[xCount].value
field[livename].text = field[thingname].text & " " & signed(field[abValue].value)]]></eval>
    </thing>
  <thing id="cWldSurBnd" name="Surge Bond" description="The wilder&apos;s choice of emotional surge, as defined in psychic enervation, grants the wilder additional benefits through a surge bond. The wilder gains a unique benefit depending on the type of surge selected." compset="ClSpecial" summary="You gain a unique benefit depending on the type of surge selected."></thing>
  <thing id="cWldImpSur" name="Improved Surge Bond" description="At 5th level, the wilder&apos;s surge bond grants additional special abilities depending on the type of wilder." compset="ClSpecial" summary="You gain additional special abilities based on Surge Type.">
    <tag group="Helper" tag="UseOwnLev" name="UseOwnLev" abbrev="UseOwnLev"/>
    <tag group="AbilType" tag="Extra"/>
    </thing>
  <thing id="cWldHarBod" name="Hardened Body" description="A warrior wilder&apos;s deep and intense connection to her body means that when her mind surges with power, her body grows more powerful. Beginning at 5th level, the wilder gains 5 temporary hit points whenever they gain the benefits of surging euphoria. These temporary hit points last for the duration of the warrior wilder&apos;s surging euphoria. Every four levels beyond 5th (9th, 13th, and 17th level), these temporary hit points increase by 5 (to 10 at 9th level, etc.)." compset="ClSpecial" summary="A warrior wilder&apos;s deep and intense connection to her body means that when her mind surges with power, her body grows more powerful.">
    <tag group="AbilType" tag="Extra"/>
    <tag group="User" tag="Tracker"/>
    <tag group="Usage" tag="PUHitPoint" name=" Hit Points"/>
    <eval phase="PostLevel" priority="10000"><![CDATA[
      ~ If the improved surge ability is disabled then we disabled.
      If (hero.child[cWldImpSur].tagis[Helper.SpcDisable] = 1) Then
        perform assign[Helper.SpcDisable]
      Endif

      var bonus as number
      bonus = field[xIndex].value * 5
      ~Set the list name
      field[listname].text = field[thingname].text & " " & bonus & "HP"

      ~ If we're not shown, just get out now
      doneif (tagis[Helper.ShowSpec] <> 1)
      ~ if we've been disabled, get out now
      doneif (tagis[Helper.SpcDisable] <> 0)

      field[abValue].value += field[xCount].value * 5
      field[trkMax].value += field[abValue].value]]></eval>
    </thing>
  <thing id="cWldPsyEne" name="Psychic Enervation" description="Pushing oneself by invoking a wild surge is dangerous. Immediately following each wild surge, a wilder may be overcome by the strain of her effort, the effect of which is detailed in the specific surge type below. The chance of suffering psychic enervation is 15%." compset="ClSpecial" summary="15% to suffer a psychic enervation.">
    <tag group="Helper" tag="UseOwnLev" name="UseOwnLev" abbrev="UseOwnLev"/>
    <tag group="AbilType" tag="Extra"/>
    </thing>
  <thing id="cWldSurBla" name="Surge Blast" description="A wilder can channel her emotions into a blast of uncontrolled phrenic energy. As a standard action and by expending psionic focus, the wilder can make a ranged touch attack (range 30&apos;) that deals 1d6 points of force damage for every +1 to her wild surge. Example: Amonai, a 15th level wilder has wild surge +5, and thus deals 5d6 with his surge blast. Surge blasts do not trigger psychic enervation." compset="ClSpecial" summary="Standard Action ranged touch attack of 30ft.">
    <fieldval field="abRange" value="30"/>
    <tag group="abAction" tag="PUExpFocus"/>
    <tag group="AbilType" tag="Super"/>
    <tag group="abRange" tag="Feet"/>
    <tag group="abAction" tag="Standard"/>
    <eval phase="Final" priority="50000"><![CDATA[
      ~ If we're not shown, just get out now
      doneif (tagis[Helper.ShowSpec] <> 1)
      ~ If we've been Disabled, get out now
      doneif (tagis[Helper.SpcDisable] <> 0)

      field[abValue].value += #value[cWldWildSu]
      field[livename].text = field[name].text & " " & field[abValue].value & "d6 " & field[abRange].value & "ft"
      field[abSumm].text = "standard action & expending focus " & field[abRange].value & "ft ranged touch attack of " & field[abValue].value & "d6 force damage."]]></eval>
    </thing>
  <thing id="cWldElude" name="Elude Attack" description="Starting at 2nd level, a wilder&apos;s intuition supersedes her intellect, alerting her to danger from attacks. She gains a +1 dodge bonus to her Armor Class. This bonus increases by 1 every 4 levels thereafter (+2 at 6th level, +3 at 10th level, etc)." compset="ClSpecial">
    <tag group="AbilType" tag="Extra"/>
    <eval phase="PostLevel" priority="10000"><![CDATA[
      ~Set the list name
      field[listname].text = field[thingname].text & " " & signed(field[xIndex].value)

      ~ If we're not shown, just get out now
      doneif (tagis[Helper.ShowSpec] <> 1)
      ~ if we've been disabled, get out now
      doneif (tagis[Helper.SpcDisable] <> 0)

      field[abValue].value += field[xCount].value
      field[livename].text = field[thingname].text & " " & signed(field[abValue].value)
      field[abSumm].text = "You gain a " & signed(field[abValue].value) & " dodge bonus to your Armor Class."

      ~ Give a Dodge Bonus to AC
      #applybonus[tACDodge,hero.child[ArmorClass],field[abValue].value]]]></eval>
    </thing>
  <thing id="cWldSurEup" name="Surging Euphoria" description="Starting at 4th level, when a wilder uses her wild surge ability, she gains a +1 morale bonus on attack rolls, damage rolls, and saving throws for a number of rounds equal to the intensity of her wild surge.{br}{br}If a wilder is overcome by psychic enervation following her wild surge, she does not gain the morale bonus for this use of her wild surge ability.{br}{br}At 12th level, the morale bonus on a wilder&apos;s attack rolls, damage rolls, and saving throws increases to +2. At 20th level, the bonus increases to +3." compset="ClSpecial">
    <fieldval field="actName" value="Used Wild Surge"/>
    <tag group="AbilType" tag="Extra"/>
    <tag group="Usage" tag="Round"/>
    <tag group="User" tag="Tracker"/>
    <tag group="User" tag="Activation"/>
    <tag group="Helper" tag="UseOwnLev" name="UseOwnLev" abbrev="UseOwnLev"/>
    <eval phase="PostLevel" priority="10050"><![CDATA[~Set the list name
field[listname].text = field[thingname].text & " " & signed(field[xIndex].value)

~ If we're not shown, just get out now
doneif (tagis[Helper.ShowSpec] <> 1)
~ if we've been disabled, get out now
doneif (tagis[Helper.SpcDisable] <> 0)

field[abValue].value += field[xCount].value
field[livename].text = field[thingname].text & " " & signed(field[abValue].value)

field[abSumm].text = "Gain " & signed(field[abValue].value) & " morale bonus on attack, damage, and saving throws for " & #value[cWldWildSu] & " rounds."

~ Set number of rounds in tracker
field[trkMax].value = #value[cWldWildSu]]]></eval>
    <eval phase="PostLevel" priority="20000" index="2"><![CDATA[
~ If we're not shown, just get out now
doneif (tagis[Helper.ShowSpec] <> 1)
~ if we've been disabled, get out now
doneif (tagis[Helper.SpcDisable] <> 0)
~ If not activated get out now!
doneif (field[abilActive].value <> 1)

~ Give bonus to hit
#applybonus[BonMorale,hero.child[Attack],field[abValue].value]
~ Give bonus to dmg
#applybonus[BonMorale,hero.child[Damage],field[abValue].value]
~ Give bonus to saves
#applybonus[BonMorale,hero.child[svAll],field[abValue].value]]]></eval>
    </thing>
  <thing id="cWldPerSur" name="Perfect Surge" description="The wilder has mastered the untamable and can now use a blindingly powerful version of wild surge, albeit at great cost. Once per day, the wilder may add +10 to her manifester level on one manifestation as if through wild surge. In addition to this increase, the manifestation also receives +3 to its save DC, +3 to any attack rolls involved, and is treated as a power five levels higher for the purposes of leveldependent effects (such as {i}minor globe of invulnerability{/i}).\n\nA power manifested with a perfect surge has the radius and intensity of its associated displays doubled; such displays cannot be hidden normally.\n\nThe wilder exudes light as if she is the subject of the daylight spell while using a perfect surge, and anyone who makes physical contact with her before the start of her next turn takes 1d4 points of fire damage.\n\nHowever, this extreme example of wild surging has its price. The wilder is struck by psychic enervation afterwards without fail, except she suffers her associated condition (dazed, staggered, etc.) for 1d4 rounds and loses a number of power points or hit points (dependant on path) equal to her manifester level +10. The wilder also takes 2 points of ability burn to every ability score.\n\nThe wilder cannot use wild surge or Overchannel on the same manifestation as a perfect surge." compset="ClSpecial" summary="Add +10 to ML, +3 DC, +3 attack rolls, and is treated as 5 levels higher.">
    <fieldval field="trkMax" value="1"/>
    <tag group="User" tag="Tracker"/>
    <tag group="AbilType" tag="Super"/>
    <tag group="Usage" tag="Day"/>
    </thing>
  <thing id="fcPUPwrPnt" name="+1 Power Point" description="+1 Power Point" compset="FavClass" uniqueness="unique">
    <comment><![CDATA[This is bootstrapped to the "Psionic Aptitude" racial ability. This way when the racial ability is bootstrapped to a race this FC comes along for the ride. It then allows for the ability to select +1 Power Point. This should allow for people making custom races to have it work correctly for them also. Note: This does not work correctly if it is source marked. Note2: DO NOT CLICK the "All Characters?" option.]]></comment>
    <tag group="ProductId" tag="HLCommunit"/>
    <eval phase="PostLevel" priority="10000"><![CDATA[
      ~ Give a bonus to Power Points each time we are taken &
      field[abValue].value += field[fcCount].value
      #resmax[resPowerPt] += field[abValue].value

      ~ To correctly show up we need to apply this helper tag.
      ~ This tag allows this FC to show for any class/race. But
      ~ as we are only bootstrapped to some races via a Racial
      ~ Special we are limited to which races/classes get us.
      perform assign[Helper.Bootstrap]]]></eval>
    </thing>
  <thing id="arPsicryPs" name="Psicrystal" description="Deprecated" compset="ClassVary" uniqueness="unique">
    <comment>Deprecated</comment>
    <fieldval field="cvArcFStar" value="1"/>
    <fieldval field="srcBookInf" value="Ultimate Psionics"/>
    <usesource source="pPsiUn"/>
    <tag group="Helper" tag="MinionINT6"/>
    <tag group="Helper" tag="NoPathSoc"/>
    <tag group="CompList" tag="arPsicryst"/>
    <tag group="Helper" tag="NoCompList"/>
    <tag group="ProductId" tag="HLCommunit"/>
    <bootstrap thing="cArcFClass"></bootstrap>
    <bootstrap thing="cArcFNear">
      <autotag group="ClSpecWhen" tag="1"/>
      </bootstrap>
    <link linkage="varies" thing="cHelpPsi"/>
    <exprreq message="Requires Psicrystal Affinity"><![CDATA[#hasfeat[fPUPsicry] <> 0]]></exprreq>
    </thing>
  <thing id="cPUPsicrys" name="Psicrystal" description="The psicrystal is a piece of the hero&apos;s personality given form." compset="CustomSpec" uniqueness="unique">
    <usesource source="pPsiUn"/>
    <tag group="Helper" tag="NoPathSoc"/>
    <tag group="Helper" tag="SpecUp" name="SpecUp" abbrev="SpecUp"/>
    <tag group="Helper" tag="Tertiary" name="Tertiary" abbrev="Tertiary"/>
    <tag group="SpecSource" tag="cHelpWiz" name="Wizard" abbrev="Wizard"/>
    <tag group="AbilType" tag="Extra" name="Extraordinary Ability" abbrev=" (Ex)"/>
    <bootstrap thing="cArcFNear">
      <autotag group="ClSpecWhen" tag="1"/>
      </bootstrap>
    <bootstrap thing="cArcFShare">
      <autotag group="ClSpecWhen" tag="1"/>
      </bootstrap>
    <bootstrap thing="cArcFEmpLn">
      <autotag group="ClSpecWhen" tag="1"/>
      </bootstrap>
    <bootstrap thing="cArcFTouch">
      <autotag group="ClSpecWhen" tag="3"/>
      </bootstrap>
    <bootstrap thing="cArcFSpkMs">
      <autotag group="ClSpecWhen" tag="5"/>
      </bootstrap>
    <bootstrap thing="cArcFSpkAn">
      <autotag group="ClSpecWhen" tag="7"/>
      </bootstrap>
    <bootstrap thing="cArcFScry">
      <autotag group="ClSpecWhen" tag="13"/>
      </bootstrap>
    <bootstrap thing="cArcFClass">
      <autotag group="ClSpecWhen" tag="1"/>
      </bootstrap>
    <eval phase="First" priority="375">linkage[table].field[cArcFStart].value = 1</eval>
    </thing>
  <thing id="cPwrResist" name="Power Resistance" description="Upon achieving 5th level, a phrenic slayer&apos;s mind has learned how to protect not only against mind-affecting effects, but against varied forms of psionic attacks from her favored enemy. The phrenic slayer gains power resistance equal to 13 + her class level against effects from her favored enemy." compset="ClSpecial">
    <tag group="Helper" tag="SpecUp" name="SpecUp" abbrev="SpecUp"/>
    <tag group="AbilType" tag="Extra" name="Extraordinary Ability" abbrev=" (Ex)"/>
    <tag group="SpecType" tag="Resist"/>
    <bootstrap thing="xPwrRes"></bootstrap>
    <eval phase="PostLevel" priority="10000"><![CDATA[doneif (#levelcount[PhrenicS] < 5)
~if we're not shown, just get out now
doneif (tagis[Helper.ShowSpec] = 0)

field[abValue].value += #levelcount[PhrenicS] + 13

field[livename].text = field[thingname].text & " (PR " & field[abValue].value & ")"
field[abSumm].text = "Gain Pwr Resist " & field[abValue].value & "."

~#applysr[field[abValue].value]
hero.child[xPwrRes].field[abValue].value = field[abValue].value]]></eval>
    </thing>
  <thing id="arPsicryPW" name="Psicrystal" description="Deprecated" compset="ClassVary" uniqueness="unique">
    <comment>Deprecated</comment>
    <fieldval field="cvArcFStar" value="1"/>
    <usesource source="pPsiUn"/>
    <tag group="Helper" tag="NoCompList"/>
    <tag group="Helper" tag="MinionINT6"/>
    <tag group="Helper" tag="NoPathSoc"/>
    <tag group="CompList" tag="arPsicryst"/>
    <tag group="ProductId" tag="HLCommunit"/>
    <bootstrap thing="cArcFNear">
      <autotag group="ClSpecWhen" tag="1"/>
      </bootstrap>
    <bootstrap thing="cArcFClass"></bootstrap>
    <link linkage="varies" thing="cHelpPWa"/>
    <exprreq message="Requires Psicrystal Affinity"><![CDATA[#hasfeat[fPUPsicry] <> 0]]></exprreq>
    </thing>
  <thing id="cHelpCrb" name="Cerebremancer" compset="Class" uniqueness="unique">
    <fieldval field="cAbbr" value="Crb"/>
    <fieldval field="cSkills" value="2"/>
    <fieldval field="cHDSides" value="6"/>
    <fieldval field="srcPageNum" value="353"/>
    <fieldval field="srcBookInf" value="Ultimate Psionics"/>
    <arrayval field="cMagLevTot" index="2" value="3"/>
    <arrayval field="cMagLevTot" index="3" value="4"/>
    <arrayval field="cMagLevTot" index="4" value="5"/>
    <arrayval field="cMagLevTot" index="5" value="6"/>
    <arrayval field="cMagLevTot" index="6" value="7"/>
    <arrayval field="cMagLevTot" index="7" value="8"/>
    <arrayval field="cMagLevTot" index="8" value="9"/>
    <arrayval field="cMagLevTot" index="9" value="10"/>
    <arrayval field="cMagLevTot" index="0" value="1"/>
    <arrayval field="cMagLevTot" index="1" value="2"/>
    <usesource source="pPsiUn"/>
    <tag group="Helper" tag="TwoExtraMg"/>
    <tag group="cFort" tag="Poor"/>
    <tag group="cRef" tag="Poor"/>
    <tag group="cWill" tag="Good"/>
    <tag group="ClassSkill" tag="skKnowArca"/>
    <tag group="ClassSkill" tag="skPUKnwPsi"/>
    <tag group="ClassSkill" tag="skLinguist"/>
    <tag group="ClassSkill" tag="skSpellcr"/>
    <tag group="ExtraLev1" tag="Arcane"/>
    <tag group="ExtraLev2" tag="Manifester"/>
    <tag group="cAttack" tag="Poor"/>
    <tag group="Classes" tag="Cerebreman"/>
    <tag group="ProductId" tag="HLCommunit"/>
    <bootstrap thing="cMagicMani">
      <autotag group="ClSpecWhen" tag="1"/>
      </bootstrap>
    <bootstrap thing="cMagicMani">
      <autotag group="ClSpecWhen" tag="3"/>
      </bootstrap>
    <bootstrap thing="cMagicMani">
      <autotag group="ClSpecWhen" tag="5"/>
      </bootstrap>
    <bootstrap thing="cMagicMani">
      <autotag group="ClSpecWhen" tag="7"/>
      </bootstrap>
    <bootstrap thing="cMagicMani">
      <autotag group="ClSpecWhen" tag="9"/>
      </bootstrap>
    <bootstrap thing="cMindMagic">
      <autotag group="ClSpecWhen" tag="2"/>
      </bootstrap>
    <bootstrap thing="cMindMagic">
      <autotag group="ClSpecWhen" tag="6"/>
      </bootstrap>
    <bootstrap thing="cWeaveSour">
      <autotag group="ClSpecWhen" tag="10"/>
      </bootstrap>
    </thing>
  <thing id="cCereb" name="Cerebremancer" description="Cerebremancers tap into the power of the mind and the mystical arts. They are adepts at plumbing the mysteries of the arcane and of exploring the internal secrets of psionics. Most cerebremancers tend to be ambitious, wanting access to the power of magic and psionics, rather than what they  consider to be the tedious aspect of focusing on only a single source of power.\n\nTo become a cerebremancer, a character must have training in both manifesting psionic powers and casting arcane spells. While the most common sort of cerebremancer is one who is a psion and a wizard, other combinations such as wilder and sorcerer are also possible. Psychic warriors rarely take up the path of the cerebremancer, as the focus on manifesting tends to take too much away from their focus on physical combat.\n\n{b}Role:{/b} Cerebremancers combine the flexibility of augmenting powers, with the versatility of arcane magic. While they slow down their access to more powerful effects, they gain incredible utility potential due to their access to spells and powers, allowing them to be a veritable walking toolbox as well as a deadly opponent from afar in combat.\n\n{b}Alignment:{/b} Any" compset="ClassLevel" maxlimit="10">
    <usesource source="pPsiUn"/>
    <tag group="ClassType" tag="Prestige"/>
    <tag group="ProductId" tag="HLCommunit"/>
    <bootstrap thing="cHelpCrb"></bootstrap>
    <link linkage="helper" thing="cHelpCrb"/>
    <exprreq message="Knowledge (Arcana) 3 ranks required." onlyonce="yes"><![CDATA[#skillranks[skKnowArca] >= 3]]></exprreq>
    <exprreq message="Knowledge (Psionics) 3 ranks required."><![CDATA[#skillranks[skPUKnwPsi] >= 3]]></exprreq>
    <exprreq message="Ability to cast 2nd-level Arcane spells required." onlyonce="yes"><![CDATA[tagcount[Hero.Arcane] >= 2 + 1]]></exprreq>
    <prereq message="Able to manifest 2nd level powers required" onlyonce="yes">
      <validate><![CDATA[foreach pick in hero where "Classes.? & Helper.Manifester"
  if (eachpick.field[cPsiLevMax].value >= 2) then
    @valid = 1
    done
    endif
  nexteach]]></validate>
      </prereq>
    </thing>
  <thing id="cMagicMani" name="Magical Manifesting" description="A cerebremancer is capable of using his spells to increase the power level of powers he manifests. By expending a level one spell slot when he manifests a power, that power is treated as one level higher for purposes of its save DC and interacting with effects that deal with power level, such as {i}minor globe of invulnerability{/i}." compset="ClSpecial">
    <tag group="AbilType" tag="Super"/>
    <eval phase="Final" priority="1000"><![CDATA[
      var levelname as string
      if (field[xIndex].value = 1) then
        levelname = "1st"
      elseif (field[xIndex].value = 2) then
        levelname = "2nd"
      elseif (field[xIndex].value = 3) then
        levelname = "3rd"
      else
        levelname = field[xIndex].value & "th"
        endif

      field[listname].text = "Magical Manifesting (" & levelname & ")"

      ~we only need to generate a livename for the first copy
      doneif (tagis[Helper.FirstCopy] = 0)

      if (field[xCount].value = 1) then
        levelname = "1st"
      elseif (field[xCount].value = 2) then
        levelname = "2nd"
      elseif (field[xCount].value = 3) then
        levelname = "3rd"
      else
        levelname = field[xCount].value & "th"
        endif

      field[livename].text = "Magical Manifesting (" & levelname & ")"]]></eval>
    </thing>
  <thing id="cMindMagic" name="Mind Over Magic" description="A cerebremancer learns how to meld the augmentation of psionic powers with the arcane nature of spells. Starting at 2nd level, when a cerebremancer casts a spell, he may spend two power points to increase the save DC by 1. At 6th level, the cerebremancer may spend four power points to increase the save DC by 2." compset="ClSpecial">
    <tag group="AbilType" tag="Super"/>
    <eval phase="Final" priority="1000"><![CDATA[
      var levelname as string
      if (field[xIndex].value = 1) then
        levelname = "1"
      elseif (field[xIndex].value = 2) then
        levelname = "2"
        endif

      field[listname].text = "Mind Over Magic (+" & levelname & ")"

      ~we only need to generate a livename for the first copy
      doneif (tagis[Helper.FirstCopy] = 0)

      if (field[xCount].value = 1) then
        levelname = "1"
      elseif (field[xCount].value = 2) then
        levelname = "2"
        endif

      field[livename].text = "Mind Over Magic (+" & levelname & ")"]]></eval>
    </thing>
  <thing id="cWeaveSour" name="Weave the Sources" description="Once a cerebremancer reaches 10th level, he can manifest a power and cast a spell using one action. Both the power and the spell must have the same manifesting and casting time. The cerebremancer can make any decisions concerning the power and spell independently. Any target affected by both the power and the spell takes a -2 penalty on saves made against each. The cerebremancer receives a +2 bonus on manifester and caster level checks made to overcome power and spell resistance with this power and spell. A cerebremancer may use this ability once per day." compset="ClSpecial">
    <fieldval field="trkMax" value="1"/>
    <tag group="AbilType" tag="Super"/>
    <tag group="Usage" tag="Day"/>
    <tag group="User" tag="Tracker"/>
    </thing>
  <thing id="cHelpElo" name="Elocator" compset="Class" uniqueness="unique">
    <fieldval field="cAbbr" value="Elo"/>
    <fieldval field="cSkills" value="6"/>
    <fieldval field="cHDSides" value="8"/>
    <fieldval field="srcPageNum" value="357"/>
    <fieldval field="srcBookInf" value="Ultimate Psionics"/>
    <arrayval field="cMagLevTot" index="5" value="4"/>
    <arrayval field="cMagLevTot" index="6" value="5"/>
    <arrayval field="cMagLevTot" index="7" value="6"/>
    <arrayval field="cMagLevTot" index="9" value="7"/>
    <arrayval field="cMagLevTot" index="1" value="1"/>
    <arrayval field="cMagLevTot" index="2" value="2"/>
    <arrayval field="cMagLevTot" index="3" value="3"/>
    <usesource source="pPsiUn"/>
    <tag group="ClassSkill" tag="skPUKnwPsi"/>
    <tag group="ClassSkill" tag="skPercep"/>
    <tag group="ClassSkill" tag="skSleight"/>
    <tag group="ClassSkill" tag="skSpellcr"/>
    <tag group="ClassSkill" tag="skStealth"/>
    <tag group="ClassSkill" tag="skUseMagic"/>
    <tag group="Classes" tag="Elocator"/>
    <tag group="cAttack" tag="Medium"/>
    <tag group="cFort" tag="Poor"/>
    <tag group="cRef" tag="Good"/>
    <tag group="cWill" tag="Good"/>
    <tag group="psiClass" tag="Elocator"/>
    <tag group="ClassSkill" tag="skAcrobat"/>
    <tag group="ClassSkill" tag="skClimb"/>
    <tag group="ClassSkill" tag="skFly"/>
    <tag group="ClassSkill" tag="skEscape"/>
    <tag group="ProductId" tag="HLCommunit"/>
    <bootstrap thing="cSpatAware">
      <autotag group="ClSpecWhen" tag="8"/>
      </bootstrap>
    <bootstrap thing="cAirAcro">
      <autotag group="ClSpecWhen" tag="1"/>
      </bootstrap>
    <bootstrap thing="cPUrsGrav">
      <autotag group="ClSpecWhen" tag="1"/>
      </bootstrap>
    <bootstrap thing="cScornEart">
      <autotag group="ClSpecWhen" tag="1"/>
      </bootstrap>
    <bootstrap thing="cTermVelo">
      <autotag group="ClSpecWhen" tag="1"/>
      </bootstrap>
    <bootstrap thing="cFreerun">
      <autotag group="ClSpecWhen" tag="2"/>
      </bootstrap>
    <bootstrap thing="cFreerun">
      <autotag group="ClSpecWhen" tag="5"/>
      </bootstrap>
    <bootstrap thing="cFreerun">
      <autotag group="ClSpecWhen" tag="8"/>
      </bootstrap>
    <bootstrap thing="cDimeStep">
      <autotag group="ClSpecWhen" tag="3"/>
      </bootstrap>
    <bootstrap thing="cDimeStep">
      <autotag group="ClSpecWhen" tag="6"/>
      </bootstrap>
    <bootstrap thing="cDimeStep">
      <autotag group="ClSpecWhen" tag="9"/>
      </bootstrap>
    <bootstrap thing="cFlanker">
      <autotag group="ClSpecWhen" tag="4"/>
      </bootstrap>
    <bootstrap thing="cDimeSwap">
      <autotag group="ClSpecWhen" tag="6"/>
      </bootstrap>
    <bootstrap thing="cTransport">
      <autotag group="ClSpecWhen" tag="6"/>
      </bootstrap>
    <bootstrap thing="cCaprStep">
      <autotag group="ClSpecWhen" tag="7"/>
      </bootstrap>
    <bootstrap thing="cDimSprAtt">
      <autotag group="ClSpecWhen" tag="9"/>
      </bootstrap>
    <bootstrap thing="cAccelAct">
      <autotag group="ClSpecWhen" tag="10"/>
      </bootstrap>
    <bootstrap thing="fWepMart"></bootstrap>
    <bootstrap thing="fSimple"></bootstrap>
    <bootstrap thing="fArmLight"></bootstrap>
    <bootstrap thing="cSpatAware">
      <autotag group="ClSpecWhen" tag="2"/>
      </bootstrap>
    <bootstrap thing="cSpatAware">
      <autotag group="ClSpecWhen" tag="5"/>
      </bootstrap>
    </thing>
  <thing id="cElocator" name="Elocator" description="Elocaters are renowned for their ability to make effective use of space and motion to pull off difficult or otherwise-impossible tactics in combat. They excel at closing in with less agile enemies, striking, and departing quickly to cover. Elocaters learn to manipulate the effects of gravity to reorient its effect for their own personal use, and often will use walls, ceilings, and other obstacles to maximum effect.\n\nPsychic warriors tend to be the most common character class drawn to the elocater, as the freedom and maneuverability it gives on the battlefield is a prized ability, while nomads find the freedom of movement to be a powerful attraction. Some wilders and psions of other disciplines also find use out of the elocater class, although more rarely than psychic warriors or nomads.\n\n{b}Role:{/b} As masters of manipulating gravity and space, elocaters know where to position themselves to be effective. With their ability to defy gravity, elocaters can make excellent scouts, get to locations that might otherwise be impossible, and overcome physical impediments that a normal person might find impassable.\n\n{b}Alignment:{/b} Any" compset="ClassLevel" maxlimit="10">
    <usesource source="pPsiUn"/>
    <tag group="ClassType" tag="Prestige"/>
    <tag group="ProductId" tag="HLCommunit"/>
    <bootstrap thing="cHelpElo"></bootstrap>
    <link linkage="helper" thing="cHelpElo"/>
    <exprreq message="Acrobatics 5 ranks required." onlyonce="yes"><![CDATA[#skillranks[skAcrobat] >= 5]]></exprreq>
    <exprreq message="Base attack bonus +3 required." onlyonce="yes"><![CDATA[child[Attack].field[tAtkBase].value >= 3]]></exprreq>
    <exprreq message="Mobility required." onlyonce="yes"><![CDATA[#hasfeat[fMobility] <> 0]]></exprreq>
    <prereq message="Able to manifest 1st level powers required" onlyonce="yes">
      <validate><![CDATA[
        foreach pick in hero where "Classes.? & Helper.Manifester"
          if (eachpick.field[cPsiLevMax].value >= 1) then
            @valid = 1
            done
            endif
          nexteach]]></validate>
      </prereq>
    <prereq message="Spring Attack feat orNomad Step class ability required.">
      <validate><![CDATA[if (#hasfeat[fSpringAtt] + #hasability[cPsiNomSte] >= 1) then
  @valid = 1
  done
  endif]]></validate>
      </prereq>
    </thing>
  <thing id="cSpatAware" name="Spatial Awareness" description="Beginning at 2nd level, an elocater&apos;s hyperawareness of spatial relations lets her use the battlefield to her advantage. When she attacks with a bonus from higher ground or is flanking the attacked enemy with an ally, the first attack she makes against that enemy each round gains a +2 insight bonus to her attack roll and damage roll (if the attack hits). Furthermore, due to her ability to reorient herself, enemies no longer gain a bonus when attacking her from higher ground. At 5th level the insight bonus increases to +4, and at 8th level the insight bonus increases to +6." compset="ClSpecial">
    <tag group="AbilType" tag="Super"/>
    <eval phase="Final" priority="1000"><![CDATA[
      var levelname as string
      if (field[xIndex].value = 1) then
        levelname = "2"
      elseif (field[xIndex].value = 2) then
        levelname = "4"
      elseif (field[xIndex].value = 3) then
        levelname = "6"
        endif

      field[listname].text = "Spatial Awareness (+" & levelname & ")"

      ~we only need to generate a livename for the first copy
      doneif (tagis[Helper.FirstCopy] = 0)

      if (field[xCount].value = 1) then
        levelname = "2"
      elseif (field[xCount].value = 2) then
        levelname = "4"
      elseif (field[xCount].value = 3) then
        levelname = "6"
        endif

      field[livename].text = "Spatial Awareness (+" & levelname & ")"]]></eval>
    </thing>
  <thing id="cAirAcro" name="Aerial Acrobatics" description="The elocater adds her ranks in Acrobatics as a bonus to any Fly checks, and her ranks in Fly as a bonus to any Acrobatics checks, due to her ability to control her personal gravity. She also treats all Acrobatics checks to jump as if she had a running start." compset="ClSpecial">
    <tag group="SpecType" tag="Movement"/>
    <tag group="AbilType" tag="Super"/>
    <eval phase="PreLevel" priority="5000">#skillbonus[skAcrobat] += #skillranks[skFly]
#skillbonus[skFly] += #skillranks[skAcrobat]</eval>
    </thing>
  <thing id="cPUrsGrav" name="Personal Gravity" description="As long as the elocater is within 1 foot of a sufficiently stable solid or liquid surface, she can change her personal gravity with a thought (free action). As a result, she may move on walls, ceilings, etc. as if they were level floors, including being able to run, jump, and take 5&apos; steps.\n\nPersonal gravity is constantly active, even when unconscious, unless the elocater deliberately suppresses it (a free action), is heavily encumbered, or is slain. If the elocater is carrying a medium load or wearing heavy or medium armor while using personal gravity, her speed reduces to 10 feet per round." compset="ClSpecial">
    <eval phase="Final"><![CDATA[if (hero.tagis[Encumbered.Light] = 0) then
  ~ If we are carrying a Medium Load or wearing Medium or Heavy Armor   ~ speed reduces to 10'
  hero.child[Speed].field[tSpeed].value = 10
  endif]]></eval>
    </thing>
  <thing id="cScornEart" name="Scorn Earth" description="t 1st level, an elocater&apos;s feet lift from the ground. From now on, she can float a foot above the ground, but still move and act as if she were standing on solid ground. At distances greater than 1 foot from any sufficiently stable surface, her speed diminishes to 10 feet per round, but she can move in any direction (including straight up or down). Melee and ranged attacks suffer increasing penalties as if she were the subject of the defy gravity power. \n\nScorn earth is constantly active, even when unconscious, unless the elocater deliberately suppresses it (a free action), is heavily encumbered, or is slain. If the elocater is carrying a medium load or wearing heavy or medium armor while using scorn earth, her speed reduces to 10 feet per round." compset="ClSpecial">
    <eval phase="Final"><![CDATA[if (hero.tagis[Encumbered.Light] = 0) then
  ~ If we are carrying a Medium Load or wearing Medium or Heavy Armor   ~ speed reduces to 10'
  hero.child[Speed].field[tSpeed].value = 10
  endif]]></eval>
    </thing>
  <thing id="cTermVelo" name="Terminal Velocity" description="As long as either personal gravity or scorn earth is active, if the elocater would be in a position to fall (for example, stepping over a pit), she instead hovers at her current position, as if standing on solid ground. As a move action, she can safely float or jump down 30&apos; (she can float down an additional 30&apos; per additional move action spent in this way)." compset="ClSpecial"></thing>
  <thing id="cFreerun" name="Freerunning" description="Beginning at 2nd level, an elocater&apos;s land speed increases by 10 feet. This is treated as a circumstance bonus (it does not stack with terrain-based circumstance bonuses, such as the circumstance bonus from using skate on a decline). This bonus increases to 20 feet at 5th level and to 30 feet at 8th level." compset="ClSpecial">
    <tag group="AbilType" tag="Extra"/>
    <eval phase="Final" priority="10000"><![CDATA[var bonus as number
bonus = field[xIndex].value * 10
field[listname].text = "Freerunning (+" & bonus & "')"]]>
      <after name="Encumber Final"/>
      </eval>
    </thing>
  <thing id="cDimeStep" name="Dimension Step" description="An elocater of 3rd level or higher can slip psionically between spaces as if using the {i}fold space{/i} power, once per day. The elocater cannot bring any other creatures with her. Her manifester level for this effect is equal to her elocater level. At 6th level, the elocater gains a second daily usage, and at 9th level, she can use this ability three times per day." compset="ClSpecial">
    <tag group="AbilType" tag="Super"/>
    <tag group="User" tag="Tracker"/>
    <tag group="Usage" tag="Day"/>
    <eval phase="Final" priority="1000"><![CDATA[var bonus as number
bonus = field[xIndex].value

field[listname].text = "Dimension Step (" & bonus & "/day)"

field[trkMax].value = field[xCount].value

~we only need to generate a livename for the first copy
~doneif (tagis[Helper.FirstCopy] = 0)

~field[livename].text = "Dimension Step (" & bonus & "/day)"]]>
      <after name="Encumber Final"/>
      </eval>
    </thing>
  <thing id="cFlanker" name="Flanker" description="An elocater of 4th level or higher can flank enemies from seemingly impossible angles. She can designate any square adjacent to her as the square from which flanking with an ally is determined (including the square where she stands, as normal). She can designate the square at the beginning of her turn or at any time during her turn. The designated square remains her effective square for flanking until she is no longer adjacent to it or until she chooses a different square (at the start of one of her turns). The character can even choose a square that is impassable or occupied." compset="ClSpecial">
    <tag group="AbilType" tag="Extra"/>
    </thing>
  <thing id="cDimeSwap" name="Dimension Swap" description="An elocater of 6th level can use her dimension step ability to swap locations with one willing creature within 60 feet to which the elocater has line of sight. The use of this ability counts as one daily use of her dimension step ability." compset="ClSpecial">
    <tag group="AbilType" tag="Super"/>
    </thing>
  <thing id="cTransport" name="Transporter" description="At 6th level, an elocater learns both {i}psychoport{/i} and {i}planar travel{/i}. These powers are in addition to any powers the elocater normally learns by advancing a level. \n\nThe elocater treats these powers as if they were 3rd-level powers on her class list. This means, among other things, that manifesting these powers costs 5 power points. (If the character does not have a high enough manifester level to manifest 3rd-level powers the character cannot manifest these powers until she has attained the required manifester level.)" compset="ClSpecial">
    <tag group="AbilType" tag="Extra"/>
    </thing>
  <thing id="cCaprStep" name="Capricious Step" description="At 7th level, an elocater can take an extra 5-foot step in any round when she doesn&apos;t perform any other movement (except for the first 5-foot step). Like the first, the second 5-foot step does not provoke attacks of opportunity. The character can take the extra 5-foot step immediately after taking the first, or wait until the end of her other actions for the round. In all other ways, the rules for taking a 5-foot step apply." compset="ClSpecial">
    <tag group="AbilType" tag="Extra"/>
    </thing>
  <thing id="cDimSprAtt" name="Dimension Spring Attack" description="An elocater of 9th level or higher can use her dimension step ability in conjunction with her Spring Attack feat. This ability can be used only against opponents within 60 feet to which the elocater has line of sight. She can dimension step up to the target, use Spring Attack, and then use dimension step to return to her starting point. (When she uses this ability, the total distance she can travel before and after the attack is not limited by her speed.) The use of this ability counts as one use of her dimension step.\n\nIf the elocater does not have the Spring Attack feat, she may not use this ability." compset="ClSpecial">
    <tag group="AbilType" tag="Super"/>
    </thing>
  <thing id="cAccelAct" name="Accelerated Action" description="When she attains 10th level, an elocater can accelerate herself and thereby take more actions than normal. An elocater can accelerate herself for a total of 5 rounds per day. She can choose to parcel out her accelerated actions in 1-round increments. (This effect is not cumulative with similar effects that provide additional actions, such as {i}schism{/i}or a {i}haste{/i} spell-and in fact an elocater can&apos;t take an accelerated action if affected by these or similar effects.)\n\nIf she makes a full attack while accelerated, an elocater can make one extra attack with any weapon she is holding. The attack is made using her full base attack bonus, plus any modifiers appropriate to the situation. If the elocater uses her accelerated action to move, she gains an enhancement bonus to her speed of +30 feet. The elocater can use her accelerated action to manifest a power, as long as she has not already manifested a power in the current round and the one she wants to manifest has a manifesting time of 1 standard action or shorter. While accelerated, she gains a +2 dodge bonus on attack rolls and Reflex saves and a +2 dodge bonus to Armor Class. Any condition that makes her lose her Dexterity bonus to Armor Class (if any) also makes her lose these dodge bonuses." compset="ClSpecial">
    <fieldval field="trkMax" value="5"/>
    <tag group="User" tag="Tracker"/>
    <tag group="AbilType" tag="Super"/>
    <tag group="Usage" tag="DayRound"/>
    </thing>
  <thing id="cHelpMtm" name="Metamind" compset="Class" uniqueness="unique">
    <fieldval field="cAbbr" value="Mtm"/>
    <fieldval field="cSkills" value="2"/>
    <fieldval field="cHDSides" value="6"/>
    <fieldval field="srcPageNum" value="360"/>
    <fieldval field="srcBookInf" value="Ultimate Psionics"/>
    <arrayval field="cMagLevTot" index="3" value="3"/>
    <arrayval field="cMagLevTot" index="5" value="4"/>
    <arrayval field="cMagLevTot" index="6" value="5"/>
    <arrayval field="cMagLevTot" index="7" value="6"/>
    <arrayval field="cMagLevTot" index="9" value="7"/>
    <arrayval field="cMagLevTot" index="1" value="1"/>
    <arrayval field="cMagLevTot" index="2" value="2"/>
    <usesource source="pPsiUn"/>
    <tag group="cRef" tag="Poor"/>
    <tag group="ClassSkill" tag="skPUAhypno"/>
    <tag group="ClassSkill" tag="skPUKnwPsi"/>
    <tag group="ClassSkill" tag="skSpellcr"/>
    <tag group="Classes" tag="Metamind"/>
    <tag group="cAttack" tag="Poor"/>
    <tag group="cFort" tag="Poor"/>
    <tag group="cWill" tag="Good"/>
    <tag group="ExtraLev1" tag="Manifester"/>
    <tag group="psiClass" tag="AddNewTag"/>
    <tag group="ProductId" tag="HLCommunit"/>
    <bootstrap thing="cSequestra">
      <autotag group="ClSpecWhen" tag="7"/>
      </bootstrap>
    <bootstrap thing="cSequestra">
      <autotag group="ClSpecWhen" tag="8"/>
      </bootstrap>
    <bootstrap thing="cSequestra">
      <autotag group="ClSpecWhen" tag="9"/>
      </bootstrap>
    <bootstrap thing="cSequestra">
      <autotag group="ClSpecWhen" tag="10"/>
      </bootstrap>
    <bootstrap thing="cMtMPsiTal">
      <autotag group="ClSpecWhen" tag="2"/>
      </bootstrap>
    <bootstrap thing="cEffRechg">
      <autotag group="ClSpecWhen" tag="4"/>
      </bootstrap>
    <bootstrap thing="cEffRechg">
      <autotag group="ClSpecWhen" tag="8"/>
      </bootstrap>
    <bootstrap thing="cCogPsicry">
      <autotag group="ClSpecWhen" tag="1"/>
      </bootstrap>
    <bootstrap thing="cCogPsicry">
      <autotag group="ClSpecWhen" tag="3"/>
      </bootstrap>
    <bootstrap thing="cCogPsicry">
      <autotag group="ClSpecWhen" tag="5"/>
      </bootstrap>
    <bootstrap thing="cCogPsicry">
      <autotag group="ClSpecWhen" tag="7"/>
      </bootstrap>
    <bootstrap thing="cCogPsicry">
      <autotag group="ClSpecWhen" tag="9"/>
      </bootstrap>
    <bootstrap thing="cSequestra">
      <autotag group="ClSpecWhen" tag="1"/>
      </bootstrap>
    <bootstrap thing="cSequestra">
      <autotag group="ClSpecWhen" tag="2"/>
      </bootstrap>
    <bootstrap thing="cMtMPsiTal">
      <autotag group="ClSpecWhen" tag="5"/>
      </bootstrap>
    <bootstrap thing="cMtMPsiTal">
      <autotag group="ClSpecWhen" tag="8"/>
      </bootstrap>
    <bootstrap thing="fPUPsiTal">
      <containerreq phase="First" priority="500"><![CDATA[count:Classes.Metamind >=2]]></containerreq>
      </bootstrap>
    <bootstrap thing="fPUPsiTal">
      <containerreq phase="First" priority="500"><![CDATA[count:Classes.Metamind >= 5]]></containerreq>
      </bootstrap>
    <bootstrap thing="fPUPsiTal">
      <containerreq phase="First" priority="500"><![CDATA[count:Classes.Metamind >= 8]]></containerreq>
      </bootstrap>
    <bootstrap thing="cExtPPLev">
      <autotag group="ClSpecWhen" tag="1"/>
      </bootstrap>
    <bootstrap thing="cSequestra">
      <autotag group="ClSpecWhen" tag="3"/>
      </bootstrap>
    <bootstrap thing="cSequestra">
      <autotag group="ClSpecWhen" tag="4"/>
      </bootstrap>
    <bootstrap thing="cSequestra">
      <autotag group="ClSpecWhen" tag="5"/>
      </bootstrap>
    <bootstrap thing="cSequestra">
      <autotag group="ClSpecWhen" tag="6"/>
      </bootstrap>
    </thing>
  <thing id="cMetamind" name="Metamind" description="Most who walk the path of the manifester seek to unlock progressively stronger powers and deeper secrets. Some, however, prefer to develop their internal reservoir of power rather than focusing on the scope of the effects they can manage. These metaminds learn to turn their bodies and minds into wells of psionic power, drawing more and more power when others would be exhausted.\n\nWhile metaminds still progress in their psionic abilities, their development in manifesting is stunted, but they make up for this by increasing their power point pool, even turning their psicrystal into a psionic battery.\n\n{b}Role:{/b} As a storehouse of psionic energy, metaminds are all about manifesting power after power, having the extra resources to continue manifesting when another would have run dry.\n\n{b}Alignment:{/b} Any." compset="ClassLevel" maxlimit="10">
    <usesource source="pPsiUn"/>
    <tag group="ClassType" tag="Prestige"/>
    <tag group="ProductId" tag="HLCommunit"/>
    <bootstrap thing="cHelpMtm"></bootstrap>
    <link linkage="helper" thing="cHelpMtm"/>
    <exprreq message="Psicrystal Affinity required." onlyonce="yes"><![CDATA[#hasfeat[fPUPsicry] <> 0]]></exprreq>
    <exprreq message="2 ranks Spellcraft required."><![CDATA[#skillranks[skSpellcr] >= 2]]></exprreq>
    <exprreq message="5 ranks Knowledge (Psionics) required." onlyonce="yes"><![CDATA[#skillranks[skPUKnwPsi] >= 5]]></exprreq>
    <exprreq message="Manifester level 4th required." onlyonce="yes"><![CDATA[tagcount[Hero.Manifester] >= 4]]></exprreq>
    </thing>
  <thing id="cCogPsicry" name="Cognizance Psicrystal" description="A metamind masters the trick of storing excess power points in a psicrystal. The psicrystal is now treated as a {i}cognizance crystal{/i} capable of storing 5 power points, in addition to its psicrystal abilities. At every odd-numbered level, a metamind becomes able to store an additional 2 power points in his psicrystal, to a maximum of 13 points at 9th level." compset="ClSpecial">
    <tag group="AbilType" tag="Extra"/>
    <eval phase="Final" priority="1000"><![CDATA[      var bonus as number
      var levelname as string

      if (field[xIndex].value = 1) then
        levelname = "5"
      elseif (field[xIndex].value = 2) then
        levelname = "7"
      elseif (field[xIndex].value = 3) then
        levelname = "9"
      elseif (field[xIndex].value = 4) then
        levelname = "11"
      elseif (field[xIndex].value = 5) then
        levelname = "13"
        endif

      field[listname].text = "Cognizance Psicrystal (" & levelname & ")"

      ~we only need to generate a livename for the first copy
      doneif (tagis[Helper.FirstCopy] = 0)

      if (field[xCount].value = 1) then
        levelname = "5"
      elseif (field[xCount].value = 2) then
        levelname = "7"
      elseif (field[xCount].value = 3) then
        levelname = "9"
      elseif (field[xCount].value = 4) then
        levelname = "11"
      elseif (field[xCount].value = 5) then
        levelname = "13"
        endif

      field[livename].text = "Cognizance Psicrystal (" & levelname & ")"]]></eval>
    </thing>
  <thing id="cSequestra" name="Sequestration" description="The metamind learns how to sequester his psionic knowledge to gain additional psionic power. At first level, the metamind may sequester two powers. When a power is sequestered, the character loses the use of it. However, the character immediately gains an additional number of power points equal to the power point cost of the sequestered power. For instance, a 1st level power sequestered grants 1 additional power point, while a 2nd level power grants 3 power points, and so on. Any power may be sequestered, even discipline powers of the character&apos;s select discipline list. When the metamind meditates to gain his power points, all sequestered powers are freed, allowing the metamind to choose new powers. The metamind may choose to sequester his powers at any time as a standard action, immediately gaining the appropriate number of power points, but the power becomes unusable until he meditates to gain his power points after sufficient rest.\n\nAs the metamind gains levels, the number of powers he can sequester increases. These new powers are then unavailable for use while they are sequestered." compset="ClSpecial">
    <tag group="AbilType" tag="Extra"/>
    <eval phase="Final" priority="1000"><![CDATA[var MyCount as number
MyCount = field[xIndex].value + 1
field[listname].text = "Sequestration (" & MyCount & ")"

~we only need to generate a livename for the first copy
doneif (tagis[Helper.FirstCopy] = 0)
var MyCount as number
MyCount = field[xCount].value + 1

field[livename].text = "Sequestration  (" & MyCount & ")"]]></eval>
    </thing>
  <thing id="cMtMPsiTal" name="Psionic Talent" description="Metaminds focus their studies in maximizing their psionic power. At 2nd level and every three levels thereafter, the metamind gains Psionic Talent as a bonus feat." compset="ClSpecial">
    <tag group="Helper" tag="SpecUp"/>
    </thing>
  <thing id="cEffRechg" name="Efficient Recharge" description="Beginning at 4th level, a metamind learns how to tap into the psionic nature of his own psicrystal to more efficiently recharge the power points stored within his cognizance psicrystal. Once per day, he may recharge the cognizance psicrystal, but only pays half the power point cost (rounded up). He may use this ability an additional time per day at 8th level." compset="ClSpecial" summary="Recharge cognizance psicrystal for half the PP cost.">
    <tag group="Usage" tag="Day" name="/day" abbrev="/day"/>
    <tag group="User" tag="Tracker" name="Modern Action Points" abbrev="Modern Action Points"/>
    <tag group="AbilType" tag="Super"/>
    <eval phase="PostAttr" priority="10000"><![CDATA[
      field[listname].text = "Efficient Recharge (" & field[xIndex].value & "/day)"

      ~only run the rest for the first copy
      doneif (tagis[Helper.FirstCopy] = 0)

      ~ If we're not shown, just get out now
      doneif (tagis[Helper.ShowSpec] = 0)]]></eval>
    </thing>
  <thing id="cExtPPLev" name="Extra PP" description="At 1st, 5th and 9th levels, while the Metamind does not gain a full manifester, they do gain extra PP as if they had gained a level." compset="ClSpecial">
    <fieldval field="usrCandid1" value="Helper.Manifester &amp; ClassType.Normal"/>
    <tag group="ChooseSrc1" tag="Hero"/>
    <tag group="Helper" tag="Helper"/>
    <tag group="Custom" tag="ExtPPLev" name="Extra PP Level"/>
    <eval phase="PostLevel" priority="1000"><![CDATA[~only run the rest for the first copy
doneif (tagis[Helper.FirstCopy] = 0)

~calculate difference in PP
var level as number
var level2 as number
var bonus as number
if (field[usrChosen1].ischosen <> 0) then
  perform field[usrChosen1].chosen.setfocus

  level = focus.field[cMagicLev].value - 1
  if (#levelcount[Metamind] >= 9) then
    level2 = focus.field[cMagicLev].value + 2
  elseif (#levelcount[Metamind] >= 5) then
    level2 = focus.field[cMagicLev].value + 1
  else
    level2 = focus.field[cMagicLev].value
  endif
endif

bonus = hero.child[cHelpPsi].field[cPsiPPTot].arrayvalue[level2] - hero.child[cHelpPsi].field[cPsiPPTot].arrayvalue[level]

hero.child[cHelpPsi].field[cPsiPPMax].value += bonus]]></eval>
    </thing>
  <thing id="cHelpPhr" name="Phrenic Slayer" compset="Class" uniqueness="unique">
    <fieldval field="cHDSides" value="10"/>
    <fieldval field="cAbbr" value="Phr"/>
    <fieldval field="cSkills" value="4"/>
    <fieldval field="srcPageNum" value="365"/>
    <fieldval field="srcBookInf" value="Ultimate Psionics"/>
    <arrayval field="cMagLevTot" index="4" value="4"/>
    <arrayval field="cMagLevTot" index="5" value="5"/>
    <arrayval field="cMagLevTot" index="6" value="6"/>
    <arrayval field="cMagLevTot" index="7" value="7"/>
    <arrayval field="cMagLevTot" index="8" value="8"/>
    <arrayval field="cMagLevTot" index="9" value="9"/>
    <arrayval field="cFav1Tot" index="0" value="1"/>
    <arrayval field="cMagLevTot" index="1" value="1"/>
    <arrayval field="cMagLevTot" index="2" value="2"/>
    <arrayval field="cMagLevTot" index="3" value="3"/>
    <usesource source="pPsiUn"/>
    <tag group="cAttack" tag="Good"/>
    <tag group="ClassSkill" tag="skSenseMot"/>
    <tag group="cFort" tag="Poor"/>
    <tag group="ClassSkill" tag="skBluff"/>
    <tag group="ClassSkill" tag="skPUKnwPsi"/>
    <tag group="ClassSkill" tag="skPercep"/>
    <tag group="ClassSkill" tag="skSpellcr"/>
    <tag group="ClassSkill" tag="skSurvival"/>
    <tag group="cRef" tag="Poor"/>
    <tag group="Classes" tag="PhrenicS" name="Phrenic Slayer"/>
    <tag group="cWill" tag="Good"/>
    <tag group="ProductId" tag="HLCommunit"/>
    <bootstrap thing="resEnemUpg"></bootstrap>
    <bootstrap thing="fSimple"></bootstrap>
    <bootstrap thing="cEnemySens">
      <autotag group="ClSpecWhen" tag="1"/>
      </bootstrap>
    <bootstrap thing="cBrainNauS">
      <autotag group="ClSpecWhen" tag="2"/>
      </bootstrap>
    <bootstrap thing="cBrainNauN">
      <autotag group="ClSpecWhen" tag="6"/>
      </bootstrap>
    <bootstrap thing="cBrainNauT">
      <autotag group="ClSpecWhen" tag="10"/>
      </bootstrap>
    <bootstrap thing="cLucidBuff">
      <autotag group="ClSpecWhen" tag="3"/>
      </bootstrap>
    <bootstrap thing="cLucidBuff">
      <autotag group="ClSpecWhen" tag="8"/>
      </bootstrap>
    <bootstrap thing="cPwrResist">
      <autotag group="ClSpecWhen" tag="5"/>
      </bootstrap>
    <bootstrap thing="cFavEnemy">
      <autotag group="ClSpecWhen" tag="4"/>
      </bootstrap>
    <bootstrap thing="cFavEnemy">
      <autotag group="ClSpecWhen" tag="7"/>
      </bootstrap>
    <bootstrap thing="cFavEnemy">
      <autotag group="ClSpecWhen" tag="10"/>
      </bootstrap>
    <bootstrap thing="cReboundAt">
      <autotag group="ClSpecWhen" tag="10"/>
      </bootstrap>
    <bootstrap thing="cCereImmun">
      <autotag group="ClSpecWhen" tag="9"/>
      </bootstrap>
    <bootstrap thing="cBreachPwr">
      <autotag group="ClSpecWhen" tag="8"/>
      </bootstrap>
    <bootstrap thing="cCereBlind">
      <autotag group="ClSpecWhen" tag="6"/>
      </bootstrap>
    <bootstrap thing="fArmHeavy"></bootstrap>
    <bootstrap thing="fArmLight"></bootstrap>
    <bootstrap thing="fArmMedium"></bootstrap>
    <bootstrap thing="fWepMart"></bootstrap>
    <bootstrap thing="resEnemSel">
      <assignval field="livename" value="Favored Enemy (+2)"/>
      </bootstrap>
    <eval phase="PostLevel" priority="1000"><![CDATA[doneif (#levelcount[PhrenicS] < 4)
hero.child[resEnemUpg].field[resMax].value += 1

doneif (#levelcount[PhrenicS] < 7)
hero.child[resEnemUpg].field[resMax].value += 1

doneif (#levelcount[PhrenicS] < 10)
hero.child[resEnemUpg].field[resMax].value += 1]]></eval>
    </thing>
  <thing id="cPhrenicS" name="Phrenic Slayer" description="Hatred and enmity are not emotions that those with psionic power are immune to experiencing. And for some psionic creatures, this enmity develops into a focus to kill a particular type of psionic creature. These phrenic slayers train rigorously to find and kill their quarry, learning techniques to protect themselves against their enemy, even learning to turn their enemies&apos; attacks back upon them.\n\nPsionic races with levels in ranger are most commonly drawn to the phrenic slayer prestige class, as their tracking and combat abilities have synergy with the nature of the phrenic slayer. Manifesters may also become phrenic slayers, seeking to improve their combat prowess while hunting down their psionic creature of choice.\n\n{b}Role:{/b} Phrenic slayers excel at doing just what their name implies, killing, particularly the psionic creature type that has earned their focus. Their abilities allow them to go toe-to-toe with their favored enemy, often using their attacker&apos;s abilities against them.\n\n{b}Alignment:{/b} Any." compset="ClassLevel" maxlimit="10">
    <usesource source="pPsiUn"/>
    <tag group="ClassType" tag="Prestige"/>
    <tag group="ProductId" tag="HLCommunit"/>
    <bootstrap thing="cHelpPhr"></bootstrap>
    <link linkage="helper" thing="cHelpPhr"/>
    <exprreq message="Base Attack Bonus 4+ required."><![CDATA[child[Attack].field[tAtkBase].value >= 4]]></exprreq>
    <exprreq message="1 rank Knowledge (Psionics) required."><![CDATA[#skillranks[skPUKnwPsi] >= 1]]></exprreq>
    <exprreq message="Power Point reserve of 1 required."><![CDATA[#resmax[resPowerPt] > 0]]></exprreq>
    <prereq message="Requires Skill Focus (Survival)  or Track class feature">
      <validate><![CDATA[
if (hero.child[skSurvival].tagis[Helper.SkillFocus] + #hasability[cRgrTrack] >= 1 )then
       @valid = 1
       done
     endif]]></validate>
      </prereq>
    </thing>
  <thing id="cEnemySens" name="Enemy Sense" description="A phrenic slayer can sense the presence of her favored enemy within 60 feet of herself, even if they are hidden by darkness or walls, but she cannot discern their exact location." compset="ClSpecial">
    <tag group="AbilType" tag="Super"/>
    <tag group="SpecType" tag="Sense"/>
    </thing>
  <thing id="cBrainNauS" name="Brain Nausea (sickened)" description="A phrenic slayer of 2nd level or higher has developed an innate backlash effect when her favored enemy targets her with mind-affecting effects. Any time the phrenic slayer makes a successful save against a mind-affecting effect from her favored enemy and has psionic focus, the favored enemy must make a successful Will save (DC 10 +  slayer level + Wisdom modifier) or be sickened for a number of rounds equal to the phrenic slayer&apos;s Wisdom modifier. At 6th level, the source is instead nauseated on a failed save. At 10th level, the source is stunned for one round on a failed save." compset="ClSpecial">
    <tag group="abAction" tag="PUExpFocus"/>
    </thing>
  <thing id="cBrainNauN" name="Brain Nausea (nauseated)" description="A phrenic slayer of 2nd level or higher has developed an innate backlash effect when her favored enemy targets her with mind-affecting effects. Any time the phrenic slayer makes a successful save against a mind-affecting effect from her favored enemy and has psionic focus, the favored enemy must make a successful Will save (DC 10 +  slayer level + Wisdom modifier) or be sickened for a number of rounds equal to the phrenic slayer&apos;s Wisdom modifier. At 6th level, the source is instead nauseated on a failed save. At 10th level, the source is stunned for one round on a failed save." compset="ClSpecial">
    <tag group="abAction" tag="PUManFocus"/>
    </thing>
  <thing id="cBrainNauT" name="Brain Nausea (stunned)" description="A phrenic slayer of 2nd level or higher has developed an innate backlash effect when her favored enemy targets her with mind-affecting effects. Any time the phrenic slayer makes a successful save against a mind-affecting effect from her favored enemy and has psionic focus, the favored enemy must make a successful Will save (DC 10 +  slayer level + Wisdom modifier) or be sickened for a number of rounds equal to the phrenic slayer&apos;s Wisdom modifier. At 6th level, the source is instead nauseated on a failed save. At 10th level, the source is stunned for one round on a failed save." compset="ClSpecial">
    <tag group="abAction" tag="PUManFocus"/>
    </thing>
  <thing id="cLucidBuff" name="Lucid Buffer" description="At 3rd level, a phrenic slayer becomes especially skilled at resisting mental attacks. She gains a +2 competence bonus on saving throws against all compulsions and mind-affecting effects. This ability is active even if the phrenic slayer is unconscious, stunned, or otherwise helpless. This bonus increases to +4 at 8th level." compset="ClSpecial">
    <tag group="AbilType" tag="Super"/>
    <eval phase="Final" priority="1000"><![CDATA[
      var levelname as string
      if (field[xIndex].value = 1) then
        levelname = "2"
      elseif (field[xIndex].value = 2) then
        levelname = "4"
        endif

      field[listname].text = "Lucid buffer (+" & levelname & ")"

      ~we only need to generate a livename for the first copy
      doneif (tagis[Helper.FirstCopy] = 0)

      if (field[xCount].value = 1) then
        levelname = "2"
      elseif (field[xCount].value = 2) then
        levelname = "4"
        endif

      field[livename].text = "Lucid buffer (+" & levelname & ")"]]></eval>
    </thing>
  <thing id="cFavEnemy" name="Favored Enemy" description="When she enters the class, a phrenic slayer formally declares a psionic creature type from the phrenic slayer favored enemies table as the enemy she detests above all others. Due to her extensive study of her foes and training in the proper techniques for combating them, she gains a +2 bonus on Bluff, Perception, Sense Motive, and Survival checks when using these skills against her favored enemy.\n\nLikewise, she gets a +2 bonus on attack rolls and weapon damage rolls against creatures of this kind. These bonuses for favored enemies only work if the creature has the psionic subtype.\n\nAt 4th level the bonuses increase to +4, at 7th level to +6, and at 10th level to +8." compset="ClSpecial">
    <tag group="AbilType" tag="Super"/>
    <tag group="Helper" tag="ClExLose"/>
    <eval phase="Final" priority="1000"><![CDATA[
      var levelname as string
      if (field[xIndex].value = 1) then
        levelname = "4"
      elseif (field[xIndex].value = 2) then
        levelname = "6"
      elseif (field[xIndex].value = 2) then
        levelname = "8"
        endif

      field[listname].text = "Favored Enemy (+" & levelname & ")"

      ~we only need to generate a livename for the first copy
      doneif (tagis[Helper.FirstCopy] = 0)

      if (field[xCount].value = 1) then
        levelname = "4"
      elseif (field[xCount].value = 2) then
        levelname = "6"
      elseif (field[xCount].value = 3) then
        levelname = "8"
        endif

      field[livename].text = "Favored Enemy (+" & levelname & ")"]]></eval>
    </thing>
  <thing id="cCereBlind" name="Cerebral Blind" description="After reaching 6th level, a phrenic slayer is protected from all devices, powers, and spells that reveal location. This ability protects against information gathering by clairsentience powers or effects that reveal location.\n\nThe ability even foils bend reality, limited wish, miracle, reality revision, and wish when they are used to gain information about the phrenic slayer&apos;s location (however, metafaculty can pierce this protective barrier). In the case of remote viewing or scrying that scans an area a phrenic slayer is in, the effect works, but the phrenic slayer simply isn&apos;t detected. Remote viewing or scrying attempts that are targeted specifically at a phrenic slayer do not work. This ability is active as long as the phrenic slayer is psionically focused." compset="ClSpecial">
    <tag group="AbilType" tag="Super"/>
    <tag group="SpecType" tag="Resist"/>
    <tag group="abAction" tag="PUManFocus"/>
    </thing>
  <thing id="cBreachPwr" name="Breach Power Resistance" description="A phrenic slayer of 8th level or higher can enhance her weapon with psionic might. Each successful melee attack (or ranged attack if the target is within 30 feet) she makes with her weapon against her favored enemy temporarily reduces its power resistance (if any) by 1. This penalty stacks. Unless the creature is slain, its lost power resistance returns all at once 12 hours later. This ability is active as long as the phrenic slayer is psionically focused. If the target has no power resistance, this ability does not function." compset="ClSpecial">
    <tag group="AbilType" tag="Super"/>
    <tag group="abAction" tag="PUManFocus"/>
    </thing>
  <thing id="cCereImmun" name="Cerebral Immunity" description="On reaching 9th level, a phrenic slayer gains protection from all devices, powers, and spells that influence the mind. This ability grants her a +10 resistance bonus against almost all mind-affecting powers and effects (though the phrenic slayer can selectively allow powers or spells to affect her). The ability even foils bend reality, limited wish, miracle, reality revision, and wish when they are used to mentally influence a phrenic slayer. This ability is active as long as the phrenic slayer is psionically focused." compset="ClSpecial">
    <tag group="AbilType" tag="Super"/>
    <tag group="SpecType" tag="Immune"/>
    <tag group="abAction" tag="PUManFocus"/>
    </thing>
  <thing id="cReboundAt" name="Rebound Attack" description="At 10th level, if a phrenic slayer is targeted by her favored enemy by an effect that is subject to power resistance, as an immediate action, she may expend her psionic focus to rebound the effect on the source as if using reddopsi. This effect may not be used on touch range effects (including ranged touch attacks), effects that target an area, or effects such as dispel psionics. She may use this ability a number of times per day equal to 3 plus her Wisdom modifier." compset="ClSpecial">
    <tag group="AbilType" tag="Super"/>
    <tag group="abAction" tag="PUExpFocus"/>
    <tag group="abAction" tag="Immediate"/>
    </thing>
  <thing id="cHelpPsU" name="Psion Uncarnate" compset="Class" uniqueness="unique">
    <fieldval field="cHDSides" value="6"/>
    <fieldval field="cAbbr" value="PsU"/>
    <fieldval field="cSkills" value="2"/>
    <fieldval field="srcPageNum" value="370"/>
    <fieldval field="srcBookInf" value="Ultimate Psionics"/>
    <arrayval field="cMagLevTot" index="4" value="3"/>
    <arrayval field="cMagLevTot" index="5" value="4"/>
    <arrayval field="cMagLevTot" index="7" value="5"/>
    <arrayval field="cMagLevTot" index="8" value="6"/>
    <arrayval field="cMagLevTot" index="1" value="1"/>
    <arrayval field="cMagLevTot" index="2" value="2"/>
    <usesource source="pPsiUn"/>
    <tag group="ClassSkill" tag="skSpellcr"/>
    <tag group="cRef" tag="Poor"/>
    <tag group="cWill" tag="Medium"/>
    <tag group="Classes" tag="Uncarnate" name="Psion Uncarnate"/>
    <tag group="cAttack" tag="Poor"/>
    <tag group="cFort" tag="Poor"/>
    <tag group="ClassSkill" tag="skPUAhypno"/>
    <tag group="ClassSkill" tag="skBluff"/>
    <tag group="ClassSkill" tag="skDisguise"/>
    <tag group="ClassSkill" tag="skSenseMot"/>
    <tag group="ClassSkill" tag="skKnowPlan"/>
    <tag group="ProductId" tag="HLCommunit"/>
    <bootstrap thing="cIncoTouch">
      <autotag group="ClSpecWhen" tag="6"/>
      </bootstrap>
    <bootstrap thing="cIncoTouch">
      <autotag group="ClSpecWhen" tag="8"/>
      </bootstrap>
    <bootstrap thing="cIncoTouch">
      <autotag group="ClSpecWhen" tag="10"/>
      </bootstrap>
    <bootstrap thing="cUncArmor">
      <autotag group="ClSpecWhen" tag="2"/>
      </bootstrap>
    <bootstrap thing="cAssumeEq">
      <autotag group="ClSpecWhen" tag="3"/>
      </bootstrap>
    <bootstrap thing="cAssumeLi">
      <autotag group="ClSpecWhen" tag="4"/>
      </bootstrap>
    <bootstrap thing="cPartVeil">
      <autotag group="ClSpecWhen" tag="5"/>
      </bootstrap>
    <bootstrap thing="cHideMind">
      <autotag group="ClSpecWhen" tag="6"/>
      </bootstrap>
    <bootstrap thing="cUncPsiTal">
      <autotag group="ClSpecWhen" tag="7"/>
      </bootstrap>
    <bootstrap thing="fPUPsiTal">
      <containerreq phase="First" priority="500"><![CDATA[count:Classes.Uncarnate >= 7]]></containerreq>
      </bootstrap>
    <bootstrap thing="cTeleForce">
      <autotag group="ClSpecWhen" tag="7"/>
      </bootstrap>
    <bootstrap thing="cRendVeil">
      <autotag group="ClSpecWhen" tag="8"/>
      </bootstrap>
    <bootstrap thing="cUncBridge">
      <autotag group="ClSpecWhen" tag="9"/>
      </bootstrap>
    <bootstrap thing="cUncarAbil">
      <autotag group="ClSpecWhen" tag="10"/>
      </bootstrap>
    <bootstrap thing="cShedBody">
      <autotag group="ClSpecWhen" tag="1"/>
      </bootstrap>
    <bootstrap thing="cMatterBnd">
      <autotag group="ClSpecWhen" tag="1"/>
      </bootstrap>
    <bootstrap thing="cIncoTouch">
      <autotag group="ClSpecWhen" tag="2"/>
      </bootstrap>
    <bootstrap thing="cIncoTouch">
      <autotag group="ClSpecWhen" tag="4"/>
      </bootstrap>
    <bootstrap thing="cIncoTouch">
      <autotag group="ClSpecWhen" tag="5"/>
      </bootstrap>
    </thing>
  <thing id="cUncarnate" name="Psion Uncarnate" description="It isn&apos;t known if the uncarnate process is what created the race of Unbodied, or if the Unbodied inspired the process of uncarnation. Either way, these two are linked in many ways, as the goal of the psion uncarnate is to leave the fetters of the physical corporeal body behind, transforming into a being of pure energy. Over time, the psion uncarnate releases his hold on the physical realm, becoming permanently incorporeal and thus free from the burdens and weaknesses of the physical form. To some, it is the quest for life eternal that leads to this path; for others, it is the wish to be truly free - free from society, constraints created by the physical body, and even the physical worlds themselves. Pure manifesters are the most likely to be drawn to become a psion uncarnate, due to the mastery of psionics needed. Psychic warriors, focusing on using both the body and mind, are very unlikely to walk the path to become a psion uncarnate.\n\n{b}Role:{/b} Psion uncarnates have a tendency to be loners, spending much of their time seeking to become incorporeal creatures. However, if they do choose to be around other creatures, they excel at getting to places that would otherwise be impossible to reach, by passing through barriers and avoiding detection.\n\n{b}Alignment:{/b} Any.\n\n{b}Special Requirement:{/b} Must have had some instruction by another psion uncarnate or one of the Unbodied." compset="ClassLevel" maxlimit="10">
    <usesource source="pPsiUn"/>
    <tag group="ClassType" tag="Prestige"/>
    <tag group="ProductId" tag="HLCommunit"/>
    <bootstrap thing="cHelpPsU"></bootstrap>
    <link linkage="helper" thing="cHelpPsU"/>
    <exprreq message="Knowledge (Psionics) rank 5+ required."><![CDATA[#skillranks[skPUKnwPsi] >= 5]]></exprreq>
    <exprreq message="Spellcraft rank 5+ required."><![CDATA[#skillranks[skSpellcr] >= 5]]></exprreq>
    <exprreq message="Psionic Body feat required."><![CDATA[#hasfeat[fPUPsiBody] <> 0]]></exprreq>
    <prereq message="Ability to manifest 3rd level powers required.">
      <validate><![CDATA[foreach pick in hero where "Classes.? & Helper.Manifester"
  if (eachpick.field[cPsiLevMax].value >= 3) then
    @valid = 1
    done
    endif
  nexteach]]></validate>
      </prereq>
    </thing>
  <thing id="cShedBody" name="Shed Body" description="Starting at 1st level, a psion uncarnate can become incorporeal (or uncarnate) as a move action. Each day the character can remain uncarnate for up to 10 rounds and for each level after the first, he can remain uncarnate for 1 additional round. However, unlike other incorporeal creatures, a psion uncarnate does not gain a deflection bonus to Armor Class from his Charisma modifier. During this time, the character&apos;s body fades into an immaterial form that retains the character&apos;s basic likeness. While uncarnate, the character gains a fly speed equal to his land speed (perfect maneuverability). Losing his physical form allows the character to more easily access his mental abilities, and he gains a +1 bonus on all save DCs for powers he manifests while uncarnate. A psion uncarnate can become corporeal again as a move action and he is free to divide his available rounds per day in any way he chooses." compset="ClSpecial">
    <comment>Need to add +1 to the DC of all powers when Active.</comment>
    <tag group="User" tag="Tracker"/>
    <tag group="Usage" tag="DayRound"/>
    <tag group="User" tag="Activation"/>
    <tag group="AbilType" tag="Super"/>
    <eval phase="Final" priority="1000" index="2"><![CDATA[var speed as number
speed = hero.child[Speed].field[tSpeed].value

field[abValue].value = speed
~and if we're active, set our fly speed
if (field[abilActive].value <> 0) then
  hero.childfound[xFly].field[abValue].value = maximum(hero.childfound[xFly].field[abValue].value, field[abValue].value)
  perform hero.child[xFly].assign[Maneuver.Perfect]
  endif]]></eval>
    <eval phase="Final" priority="1000"><![CDATA[var bonus as number
bonus = #levelcount[Uncarnate] + 9

~field[listname].text = "Shed Body (" & bonus & " rounds/day)"
~field[livename].text = "Shed Body (" & bonus & " rounds/day)"

field[trkMax].value = bonus]]>
      <after name="Encumber Final"/>
      </eval>
    </thing>
  <thing id="cMatterBnd" name="Matter Bound" description="When becoming uncarnate, the psion uncarnate can choose to either subsume his equipment into his incorporeal form, in which case they become inert (but see Assume Equipment below), or he can choose to have them remain functional but material. While the equipment is material, he can use it normally, deriving benefits from items that enhance his capabilities.\n\nOften, a psion uncarnate appears almost like a ghost wearing items of the material world. This doesn&apos;t make his equipment more susceptible to attack (the normal rules for attended objects apply), but it does make it impossible for the character to enter or pass through solid objects while wearing solid equipment. If he drops his material equipment or subsumes it as a swift action, he can pass through solid objects at will again." compset="ClSpecial">
    <tag group="AbilType" tag="Extra"/>
    </thing>
  <thing id="cIncoTouch" name="Incorporeal Touch" description="Beginning at 2nd level, a psion uncarnate can make a melee  touch attack that deals 1d6 points of damage if it hits. The character&apos;s Strength modifier is not applied to this attack, but it is effective against incorporeal creatures (and against corporeal creatures while the psion uncarnate is incorporeal) The character&apos;s hand and arm seem to become slightly translucent when he makes these attacks. While material, the psion uncarnate can use this ability up to three times per day, and while uncarnate, a psion uncarnate can make melee touch attacks at will that do not count against his uses of this ability. For every 2 levels, he gains an additional use of this ability while material. For every three levels higher than 2nd the psion uncarnate attains, the damage on these attacks increases by 1d6 points." compset="ClSpecial">
    <tag group="AbilType" tag="Super"/>
    <tag group="User" tag="Tracker"/>
    <tag group="Usage" tag="Day"/>
    <eval phase="Final" priority="1000"><![CDATA[var dice as number
var times as number

if (field[xIndex].value = 1) then
  dice = 1
  times = 3
elseif (field[xIndex].value = 2) then
  dice = 1
  times = 4
elseif (field[xIndex].value = 3) then
  dice = 2
  times = 4
elseif (field[xIndex].value = 4) then
  dice = 2
  times = 5
elseif (field[xIndex].value = 5) then
  dice = 3
  times = 6
elseif (field[xIndex].value = 6) then
  dice = 3
  times = 7
  endif

field[listname].text = "Incorporeal Touch (" & dice & "d6) (" & times & "/day)"

~we only need to generate a livename for the first copy
doneif (tagis[Helper.FirstCopy] = 0)

field[trkMax].value += times

if (field[xCount].value = 1) then
  dice = 1
elseif (field[xCount].value = 2) then
  dice = 1
elseif (field[xCount].value = 3) then
  dice = 2
elseif (field[xCount].value = 4) then
  dice = 2
elseif (field[xCount].value = 5) then
  dice = 3
elseif (field[xCount].value = 6) then
  dice = 3
  endif

field[livename].text = "Incorporeal Touch (" & dice & "d6)"]]></eval>
    </thing>
  <thing id="cUncArmor" name="Uncarnate Armor" description="At 2nd level, a psion uncarnate wearing armor (or using inertial armor or a similar effect) gets his armor bonus to AC even when he becomes incorporeal, along with any special abilities the armor may convey, such as fortification and the benefits against critical hits. This ability works even if the armor being worn becomes incorporeal and subsumed, as per Shed Body." compset="ClSpecial">
    <tag group="AbilType" tag="Super"/>
    </thing>
  <thing id="cAssumeEq" name="Assume Equipment" description="Beginning at 3rd level, a psion uncarnate can designate a number of pieces of his worn equipment (including weapons, but excluding armor which is always active anyway, as per the Uncarnate Armor ability) equal to his class level to retain their function when he uses his shed body ability. This has no effect on the equipment&apos;s function, but now when the psion uncarnate is incorporeal, he can enter or pass through solid objects while wearing nothing other than the designated equipment. Once designated, the equipment automatically changes to incorporeal when the character sheds his body, and it returns to corporeality when the character does. The character can change his designations as he desires as a free action." compset="ClSpecial">
    <tag group="AbilType" tag="Super"/>
    <eval phase="Final" priority="1000"><![CDATA[var bonus as number
bonus = #levelcount[Uncarnate]

field[listname].text = "Assume Equipment (" & bonus & " items)"
field[livename].text = "Assume Equipment (" & bonus & " items)"]]></eval>
    </thing>
  <thing id="cAssumeLi" name="Assume Likeness" description="At 4th level and higher, while incorporeal, a psion uncarnate can assume the likeness of any Small, Medium, or Large creature as a standard action that does not provoke attacks of opportunity. The character&apos;s abilities do not change, but he appears to be the creature that he assumes the likeness of, allowing him the ability to effectively disguise himself and bluff those who might wonder at his true nature. When he does this, he does not seem ghostlike, but rather quite material. Each physical interaction with a creature requires a successful Bluff check (opposed by the creature&apos;s Sense Motive check) to convince the creature of the psion uncarnate&apos;s new appearance. The psion uncarnate must not do anything to give away his true (incorporeal) nature in order for the bluff to be successful; for instance, if he accepts an item from another creature only to have it fall through his immaterial hands, the Bluff check automatically fails. However, a Bluff check would be allowed if the psion uncarnate uses his telekinetic force ability (see below) to hold the received item.\n\nWhen using his assume likeness ability, a psion uncarnate has an additional +10 circumstance bonus on Disguise checks. If he can read an opponent&apos;s mind, he gets a further +4 circumstance bonus on Bluff and Disguise checks." compset="ClSpecial">
    <fieldval field="actName2" value="Read opponent&apos;s mind?"/>
    <tag group="User" tag="Activation"/>
    <tag group="AbilType" tag="Super"/>
    <eval phase="PreLevel" priority="5000"><![CDATA[~if we're active, set add Disguise bonus
if (field[abilActive].value <> 0) then
  #applybonus[Bonus,hero.childfound[skDisguise],10]
  endif

~if both active, set add additional Disguise bonus
if (field[abilAct2].value <> 0) then
  #applybonus[Bonus,hero.childfound[skDisguise],14]
  endif]]></eval>
    </thing>
  <thing id="cPartVeil" name="Parting the Veil" description="At 5th level, the psion uncarnate can expend a use of his Incorporeal Touch ability to give a weapon or armor he touches the Ghost Touch property for 5 minutes." compset="ClSpecial">
    <tag group="AbilType" tag="Super"/>
    </thing>
  <thing id="cHideMind" name="Hide Mind" description="As the psion uncarnate continues to evolve towards a higher state of being, he gains the ability to hide his true nature from others. From 6th level, nothing can identify the psion uncarnate as being psionic, regardless of whether it is spells or powers." compset="ClSpecial">
    <tag group="AbilType" tag="Super"/>
    </thing>
  <thing id="cUncPsiTal" name="Psionic Talent" description="A psion uncarnate of 7th level gains the Psionic Talent feat as a bonus feat." compset="ClSpecial">
    <tag group="Helper" tag="SpecUp"/>
    </thing>
  <thing id="cTeleForce" name="Telekinetic Force" description="Beginning at 7th level, while incorporeal, a psion uncarnate can use telekinetic force as a standard action that does not provoke attacks of opportunity. The save DC is equal to 10 + class level + the psion uncarnate&apos;s key ability modifier (either Int, Wis, or Cha). The character&apos;s manifester level is the manifester level of the effect.\n\nEven while corporeal, a psion uncarnate can use this ability, but only three times per day (uses while he is uncarnate do not count against this use limit)." compset="ClSpecial">
    <tag group="Helper" tag="SpecUp"/>
    </thing>
  <thing id="cRendVeil" name="Rend the Veil" description="At 8th level, a psion uncarnate is almost at the peak of his ascension and can rend the veil that separates the material from the incorporeal. While incorporeal, the psion uncarnate can expend his psionic focus while making a melee touch attack against another incorporeal creature. If the attack hits, the target becomes material for up to 1 minute. While corporeal, the psion uncarnate can expend a use of his Incorporeal Touch ability to make a similar melee touch attack, that if it hits, makes the target incorporeal for up to 1 minute. Both uses affect both the creature and any equipment it is using. The psion uncarnate can end either use of this effect as a swift action." compset="ClSpecial">
    <tag group="AbilType" tag="Super"/>
    </thing>
  <thing id="cUncBridge" name="Uncarnate Bridge" description="At 9th level, the psion uncarnate can use the minds of others as a springboard for transportation. While incorporeal, he can enter the body of a living creature and instantly teleport to any other living creature within line of sight as a move action. This is often unsettling for those subjected to this and if he so chooses, the psion uncarnate can make his entry and exit even more disturbing by partially melding with the mind of those affected. If he so chooses, both the entry and exit creature must make a Fortitude save with a save DC equal to 10 +  class level + the psion uncarnate&apos;s key ability modifier (either Int, Wis, or Cha). If the target fails, it becomes nauseated for 1 round." compset="ClSpecial">
    <tag group="AbilType" tag="Super"/>
    </thing>
  <thing id="cUncarAbil" name="Uncarnate" description="At 10th level, a psion uncarnate becomes a being of pure psionic consciousness. The character becomes permanently uncarnate, gains an additional +1 bonus to all save DCs of powers he manifests, counts his key ability score as 4 points higher for the purpose of bonus power points, gains a deflection bonus to his AC equal to his Charisma (minimum +1) and can instead use his Shed Body class ability to become material." compset="ClSpecial">
    <tag group="AbilType" tag="Extra"/>
    </thing>
  <thing id="cHelpFst" name="Psychic Fist" compset="Class" uniqueness="unique">
    <fieldval field="cAbbr" value="Fst"/>
    <fieldval field="cSkills" value="4"/>
    <fieldval field="cHDSides" value="8"/>
    <fieldval field="srcPageNum" value="373"/>
    <fieldval field="srcBookInf" value="Ultimate Psionics"/>
    <arrayval field="cBonFtTot" index="4" value="1"/>
    <arrayval field="cBonFtTot" index="9" value="2"/>
    <usesource source="pPsiUn"/>
    <tag group="cRef" tag="Medium"/>
    <tag group="cWill" tag="Medium"/>
    <tag group="Classes" tag="PsyFist" name="Psychic Fist"/>
    <tag group="fCategory" tag="Psionic"/>
    <tag group="cAttack" tag="Medium"/>
    <tag group="cFort" tag="Poor"/>
    <tag group="ClassSkill" tag="skPUAhypno"/>
    <tag group="ClassSkill" tag="skAcrobat"/>
    <tag group="ProductId" tag="HLCommunit"/>
    <tag group="ClassSkill" tag="skEscape"/>
    <tag group="ClassSkill" tag="skStealth"/>
    <tag group="ClassSkill" tag="skPUKnwPsi"/>
    <tag group="ClassSkill" tag="skSpellcr"/>
    <bootstrap thing="cMesmerGlo">
      <autotag group="ClSpecWhen" tag="4"/>
      </bootstrap>
    <bootstrap thing="cConcWill">
      <autotag group="ClSpecWhen" tag="6"/>
      </bootstrap>
    <bootstrap thing="cInfuseBod">
      <autotag group="ClSpecWhen" tag="6"/>
      </bootstrap>
    <bootstrap thing="cPsiAcro">
      <autotag group="ClSpecWhen" tag="7"/>
      </bootstrap>
    <bootstrap thing="cPsychFus">
      <autotag group="ClSpecWhen" tag="10"/>
      </bootstrap>
    <bootstrap thing="cInfuseBod">
      <autotag group="ClSpecWhen" tag="9"/>
      </bootstrap>
    <bootstrap thing="cPsyFstMnk">
      <autotag group="ClSpecWhen" tag="1"/>
      </bootstrap>
    <bootstrap thing="cFstPUMani">
      <autotag group="ClSpecWhen" tag="1"/>
      </bootstrap>
    <bootstrap thing="cKiPower">
      <autotag group="ClSpecWhen" tag="2"/>
      </bootstrap>
    <bootstrap thing="cInfuseBod">
      <autotag group="ClSpecWhen" tag="3"/>
      </bootstrap>
    </thing>
  <thing id="cPsyFist" name="Psychic Fist" description="Martial artists who work to combine the power of the mind with the physical form, psychic fists believe that psionic power is something to be nurtured and developed.\n\nMonks of psionic races are the most common to become psychic fists, although monks who have taken levels in psionic classes could also become psychic fists. As most psychic fists are monks, they are typically of a lawful alignment. However, it is not uncommon that monks who have become nonlawful take up the path of the psychic fist to continue developing their abilities while exploring their psionic potential.\n\n{b}Role:{/b} The psychic fist is a front-line fighter who excels at blending his martial prowess with his mental ability to overcome enemies. While they do not have the defensive capabilities of others, they gain unique features that allow them to survive in the fray.\n\n{b}Alignment:{/b} Any." compset="ClassLevel" maxlimit="10">
    <tag group="ClassType" tag="Prestige"/>
    <tag group="ProductId" tag="HLCommunit"/>
    <bootstrap thing="cHelpFst"></bootstrap>
    <link linkage="helper" thing="cHelpFst"/>
    <exprreq message="Base Attack Bonus 4+ required"><![CDATA[child[Attack].field[tAtkBase].value >= 4]]></exprreq>
    <exprreq message="Acrobatics rank 6+ required."><![CDATA[#skillranks[skAcrobat] >= 6]]></exprreq>
    <exprreq message="Power Point reserve of 1+ required."><![CDATA[#resmax[resPowerPt] > 0]]></exprreq>
    <exprreq message="Psionic Fist or Psionic Weapon feat required."><![CDATA[#hasfeat[fPUPsiFist] + #hasfeat[fPUPsiWep] <> 0]]></exprreq>
    <exprreq message="Must have Ki pool of at least 1 point."><![CDATA[#hasability[cMnkKiPool] <> 0]]></exprreq>
    </thing>
  <thing id="cPsyFstMnk" name="Monk Abilities" description="A psychic fist&apos;s class levels stack with his monk levels for the purpose of determining his unarmed damage, bonuses to Armor Class, unarmored speed, and flurry of blows. His class levels do not apply to other monk abilities such as slow fall, ki strike abilities, and so on." compset="ClSpecial">
    <eval phase="Level" priority="1000"><![CDATA[
      ~ We're earlier than the normal test for whether we've reached the correct level, so we'll recreate that test here
      doneif (root.field[cTotalLev].value + field[xExtraLev].value + field[xEffectLev].value < tagvalue[ClSpecWhen.?])
      ~ if we've been disabled, get out now
      doneif (tagis[Helper.SpcDisable] <> 0)

      ~ psychic fist level
      field[abValue].value = root.field[cTotalLev].value

      ~ Add Psychic Fist level to Monk for Unarmed, AC,
      hero.childfound[cMnkAC].field[xExtraLev].value += field[abValue].value
      hero.childfound[cMnkUnarm].field[xExtraLev].value += field[abValue].value
      hero.childfound[cMnkSpeed].field[xExtraLev].value += field[abValue].value
      hero.childfound[cMnkFlurr].field[xExtraLev].value += field[abValue].value]]></eval>
    </thing>
  <thing id="cFstPUMani" name="Manifesting" description="A psychic fist gains manifesting ability if he did not already have it. His power points per day, powers known, and maximum power level known are given on Table 6-6: The Psychic Fist. He chooses his powers from the psychic warrior power list. To learn or manifest a power, he must have a Wisdom score of at least 10 + the power&apos;s level, the save DCs for his powers are Wisdom-based, and he uses his Wisdom score to determine bonus power points.\n\nAlternatively, if the psychic fist was capable of manifesting psionic powers before becoming a psychic fist, he may choose to forgo this training, instead opting to progress his existing manifesting class as described on the table below. At each indicated level, he gains power points, access to new powers, and an improved manifester level as if he had gained a level in whatever manifesting class he belonged to earlier. If he belonged to more than one manifesting class before becoming a psychic fist, he must choose which class to add the level of psychic fist to for the purposes of power points, access to new powers, and manifester level.\n\nOnce the psychic fist has chosen his manifesting path, it can never be changed - not even with effects such as {i}psychic reformation{/i}.\n\n{b}Note:{/b} The drop down lets you select if you with to progress your existing manifesting class or manifest psionic powers yourself." compset="ClSpecial">
    <arrayval field="usrArray" index="0" value="Progress Manifesting"/>
    <arrayval field="usrArray" index="1" value="Manifest Powers"/>
    <tag group="ProductId" tag="HLCommunit"/>
    <eval phase="First"><![CDATA[

      ~<arrayval field="cMagLevTot" index="0" value="1"/>
      If (field[usrIndex].value = 0) then
        root.field[cMagLevTot].arrayvalue[1] += 1
        root.field[cMagLevTot].arrayvalue[2] += 1
        root.field[cMagLevTot].arrayvalue[3] += 1
        root.field[cMagLevTot].arrayvalue[5] += 1
        root.field[cMagLevTot].arrayvalue[8] += 1
        root.field[cMagLevTot].arrayvalue[9] += 1

      ~<arrayval field="cPsiPPTot" index="0" value="1"/>
      ~<arrayval field="cPsiPowTot" index="0" value="1"/>
      ~<arrayval field="cPsiLevTot" index="0" value="1"/>
      ElseIf (field[usrIndex].value = 1) then
        ~ Set Psionic attribute linkage to Wisdom. THIS DOES NOT WORK!
        ~ We needed to have a initial linkage set to change it.
        ~<link linkage="psiattr" thing="aWIS"/>
        ~perform setlinkage[psiattr,BaseAttr,"PsiAttr.aWIS"]
        ~ Set that we use Psyic Warrior powers
        perform root.assign[psiClass.cHelpPWa]
        ~ Set that we are now a Manifesting class
        perform root.assign[Helper.Manifester]
        ~ Set hero.Psionic as at this level we are now a full Psionic Character with a ML
        call SetHeroPsi
        perform hero.assign[Psionics.Class]
        ~root.field[cPsiPPMax].value += 1

        ~ Set Power Points/day
        root.field[cPsiPPTot].arrayvalue[0] = 1
        root.field[cPsiPPTot].arrayvalue[1] = 3
        root.field[cPsiPPTot].arrayvalue[2] = 6
        root.field[cPsiPPTot].arrayvalue[3] = 10
        root.field[cPsiPPTot].arrayvalue[4] = 15
        root.field[cPsiPPTot].arrayvalue[5] = 23
        root.field[cPsiPPTot].arrayvalue[6] = 31
        root.field[cPsiPPTot].arrayvalue[7] = 43
        root.field[cPsiPPTot].arrayvalue[8] = 55
        root.field[cPsiPPTot].arrayvalue[9] = 71
        ~ Set Powers Known
        root.field[cPsiPowTot].arrayvalue[0] = 1
        root.field[cPsiPowTot].arrayvalue[1] = 2
        root.field[cPsiPowTot].arrayvalue[2] = 3
        root.field[cPsiPowTot].arrayvalue[3] = 4
        root.field[cPsiPowTot].arrayvalue[4] = 5
        root.field[cPsiPowTot].arrayvalue[5] = 6
        root.field[cPsiPowTot].arrayvalue[6] = 7
        root.field[cPsiPowTot].arrayvalue[7] = 8
        root.field[cPsiPowTot].arrayvalue[8] = 9
        root.field[cPsiPowTot].arrayvalue[9] = 10
        ~ Set Level Known
        root.field[cPsiLevTot].arrayvalue[0] = 1
        root.field[cPsiLevTot].arrayvalue[1] = 1
        root.field[cPsiLevTot].arrayvalue[2] = 2
        root.field[cPsiLevTot].arrayvalue[3] = 2
        root.field[cPsiLevTot].arrayvalue[4] = 3
        root.field[cPsiLevTot].arrayvalue[5] = 3
        root.field[cPsiLevTot].arrayvalue[6] = 4
        root.field[cPsiLevTot].arrayvalue[7] = 4
        root.field[cPsiLevTot].arrayvalue[8] = 5
        root.field[cPsiLevTot].arrayvalue[9] = 5
      Endif]]></eval>
    <eval phase="PostAttr" priority="1000" index="2"><![CDATA[
      ~ If we are now a manifesting character we need to set DC
      ~ & power points as if we have a set the linkage to Wisdom
      If (field[usrIndex].value = 1) then
        root.field[cPsiPPMax].value += #attrmod[aWIS]
        root.field[cPsiSaveDC].value += #attrmod[aWIS]
      endif]]></eval>
    </thing>
  <thing id="cKiPower" name="Ki Power" description="Upon achieving 2nd level, a psychic fist adds 1/2 his psychic fist level to his monk level to determine the number of points in his ki pool and the effect of his ki strike." compset="ClSpecial">
    <tag group="ProductId" tag="HLCommunit"/>
    <eval phase="Level" priority="1000"><![CDATA[
      ~ We're earlier than the normal test for whether we've reached the correct level, so we'll recreate that test here
      doneif (root.field[cTotalLev].value + field[xExtraLev].value + field[xEffectLev].value < tagvalue[ClSpecWhen.?])
      ~ if we've been disabled, get out now
      doneif (tagis[Helper.SpcDisable] <> 0)

      ~ 1/2 his psychic fist level
      field[abValue].value = round(root.field[cTotalLev].value / 2,0,1)

      ~ Add Psychic Fist level to Monk for Unarmed, AC,
      hero.childfound[cMnkKiPool].field[xExtraLev].value += field[abValue].value]]></eval>
    </thing>
  <thing id="cInfuseBod" name="Infused Body" description="A 3rd level psychic fist&apos;s internal power strengthens his physical form. As long as the psychic fist maintains psionic focus, he gains damage reduction 1/-. This improves to 2/- at 6th level, and 3/- at 9th level." compset="ClSpecial" summary="Damage Reduction against weapons and natural attacks.">
    <tag group="SpecType" tag="DR"/>
    <tag group="AbilType" tag="Super"/>
    <tag group="Helper" tag="SpecUp"/>
    <tag group="abAction" tag="PUManFocus"/>
    <tag group="ProductId" tag="HLCommunit"/>
    <bootstrap thing="xDamRd"></bootstrap>
    <eval phase="PostLevel" priority="10000"><![CDATA[
      field[listname].text = field[name].text & " (DR: " & field[xIndex].value & "/-)"

      ~ These calculations should only happen for the first copy
      doneif (tagis[Helper.FirstCopy] = 0)
      ~ If we're not shown, just get out now
      doneif (tagis[Helper.ShowSpec] = 0)

      field[abValue].value += field[xCount].value
      field[CustDesc].text = "Damage Reduction (" & field[abValue].value & ") against weapons and natural attacks."

      var v_focus as number
      call PUPsiFocus
      ~ If Not psionically focused get out now
      doneif (v_focus <> 1)

      ~ If psionically focused, add the Damage Reduction
      #applydr[xDamRd,field[abValue].value]]]></eval>
    </thing>
  <thing id="cMesmerGlo" name="Mesmerising Glow" description="A psychic fist of 4th level can, as a standard action, spend 1 ki point to perform a visually-dazzling display, dazing up to half his class level in targets for one round unless the targets make a successful Will save (DC 10 + 1/2 psychic fist level + psychic fist&apos;s Wisdom modifier). All targets must be within 30 feet of the psychic fist and have line of sight to him to be affected." compset="ClSpecial">
    <tag group="AbilType" tag="Super"/>
    <tag group="abAction" tag="Standard"/>
    <tag group="StandardDC" tag="aWIS"/>
    <tag group="abSave" tag="WillNeg"/>
    </thing>
  <thing id="cConcWill" name="Concentrated Will" description="Upon achieving 6th level, a psychic fist has learned to harness his internal energy to shrug off attacks that would harm others. Any time the psychic fist would suffer hit point damage, he may spend 2 ki points as an immediate action and make an Autohypnosis check (DC equal to double the damage of the attack) to ignore the damage. If the psychic fist fails the Autohypnosis check, the ki points are still spent and he still takes the damage." compset="ClSpecial"></thing>
  <thing id="cPsiAcro" name="Psionic Acrobatics" description="As long as a psychic fist of 7th level or higher maintains psionic focus, he adds his Wisdom modifier to his Acrobatics checks." compset="ClSpecial">
    <fieldval field="actName" value="Has Psionic Focus?"/>
    <tag group="User" tag="Activation"/>
    <tag group="abAction" tag="PUManFocus"/>
    <eval phase="PostAttr" priority="1000"><![CDATA[      var v_focus as number
      call PUPsiFocus
      ~ If Not psionically focused get out now
      doneif (v_focus <> 1)

      ~If psionically focused, add Wisdom Modifier to acrobatics
      #skillbonus[skAcrobat] += #attrmod[aWIS]]]></eval>
    </thing>
  <thing id="cPsychFus" name="Psychic Fusion" description="At 10th level, whenever a psychic fist successfully confirms a critical with a melee attack, he can manifest a power as a swift action. The power must include the target of the attack as one of its targets or in its area of effect and have a normal manifesting time of 1 standard action or less. Manifesting this power does not provoke an attack of opportunity." compset="ClSpecial"></thing>
  <thing id="cHelpPyr" name="Pyrokineticist" compset="Class" uniqueness="unique">
    <fieldval field="cHDSides" value="8"/>
    <fieldval field="cAbbr" value="Pyr"/>
    <fieldval field="cSkills" value="2"/>
    <fieldval field="srcPageNum" value="374"/>
    <fieldval field="srcBookInf" value="Ultimate Psionics"/>
    <usesource source="pPsiUn"/>
    <tag group="cRef" tag="Medium"/>
    <tag group="cFort" tag="Medium"/>
    <tag group="ClassSkill" tag="skAcrobat"/>
    <tag group="ClassSkill" tag="skPUAhypno"/>
    <tag group="ClassSkill" tag="skClimb"/>
    <tag group="ClassSkill" tag="skIntim"/>
    <tag group="ClassSkill" tag="skSpellcr"/>
    <tag group="WepProf" tag="wWhip"/>
    <tag group="cWill" tag="Poor"/>
    <tag group="cAttack" tag="Medium"/>
    <tag group="Classes" tag="PyroKine" name="Pyrokineticist"/>
    <tag group="ProductId" tag="HLCommunit"/>
    <bootstrap thing="cHandAfire">
      <autotag group="ClSpecWhen" tag="2"/>
      </bootstrap>
    <bootstrap thing="cHandAfire">
      <autotag group="ClSpecWhen" tag="8"/>
      </bootstrap>
    <bootstrap thing="cBoltFire">
      <autotag group="ClSpecWhen" tag="3"/>
      </bootstrap>
    <bootstrap thing="cWepAfire">
      <autotag group="ClSpecWhen" tag="4"/>
      </bootstrap>
    <bootstrap thing="cWepAfire">
      <autotag group="ClSpecWhen" tag="8"/>
      </bootstrap>
    <bootstrap thing="cFirewalk">
      <autotag group="ClSpecWhen" tag="6"/>
      </bootstrap>
    <bootstrap thing="cLeechHeat">
      <autotag group="ClSpecWhen" tag="6"/>
      </bootstrap>
    <bootstrap thing="cLeechHeat">
      <autotag group="ClSpecWhen" tag="9"/>
      </bootstrap>
    <bootstrap thing="cPUneFire">
      <autotag group="ClSpecWhen" tag="6"/>
      </bootstrap>
    <bootstrap thing="cHeatDeath">
      <autotag group="ClSpecWhen" tag="9"/>
      </bootstrap>
    <bootstrap thing="cNimbus">
      <autotag group="ClSpecWhen" tag="8"/>
      </bootstrap>
    <bootstrap thing="cNimbus">
      <autotag group="ClSpecWhen" tag="5"/>
      </bootstrap>
    <bootstrap thing="cConflag">
      <autotag group="ClSpecWhen" tag="10"/>
      </bootstrap>
    <bootstrap thing="cFireSoul">
      <autotag group="ClSpecWhen" tag="10"/>
      </bootstrap>
    <bootstrap thing="cFireLash">
      <autotag group="ClSpecWhen" tag="1"/>
      </bootstrap>
    <bootstrap thing="cManipBlaz">
      <autotag group="ClSpecWhen" tag="1"/>
      </bootstrap>
    <bootstrap thing="cFireAdapt">
      <autotag group="ClSpecWhen" tag="2"/>
      </bootstrap>
    <bootstrap thing="cFireAdapt">
      <autotag group="ClSpecWhen" tag="7"/>
      </bootstrap>
    </thing>
  <thing id="cPyroKine" name="Pyrokineticist" description="Pyrokineticists, known more commonly as pyros, love working with and creating fire. It is their main motivation in most things they do. They have learned that by channeling psionic energy, they can create the beautiful flames they love so much, and they revel in the experience.\n\nAny character with psionic ability can become a pyrokineticst, although psions and wilders must sincerely be drawn to flame to give up the manifesting ability that comes with becoming a pyro. Soulknives may become pyromancers to gain the weapon afire ability to use with their mind blade.\n\n{b}Role:{/b} Since their area of expertise is manipulating and creating fire, pyrokineticists are best at dealing fiery damage to enemies. While they do have modest damage-dealing potential from afar, they are most suited at dealing damage in melee range.\n\n{b}Alignment:{/b} Any." compset="ClassLevel" maxlimit="10">
    <usesource source="pPsiUn"/>
    <tag group="ClassType" tag="Prestige"/>
    <tag group="ProductId" tag="HLCommunit"/>
    <bootstrap thing="cHelpPyr"></bootstrap>
    <link linkage="helper" thing="cHelpPyr"/>
    <exprreq message="Power point reserve of 1 point required."><![CDATA[#resmax[resPowerPt] > 0]]></exprreq>
    <exprreq message="Knowledge (psionics) 2 ranks required."><![CDATA[#skillranks[skPUKnwPsi] >= 2]]></exprreq>
    <exprreq message="Autohypnosis 5 ranks required"><![CDATA[#skillranks[skPUAhypno] >= 5]]></exprreq>
    <exprreq message="Craft (alchemy) 1 rank required."><![CDATA[#skillranks[skCrafAlch] >= 1]]></exprreq>
    </thing>
  <thing id="cFireLash" name="Fire Lash" description="A pyrokineticist gains the ability to fashion a 15-foot-long whip of fire from unstable ectoplasm as a move-equivalent action. She takes no damage from a fire lash she creates, and if she releases her hold, it immediately dissipates. The lash deals 1d8 points of fire damage to a target within 15 feet on a successful ranged touch attack. A pyrokineticist can take Weapon Focus and Weapon Specialization (if she otherwise meets the prerequisites) in conjunction with the fire lash, as well as any feats that apply to the use of a standard whip. The whip remains in existence as long as the pyrokineticist holds it and is treated for mechanical purposes as a whip.\n\nIf the character has the ability to fashion a mind blade and has the Altered Blade blade skill, her fire lash may be treated as her mind blade for mechanical purposes such as enhanced mind blade and other class abilities. All damage dealt by the mind blade in this form, including psychic strike damage and bonus damage from weapon abilities, is fire damage, and the pyrokineticist may not use the fire lash to perform disarm or trip attempts unless she has selected the appropriate Weapon Special blade skill." compset="ClSpecial">
    <tag group="AbilType" tag="PsiLike"/>
    <tag group="SpecType" tag="Attack"/>
    </thing>
  <thing id="cManipBlaz" name="Manipulate Blaze" description="Pyrokineticists learn not only how to fashion a whip of fire, but also how to manipulate existing fires. As a standard action, the pyrokineticist may manipulate one source of fire within close range (25 ft. + 5 ft. / 2 levels of pyrokineticist). The fire source is immediately extinguished upon being utilized. A fire so large that it exceeds a 20-foot cube is only partly extinguished. Magical fires are not extinguished, although a fire-based creature used as a source takes 1 point of damage per class level. The fire may be used for one of the following purposes:\n\n{i}Fireworks:{/i} The fire is turned into a blinding display of fireworks; a flashing, fiery, momentary burst of glowing, colored aerial lights. This effect causes creatures within 120 feet of the fire source to become blinded for 1d4+1 rounds (Will negates, DC 10 +  class level + Charisma modifier). These creatures must have line of sight to the fire to be affected. Power resistance can prevent blindness.\n\n{i}Healing Heat:{/i} The pyrokineticist can convert the heat of the fire plus her own psionic power into a source of healing energy. For every power point the pyrokineticist spends, she heals 2 hp. Every 3 levels thereafter, the pyrokineticist heals one additional hit point per power point spent, to a maximum of 5 hp per 1 pp at 10th level.\n\n{i}Smoke Cloud:{/i} A stream of smoke billows out from the fire, forming a choking cloud that spreads 20 feet in all directions and lasts for 1 round per class level. All sight, even darkvision, is ineffective in or through the cloud. All within the cloud take 4 penalties to Strength and Dexterity (Fortitude negates, DC 10 +  class level + Charisma modifier). These effects last for 1d4+1 rounds after the cloud dissipates or after the creature leaves the area of the cloud. Power resistance does not apply.\n\nA pyrokineticist may use this ability a total of three times per day for any combination of the uses." compset="ClSpecial">
    <fieldval field="trkMax" value="3"/>
    <tag group="AbilType" tag="Super"/>
    <tag group="Usage" tag="Day"/>
    <tag group="User" tag="Tracker"/>
    </thing>
  <thing id="cFireAdapt" name="Fire Adaptation" description="At 2nd level, a pyrokineticist becomes resistant to fire, gaining a +4 bonus on all saving throws against fire and heat spells and effects. In addition, she gains resistance to fire 10. At 7th level, this bonus increases to +8, and her resistance to fire increases to 20." compset="ClSpecial">
    <tag group="AbilType" tag="Extra"/>
    <tag group="SpecType" tag="Resist"/>
    <bootstrap thing="xDamRsFire"></bootstrap>
    <eval phase="Final" priority="1000"><![CDATA[var levelname as string
var reslevel as string
if (field[xIndex].value = 1) then
  levelname = "4"
  reslevel = "10"
elseif (field[xIndex].value = 2) then
  levelname = "8"
  reslevel = "20"
  endif

field[listname].text = "Fire Adaptation (+" & levelname & "/" & reslevel & ")"

field[CustDesc].text = "+" & levelname & " bonus to saves against fire and heat spells and effects."

~These calculations should only happen for the first copy
doneif (tagis[Helper.FirstCopy] = 0)

~ If we're not shown, just get out now
doneif (tagis[Helper.ShowSpec] = 0)


~Add fire resistance
#applyresist[xDamRsFire,reslevel]]]></eval>
    </thing>
  <thing id="cHandAfire" name="Hand Afire" description="A pyrokineticist of 2nd level or higher can activate this ability as a move-equivalent action. Flames engulf one of the pyrokineticist&apos;s hands (but do her no harm). Her unarmed attacks with that hand are treated as armed. Such attacks deal an extra 2d6 points of fire damage. This extra damage increases to 4d6 at 8th level." compset="ClSpecial">
    <tag group="SpecType" tag="Attack"/>
    <tag group="AbilType" tag="PsiLike"/>
    <eval phase="Final" priority="1000"><![CDATA[var levelname as string
var reslevel as string
if (field[xIndex].value = 1) then
  levelname = "2d6"
elseif (field[xIndex].value = 2) then
  levelname = "4d6"
  endif

field[listname].text = "Hand Afire (+" & levelname & " fire damage)"

~we only need to generate a livename for the first copy
doneif (tagis[Helper.FirstCopy] = 0)

if (field[xCount].value = 1) then
  levelname = "2d6"
elseif (field[xCount].value = 2) then
  levelname = "4d6"
  endif

field[livename].text = "Hand Afire (+" & levelname & " fire damage) "]]></eval>
    </thing>
  <thing id="cBoltFire" name="Bolt of Fire" description="Starting at 3rd level, as a standard action, a pyrokineticist can launch a bolt of psionically manifested fire at any target in line of sight within 60 feet. This effect is treated as a ranged touch attack and deals 1d6 points of fire damage for each class level the pyrokineticist has." compset="ClSpecial">
    <tag group="SpecType" tag="Attack"/>
    <tag group="AbilType" tag="PsiLike"/>
    <bootstrap thing="xDamRsFire"></bootstrap>
    <eval phase="Final" priority="1000"><![CDATA[var numdice as number
var range as number

numdice = #levelcount[PyroKine]

field[abValue].value += 60

range = field[abValue].value

field[listname].text = "Bolt of Fire (" & numdice & "d6 ranged (" & range & "') touch)"

field[livename].text = "Bolt of Fire (" & numdice & "d6 ranged (" & range & "') touch) "]]></eval>
    </thing>
  <thing id="cWepAfire" name="Weapon Afire" description="At 4th level and higher, a pyrokineticist can activate this ability as a move-equivalent action. Flames that harm neither her nor the weapon engulf one weapon she holds (which can be a projectile such as a stone, bullet, arrow, or bolt). The weapon deals an extra 2d6 points of fire damage on a successful hit. The weapon retains this effect for as long as the pyrokineticist wields it. This extra damage increases to 4d6 at 8th level." compset="ClSpecial">
    <tag group="SpecType" tag="Attack"/>
    <tag group="AbilType" tag="PsiLike"/>
    <eval phase="Final" priority="1000"><![CDATA[var levelname as string
var reslevel as string
if (field[xIndex].value = 1) then
  levelname = "2d6"
elseif (field[xIndex].value = 2) then
  levelname = "4d6"
  endif

field[listname].text = "Weapon Afire (+" & levelname & " fire damage)"

~we only need to generate a livename for the first copy
doneif (tagis[Helper.FirstCopy] = 0)

if (field[xCount].value = 1) then
  levelname = "2d6"
elseif (field[xCount].value = 2) then
  levelname = "4d6"
  endif

field[livename].text = "Weapon Afire (+" & levelname & " fire damage) "]]></eval>
    </thing>
  <thing id="cNimbus" name="Nimbus" description="Beginning at 5th level, a pyrokineticist can activate this ability as a move-equivalent action. Flames that harm neither the pyrokineticist nor her equipment engulf her entire body. While she is aflame, the character&apos;s Charisma score increases by 4, she can make a melee touch attack for 2d6 points of fire damage, and she gains damage reduction 5/magic. If she is struck in melee, the attacker takes 2d6 points of fire damage. This ability lasts for up to 1 minute per pyrokineticist level and is usable once per day. This extra damage increases to 4d6 at 8th level. \n\nThe touch attacks from this ability do not stack with the damage from hand afire." compset="ClSpecial">
    <fieldval field="trkMax" value="1"/>
    <tag group="SpecType" tag="Aura"/>
    <tag group="User" tag="Tracker"/>
    <tag group="AbilType" tag="PsiLike"/>
    <tag group="Usage" tag="Day"/>
    <eval phase="Final" priority="1000"><![CDATA[var levelname as string

if (field[xIndex].value = 1) then
  levelname = "2d6"
elseif (field[xIndex].value = 2) then
  levelname = "4d6"
  endif

field[listname].text = "Ninbus (" & levelname & ")"

~we only need to generate a livename for the first copy
doneif (tagis[Helper.FirstCopy] = 0)

if (field[xCount].value = 1) then
  levelname = "2d6"
elseif (field[xCount].value = 2) then
  levelname = "4d6"
  endif

field[livename].text = "Nimbus (" & levelname & ") "]]></eval>
    </thing>
  <thing id="cFirewalk" name="Firewalk" description="Beginning at 6th level, as a free action a pyrokineticist can expend her psionic focus to literally walk on air. She moves at her normal speed in all directions, including vertically, but cannot move more than double her speed in a round. A firewalking pyrokineticist leaves footprints of flame in the air that disperse in 2 rounds, but her tread does not deal damage. She must pay 1 power point per round spent traveling in this fashion." compset="ClSpecial">
    <tag group="AbilType" tag="Super"/>
    <tag group="SpecType" tag="Movement"/>
    </thing>
  <thing id="cLeechHeat" name="Leech Heat" description="A pyrokineticist of 6th level gains the ability to steal the heat from a creature within 30 feet and channel it to herself, dealing 2d6 points of cold damage to the target and healing herself for 2 points of damage. At 9th level, the damage increases to 4d6 points of cold damage, and the healing the pyrokineticist receives increases to 4 points." compset="ClSpecial">
    <tag group="SpecType" tag="Attack"/>
    <tag group="AbilType" tag="Super"/>
    <eval phase="Final" priority="1000"><![CDATA[var levelname as string
var points as string
if (field[xIndex].value = 1) then
  levelname = "2d6"
  points = "2"
elseif (field[xIndex].value = 2) then
  levelname = "4d6"
  points = "4"
  endif

field[listname].text = "Leech Heat (" & levelname & " / " & points & ") "

~we only need to generate a livename for the first copy
doneif (tagis[Helper.FirstCopy] = 0)

if (field[xCount].value = 1) then
  levelname = "2d6"
  points = "2"
elseif (field[xCount].value = 2) then
  levelname = "4d6"
  points = "4"
  endif

field[livename].text = "Leech Heat (" & levelname & " / "& points & ") "]]></eval>
    </thing>
  <thing id="cPUneFire" name="Penetrating Fire" description="At 6th level, a pyrokineticist&apos;s abilities are more adept at striking through any defenses. The pyrokineticist&apos;s attacks reduce any fire resistance the target might have by the pyrokineticist&apos;s level for that attack." compset="ClSpecial">
    <tag group="AbilType" tag="Super"/>
    </thing>
  <thing id="cHeatDeath" name="Heat Death" description="A pyrokineticist who reaches 9th level can expend her psionic focus and take a full attack action to raise the internal temperature of one living creature within 30 feet to lethal levels. The target must succeed on a Fortitude saving throw (DC 14 + pyrokineticist&apos;s Cha modifier) or its blood (or other internal fluid) begins to boil and the creature takes 4d8 points of fire damage from the heat (half on a successful save). Every round the target fails its save and the pyrokineticist maintains concentration as a standard action, the creature takes an additional 4d8 points of fire damage from the heat (half damage on a successful save). Creatures with fire resistance gain a +2 bonus on the saving throw, and creatures immune to fire are similarly immune to this attack." compset="ClSpecial">
    <tag group="AbilType" tag="PsiLike"/>
    </thing>
  <thing id="cConflag" name="Conflagration" description="At 10th level, a pyrokineticist gains the ability to create a massive burst of raging flames around herself, burning everything in the area. As a standard action, she can use this ability to deal 15d6 points of fire damage in a 30-foot-radius burst emanating from herself. Any creature or object caught in the burst can make a Reflex saving throw (DC 15 + pyrokineticist&apos;s Cha modifier) for half damage. Anyone failing the Reflex save against the conflag-ration must also make a Fortitude saving throw (same DC) or die due to extreme shock from the intense heat.\n\nAfter using this ability, the pyrokineticist must wait for at least 10 minutes before she is able to use it again." compset="ClSpecial">
    <tag group="AbilType" tag="PsiLike"/>
    </thing>
  <thing id="cFireSoul" name="Fire Soul" description="Once a pyrokineticist has reached 10th level, her body is able to shrug off the effects of flame, granting immunity to fire and fire-based effects. In addition, she may use nimbus two additional times per day." compset="ClSpecial">
    <tag group="AbilType" tag="Extra"/>
    <bootstrap thing="xImmFire">
      <autotag group="Hide" tag="Special"/>
      </bootstrap>
    <eval phase="PostLevel" priority="10000"><![CDATA[
      ~ If we're not shown, just get out now
      doneif (tagis[Helper.ShowSpec] = 0)

      if (#levelcount[PyroKine] >= 10) then
        perform hero.childfound[xImmFire].delete[Hide.Special]
        perform hero.childfound[xDamRsFire].assign[Hide.Special]
        endif

      hero.childfound[cNimbus].field[trkMax].value += 2]]></eval>
    </thing>
  <thing id="cHelpThh" name="Thrallherd" compset="Class" uniqueness="unique">
    <comment>Need to add Mind Control spell and Empathic Connection to Known list for their abilities</comment>
    <fieldval field="cAbbr" value="Thh"/>
    <fieldval field="cSkills" value="2"/>
    <fieldval field="cHDSides" value="6"/>
    <fieldval field="srcPageNum" value="382"/>
    <fieldval field="srcBookInf" value="Ultimate Psionics"/>
    <arrayval field="cMagLevTot" index="4" value="4"/>
    <arrayval field="cMagLevTot" index="5" value="5"/>
    <arrayval field="cMagLevTot" index="6" value="6"/>
    <arrayval field="cMagLevTot" index="7" value="7"/>
    <arrayval field="cMagLevTot" index="8" value="8"/>
    <arrayval field="cMagLevTot" index="1" value="1"/>
    <arrayval field="cMagLevTot" index="2" value="2"/>
    <arrayval field="cMagLevTot" index="3" value="3"/>
    <usesource source="pPsiUn"/>
    <tag group="Classes" tag="Thrallher" name="Thrallherd"/>
    <tag group="cAttack" tag="Poor"/>
    <tag group="cFort" tag="Poor"/>
    <tag group="ClassSkill" tag="skPUAhypno"/>
    <tag group="ClassSkill" tag="skBluff"/>
    <tag group="ClassSkill" tag="skDiplo"/>
    <tag group="ExtraLev1" tag="Manifester"/>
    <tag group="ClassSkill" tag="skPUKnwPsi"/>
    <tag group="ClassSkill" tag="skSenseMot"/>
    <tag group="ClassSkill" tag="skSpellcr"/>
    <tag group="cWill" tag="Poor"/>
    <tag group="cRef" tag="Poor"/>
    <tag group="ProductId" tag="HLCommunit"/>
    <bootstrap thing="cEmpathCon">
      <autotag group="ClSpecWhen" tag="3"/>
      </bootstrap>
    <bootstrap thing="cMindCont">
      <autotag group="ClSpecWhen" tag="5"/>
      </bootstrap>
    <bootstrap thing="cMindContG">
      <autotag group="ClSpecWhen" tag="7"/>
      </bootstrap>
    <bootstrap thing="cMindContS">
      <autotag group="ClSpecWhen" tag="9"/>
      </bootstrap>
    <bootstrap thing="cExpandedC">
      <autotag group="ClSpecWhen" tag="10"/>
      </bootstrap>
    <bootstrap thing="cTwofoldMa">
      <autotag group="ClSpecWhen" tag="10"/>
      </bootstrap>
    <bootstrap thing="cThrall">
      <autotag group="ClSpecWhen" tag="1"/>
      </bootstrap>
    <bootstrap thing="cAlluringV">
      <autotag group="ClSpecWhen" tag="2"/>
      </bootstrap>
    <bootstrap thing="cAlluringV">
      <autotag group="ClSpecWhen" tag="4"/>
      </bootstrap>
    <bootstrap thing="cAlluringV">
      <autotag group="ClSpecWhen" tag="6"/>
      </bootstrap>
    <bootstrap thing="cAlluringV">
      <autotag group="ClSpecWhen" tag="8"/>
      </bootstrap>
    <bootstrap thing="cAlluringV">
      <autotag group="ClSpecWhen" tag="10"/>
      </bootstrap>
    </thing>
  <thing id="cThrallher" name="Thrallherd" description="Thrallherds send out a resonating psychic call, a call that urges those who may be actively or subconsciously seeking someone to guide them, control them, or lead them to come to the thrallherd. These followers of the thrallherd are completely loyal fanatics who will follow the thrallherd&apos;s instructions completely. As a result, thrallherds tend to have large retinues that can either stay close to the thrallherd, go out and perform varied tasks, or even stay behind and manage the thrallherd&apos;s residence.\n\nDue to the nature of the thrallherds, telepaths are the most common characters to enter this class. Other manifesters can also become thrallherds, but typically have to pay a higher cost in character options.\n\n{b}Role:{/b} The thrallherd focuses on utilizing mind control and getting others to do her bidding. She acts more as a director, letting her thrall and her believers perform the activities, while she stays back and monitors.\n\n{b}Alignment:{/b} Any." compset="ClassLevel" maxlimit="10">
    <usesource source="pPsiUn"/>
    <tag group="ClassType" tag="Prestige"/>
    <tag group="ProductId" tag="HLCommunit"/>
    <bootstrap thing="cHelpThh"></bootstrap>
    <link linkage="helper" thing="cHelpThh"/>
    <exprreq message="Manifester level 5th required."><![CDATA[tagcount[Hero.Manifester] >= 5]]></exprreq>
    <exprreq message="Knowledge (Psionics) 5 ranks required."><![CDATA[#skillranks[skPUKnwPsi] >= 5]]></exprreq>
    <exprreq message="Diplomacy 4 ranks required."><![CDATA[#skillranks[skDiplo] >= 4]]></exprreq>
    <prereq message="Inquisitor feat or Skill Focus (Diplomacy) feat required.">
      <validate><![CDATA[if (#hasfeat[fPUInquis] + childfound[skDiplo].tagis[Helper.SkillFocus] >= 1 )then
       @valid = 1
       done
     endif]]></validate>
      </prereq>
    </thing>
  <thing id="cThrall" name="Thrallherd" description="A thrallherd who has just entered the class sends out a subtle psychic call for servants, and that call is answered. Essentially, the character gains something akin to the Leadership feat, but with some important differences. \n\nThose who answer a thrallherd&apos;s call are not referred to as cohorts and followers, but rather as thralls and believers, respectively. They do not appear because they admire the character and want to serve her, but because a hidden psychic resonance connects the thrallherd and her servants.\n \nAs with the Leadership feat, a thrallherd has a Leadership score that determines the highest-level thrall and believers she can attract. A thrallherd&apos;s Leadership score is equal to her character level + her Charisma modifier + her thrallherd level. (Note that her thrallherd level is counted twice.) This score is not affected by any of the modifiers mentioned in the Leadership feat.\n\nAs with the Leadership feat, the called thrall&apos;s level is limited, even if the character&apos;s Leadership score would indicate a higher-level thrall. Unlike with the Leadership feat, the level limit of a thrall is equal to the character&apos;s total level minus 1 (not level minus 2, as is true for cohorts).\n\nA thrallherd cannot take the Leadership feat; if the character already has it, the feat is lost and replaced by this ability; those who were previously cohorts and followers go their separate ways, and those who are more mentally pliable show up later to take up roles as thralls and believers. A thrallherd&apos;s thrall and believers arrive within 24 hours. Lost thralls are replaced within 24 hours. Believers arrive and are replaced at a rate of the thrallherd&apos;s leadership score per day, with the lowest level believers arriving first. If the thrallherd is in a location where thralls and believers cannot reach, none arrive until she moves to a location where she can be reached.\n\nA thrallherd establishes a resonance with his thrall and suffers if the thrall is killed. For 48 hours following the loss of a thrall, a thrallherd suffers one negative level. This negative level may not be healed by any means until 48 hours have passed since the thrall&apos;s death, at which point it fades naturally. Should the thrallherd&apos;s new thrall die while the thrallherd is still suffering a negative level, he acquires an additional negative level, and the duration of any negative levels gained through losing a thrall resets to 48 hours from the time the most recent thrall was lost.\n\nUse the above table instead of the one with the Leadership feat to determine the level of a thrallherd&apos;s thrall and the number of believers of various levels a thrallherd can attract." compset="ClSpecial">
    <tag group="AbilType" tag="Extra"/>
    </thing>
  <thing id="cAlluringV" name="Alluring Voice" description="At 2nd level, the thrallherd gains a +2 bonus to her choice of Bluff, Diplomacy, Intimidate or Sense Motive skill checks. At every 2 levels thereafter, she gains an additional +2 bonus that can either be applied to the same skill, or to another skill on the list. For example, a 6th level thrallherd could have a +6 bonus to just Diplomacy, or a +2 bonus to Bluff, Diplomacy, and Intimidate, or a +2 bonus to Bluff and a +4 bonus to Diplomacy. Once this choice is made, it cannot be changed." compset="ClSpecial">
    <fieldval field="usrCandid1" value="thingid.skBluff|thingid.skDiplo|thingid.skIntim|thingid.skSenseMot"/>
    <tag group="ChooseSrc1" tag="Hero"/>
    <eval phase="PreLevel" priority="5000"><![CDATA[~ If we're disabled, just get out now
doneif (tagis[Helper.SpcDisable] <> 0)

var myString as string

myString = "thingid." & field[usrChosen1].chosen.idstring

if (field[usrChosen1].ischosen <> 0) then
  foreach pick in hero where myString
    eachpick.field[Bonus].value += 2
    nexteach
endif]]></eval>
    </thing>
  <thing id="cEmpathCon" name="Empathic Connection" description="At 3rd level, a thrallherd adds empathic connection to her powers known. If she already knows empathic connection she can instead add a Telepathy power available to her powers known. Once per day, she can manifest empathic connection at a reduced power point cost. The cost of empathic connection is reduced by the thrallherd&apos;s level, to a minimum of 1 power point. The effect of this power is still restricted by the thrallherd&apos;s manifester level." compset="ClSpecial">
    <tag group="AbilType" tag="Extra"/>
    <eval phase="PostLevel" priority="1000">~perform hero.assign[spEmpConn1]</eval>
    </thing>
  <thing id="cMindCont" name="Mind Control" description="At 3rd level, a thrallherd adds mind control to her powers known. If she already knows empathic connection she can instead add a Telepathy power available to her powers known. Once per day, she can manifest mind control at a reduced power point cost. The cost of mind control is reduced by the thrallherd&apos;s level, to a minimum of 1 power point. The effect of this power is still restricted by the thrallherd&apos;s manifester level." compset="ClSpecial">
    <tag group="AbilType" tag="Extra"/>
    <eval phase="PostLevel" priority="1000">~perform hero.assign[spEmpConn1]</eval>
    </thing>
  <thing id="cMindContG" name="Greater Mind Control" description="At 7th level and higher, a thrallherd does not have to pay 2 additional power points when she augments mind control to affect animals, fey, giants, magical beasts, and monstrous humanoids. This reduced point cost does not increase the save DC of the power as if she had spent the additional power points." compset="ClSpecial">
    <tag group="AbilType" tag="Extra"/>
    </thing>
  <thing id="cMindContS" name="Superior Mind Control" description="At 9th level, a thrallherd does not have to pay 4 additional power points when she augments mind control to affect aberrations, dragons, elementals, and outsiders (in addition to the creature types mentioned in the greater mind control ability). This reduced point cost does not increase the save DC of the power as if she had spent the additional power points." compset="ClSpecial">
    <tag group="AbilType" tag="Extra"/>
    </thing>
  <thing id="cExpandedC" name="Expanded Call" description="At 10th level, the thrallherd&apos;s ability to bring forth servants improves as indicated on the following table." compset="ClSpecial"></thing>
  <thing id="cTwofoldMa" name="Twofold Master" description="At 10th level, a thrallherd adds a second thrall to her herd. This second thrall&apos;s maximum level is equal to the thrallherd&apos;s level minus 2, even if her Leadership score would indicate a higher level thrall. The thrallherd suffers a negative level penalty for 48 hours if her second thrall dies, just like the penalty if her first thrall dies. These negative levels stack if both thralls die." compset="ClSpecial">
    <tag group="AbilType" tag="Extra"/>
    </thing>
  <thing id="cHelpWMn" name="War Mind" compset="Class" uniqueness="unique">
    <fieldval field="cHDSides" value="10"/>
    <fieldval field="cAbbr" value="WMn"/>
    <fieldval field="cSkills" value="2"/>
    <fieldval field="srcPageNum" value="385"/>
    <fieldval field="srcBookInf" value="Ultimate Psionics"/>
    <arrayval field="cPsiPPTot" index="2" value="9"/>
    <arrayval field="cPsiPPTot" index="3" value="14"/>
    <arrayval field="cPsiPPTot" index="4" value="20"/>
    <arrayval field="cPsiPPTot" index="5" value="28"/>
    <arrayval field="cPsiPPTot" index="6" value="37"/>
    <arrayval field="cPsiPPTot" index="7" value="47"/>
    <arrayval field="cPsiPPTot" index="8" value="58"/>
    <arrayval field="cPsiPPTot" index="9" value="70"/>
    <arrayval field="cPsiPowTot" index="0" value="1"/>
    <arrayval field="cPsiPowTot" index="1" value="2"/>
    <arrayval field="cPsiPowTot" index="2" value="2"/>
    <arrayval field="cPsiPowTot" index="3" value="3"/>
    <arrayval field="cPsiPowTot" index="4" value="3"/>
    <arrayval field="cPsiPowTot" index="5" value="4"/>
    <arrayval field="cPsiPowTot" index="6" value="4"/>
    <arrayval field="cPsiPowTot" index="7" value="5"/>
    <arrayval field="cPsiPowTot" index="8" value="5"/>
    <arrayval field="cPsiPowTot" index="9" value="6"/>
    <arrayval field="cPsiLevTot" index="0" value="1"/>
    <arrayval field="cPsiLevTot" index="1" value="1"/>
    <arrayval field="cPsiLevTot" index="2" value="1"/>
    <arrayval field="cPsiLevTot" index="3" value="2"/>
    <arrayval field="cPsiLevTot" index="4" value="2"/>
    <arrayval field="cPsiLevTot" index="5" value="3"/>
    <arrayval field="cPsiLevTot" index="6" value="3"/>
    <arrayval field="cPsiLevTot" index="7" value="4"/>
    <arrayval field="cPsiLevTot" index="8" value="4"/>
    <arrayval field="cPsiLevTot" index="9" value="5"/>
    <arrayval field="cPsiPPTot" index="0" value="2"/>
    <arrayval field="cPsiPPTot" index="1" value="5"/>
    <usesource source="pPsiUn"/>
    <tag group="ClassSkill" tag="skSpellcr"/>
    <tag group="cRef" tag="Good"/>
    <tag group="ClassSkill" tag="skIntim"/>
    <tag group="cWill" tag="Poor"/>
    <tag group="Classes" tag="Warmind" name="Warmind"/>
    <tag group="cAttack" tag="Good"/>
    <tag group="cFort" tag="Good"/>
    <tag group="AlgnForbid" tag="Chaotic"/>
    <tag group="ClassSkill" tag="skPUAhypno"/>
    <tag group="psiClass" tag="cHelpPWa"/>
    <tag group="ClassSkill" tag="skPUKnwPsi"/>
    <tag group="ClassSkill" tag="skKnowHist"/>
    <tag group="ProductId" tag="HLCommunit"/>
    <bootstrap thing="cChainPerS">
      <autotag group="ClSpecWhen" tag="7"/>
      </bootstrap>
    <bootstrap thing="cWarrJourn">
      <autotag group="ClSpecWhen" tag="1"/>
      </bootstrap>
    <bootstrap thing="cChainDefP">
      <autotag group="ClSpecWhen" tag="2"/>
      </bootstrap>
    <bootstrap thing="cChainDefP">
      <autotag group="ClSpecWhen" tag="8"/>
      </bootstrap>
    <bootstrap thing="cEndurBod">
      <autotag group="ClSpecWhen" tag="3"/>
      </bootstrap>
    <bootstrap thing="cEndurBod">
      <autotag group="ClSpecWhen" tag="6"/>
      </bootstrap>
    <bootstrap thing="cEndurBod">
      <autotag group="ClSpecWhen" tag="9"/>
      </bootstrap>
    <bootstrap thing="cWellPower">
      <autotag group="ClSpecWhen" tag="4"/>
      </bootstrap>
    <bootstrap thing="cSweepStr">
      <autotag group="ClSpecWhen" tag="5"/>
      </bootstrap>
    <bootstrap thing="cChainOver">
      <autotag group="ClSpecWhen" tag="10"/>
      </bootstrap>
    <bootstrap thing="cChainPerS">
      <autotag group="ClSpecWhen" tag="1"/>
      </bootstrap>
    <link linkage="spellattr" thing="aWIS"/>
    <link linkage="psiattr" thing="aWIS"/>
    </thing>
  <thing id="cWarmind" name="War Mind" description="War minds are almost unequalled experts of an incredibly powerful combat technique that melds the body and mind into one perfect warrior. They achieve this through studying ancient techniques known as the chains of war. Some study under the guidance of a single war mind, often in the role of apprentice and master; some choose to find this path through meditation and intense studies of the Codex of War, an ancient but well-respected tome that teaches the necessary mindset and training to awaken the chains of war in a psionically talented warrior.\n\nPsychic warriors and soulknives are the most common to study the Codex of War and become war minds, although any character with psionic power can become a war mind.\n\n{b}Role:{/b} A war mind will stand at the front lines of a battle, meting out punishment and enduring the onslaught of enemies. He excels at melee combat and uses his manifesting ability to enhance his martial prowess.\n\n{b}Alignment:{/b} Any non-chaotic.\n\n{b}Special:{/b} Must have had some instruction by another war mind, have access to the Codex of War, or belong to an organization that has access to the Codex of War." compset="ClassLevel" maxlimit="10">
    <usesource source="pPsiUn"/>
    <tag group="ClassType" tag="Prestige"/>
    <tag group="ProductId" tag="HLCommunit"/>
    <bootstrap thing="cHelpWMn"></bootstrap>
    <link linkage="helper" thing="cHelpWMn"/>
    <exprreq message="Knowledge (History) 2 ranks required"><![CDATA[#skillranks[skKnowHist] >= 2]]></exprreq>
    <exprreq message="BAB 3+ required."><![CDATA[child[Attack].field[tAtkBase].value >= 3]]></exprreq>
    <exprreq message="Knowledge (Psionics) 5 ranks required"><![CDATA[#skillranks[skPUKnwPsi] >= 5]]></exprreq>
    <exprreq message="Power Point reserve of 1 PP required."><![CDATA[#resmax[resPowerPt] > 0]]></exprreq>
    </thing>
  <thing id="cChainPerS" name="Chain of Personal Superiority" description="At 1st level, a war mind learns the first principle of warfare for the individual combatant: the ability to both deal punishment and take it. Calling upon inner reserves of knowledge and dedication, a war mind can provide himself with a +2 insight bonus to Strength and Constitution for up to 1 minute. A war mind can use this power three times per day. Activating this power is a free action. At 7th level, the insight bonus to Strength and Constitution improves to +4." compset="ClSpecial" summary="Insight bonus to STR and CON for a limited time.">
    <fieldval field="trkMax" value="3"/>
    <fieldval field="actName" value="Personal Superiority"/>
    <tag group="AbilType" tag="Extra"/>
    <tag group="Usage" tag="Day"/>
    <tag group="User" tag="Activation"/>
    <tag group="User" tag="Tracker"/>
    <eval phase="Final" priority="1000"><![CDATA[var levelname as string

if (field[xIndex].value = 1) then
  levelname = "2"
  field[abValue].value += 2
elseif (field[xIndex].value = 2) then
  levelname = "4"
  field[abValue].value += 4
  endif

field[listname].text = "Chain of Personal Superiority (+" & levelname & ") "
field[actName].text = "Personal Superiority (+" & levelname & " STR & CON) "

~we only need to generate a livename for the first copy
doneif (tagis[Helper.FirstCopy] = 0)

if (field[xCount].value = 1) then
  levelname = "2"
elseif (field[xCount].value = 2) then
  levelname = "4"
  endif

field[livename].text = "Chain of Personal Superiority (+" & levelname & ") "]]></eval>
    <eval phase="PostLevel" priority="10000" index="2"><![CDATA[~These calculations should only happen for the first copy
doneif (tagis[Helper.FirstCopy] = 0)

~ If we're not shown, just get out now
doneif (tagis[Helper.ShowSpec] = 0)

var levelname as string
var bonus as number

if (field[xIndex].value = 1) then
  field[abValue].value += 2
elseif (field[xIndex].value = 2) then
  field[abValue].value += 4
  endif

bonus = field[abValue].value

~If activated, add bonus to STR and CON
if (field[abilActive].value <> 0) then
  hero.child[aSTR].field[BonInsight].value += bonus
  hero.child[aCON].field[BonInsight].value += bonus
  endif]]></eval>
    </thing>
  <thing id="cWarrJourn" name="Warrior&apos;s Journey" description="If the war mind previously had manifesting in the psychic warrior class, instead of gaining the war mind&apos;s exclusive psionic manifestation abilities, he can choose to instead increase his psychic warrior manifesting level. If he does so, the war mind gains additional power points per day and access to new powers as if he had also gained a level in psychic warrior. He does not, however, gain any other benefit a character of that class would have gained (bonus feats, improved trances and maneuvers, and so on). This essentially means that he adds the level of war mind to the level of psychic warrior, then determines power points per day, powers known, and manifester level accordingly." compset="ClSpecial">
    <fieldval field="usrChkText" value="Psychic Warrior?"/>
    <tag group="AbilType" tag="Extra"/>
    <tag group="Helper" tag="SpecUp"/>
    <tag group="Custom" tag="WMndBonPP" name="War Mind Bonus PP"/>
    <eval phase="PostAttr" priority="1000" index="2"><![CDATA[if (hero.tagcount[Custom.WMndBonPP] > 0) then
  ~ Add bonus power points based on WIS Modifier
  var bonus as number
  var effLevel as number

  effLevel = #levelcount[Warmind]

  bonus = (#attrmod[aWIS] - 1) * (effLevel/2)
  bonus = round(bonus,0,-1)

  root.field[cPsiPPMax].value += bonus
  endif]]></eval>
    <eval phase="First" priority="1000"><![CDATA[
~If
if (field[usrIsCheck].value <> 0) then
  perform root.assign[Helper.HasExtraMg]
  perform hero.delete[Hero.Psionic]
  perform hero.delete[Custom.WMndBonPP]

  ~notify "Manifesting as Psychic Warrior"
  root.field[cMagLevTot].arrayvalue[0] = 1
  root.field[cMagLevTot].arrayvalue[1] = 2
  root.field[cMagLevTot].arrayvalue[2] = 3
  root.field[cMagLevTot].arrayvalue[3] = 4
  root.field[cMagLevTot].arrayvalue[4] = 5
  root.field[cMagLevTot].arrayvalue[5] = 6
  root.field[cMagLevTot].arrayvalue[6] = 7
  root.field[cMagLevTot].arrayvalue[7] = 8
  root.field[cMagLevTot].arrayvalue[8] = 9
  root.field[cMagLevTot].arrayvalue[9] = 10

  ~negate native casting
  ~Add PP/Day
  root.field[cPsiPPTot].arrayvalue[0] -= 2
  root.field[cPsiPPTot].arrayvalue[1] -= 5
  root.field[cPsiPPTot].arrayvalue[2] -= 9
  root.field[cPsiPPTot].arrayvalue[3] -= 14
  root.field[cPsiPPTot].arrayvalue[4] -= 20
  root.field[cPsiPPTot].arrayvalue[5] -= 28
  root.field[cPsiPPTot].arrayvalue[6] -= 37
  root.field[cPsiPPTot].arrayvalue[7] -= 47
  root.field[cPsiPPTot].arrayvalue[8] -= 58
  root.field[cPsiPPTot].arrayvalue[9] -= 70

  ~Add Max Level Known
  root.field[cPsiLevTot].arrayvalue[0] -= 1
  root.field[cPsiLevTot].arrayvalue[1] -= 1
  root.field[cPsiLevTot].arrayvalue[2] -= 1
  root.field[cPsiLevTot].arrayvalue[3] -= 2
  root.field[cPsiLevTot].arrayvalue[4] -= 2
  root.field[cPsiLevTot].arrayvalue[5] -= 3
  root.field[cPsiLevTot].arrayvalue[6] -= 3
  root.field[cPsiLevTot].arrayvalue[7] -= 4
  root.field[cPsiLevTot].arrayvalue[8] -= 4
  root.field[cPsiLevTot].arrayvalue[9] -= 5

  ~Add Max Powers Known
  root.field[cPsiPowTot].arrayvalue[0] -= 1
  root.field[cPsiPowTot].arrayvalue[1] -= 2
  root.field[cPsiPowTot].arrayvalue[2] -= 2
  root.field[cPsiPowTot].arrayvalue[3] -= 3
  root.field[cPsiPowTot].arrayvalue[4] -= 3
  root.field[cPsiPowTot].arrayvalue[5] -= 4
  root.field[cPsiPowTot].arrayvalue[6] -= 4
  root.field[cPsiPowTot].arrayvalue[7] -= 5
  root.field[cPsiPowTot].arrayvalue[8] -= 5
  root.field[cPsiPowTot].arrayvalue[9] -= 6

else
  perform hero.assign[Hero.Psionic]
  perform hero.assign[Custom.WMndBonPP]

  ~Add PP/Day
  root.field[cPsiPPTot].arrayvalue[0] = 2
  root.field[cPsiPPTot].arrayvalue[1] = 5
  root.field[cPsiPPTot].arrayvalue[2] = 9
  root.field[cPsiPPTot].arrayvalue[3] = 14
  root.field[cPsiPPTot].arrayvalue[4] = 20
  root.field[cPsiPPTot].arrayvalue[5] = 28
  root.field[cPsiPPTot].arrayvalue[6] = 37
  root.field[cPsiPPTot].arrayvalue[7] = 47
  root.field[cPsiPPTot].arrayvalue[8] = 58
  root.field[cPsiPPTot].arrayvalue[9] = 70

  ~Add Max Level Known
  root.field[cPsiLevTot].arrayvalue[0] = 1
  root.field[cPsiLevTot].arrayvalue[1] = 1
  root.field[cPsiLevTot].arrayvalue[2] = 1
  root.field[cPsiLevTot].arrayvalue[3] = 2
  root.field[cPsiLevTot].arrayvalue[4] = 2
  root.field[cPsiLevTot].arrayvalue[5] = 3
  root.field[cPsiLevTot].arrayvalue[6] = 3
  root.field[cPsiLevTot].arrayvalue[7] = 4
  root.field[cPsiLevTot].arrayvalue[8] = 4
  root.field[cPsiLevTot].arrayvalue[9] = 5

  ~Add Max Powers Known
  root.field[cPsiPowTot].arrayvalue[0] = 1
  root.field[cPsiPowTot].arrayvalue[1] = 2
  root.field[cPsiPowTot].arrayvalue[2] = 2
  root.field[cPsiPowTot].arrayvalue[3] = 3
  root.field[cPsiPowTot].arrayvalue[4] = 3
  root.field[cPsiPowTot].arrayvalue[5] = 4
  root.field[cPsiPowTot].arrayvalue[6] = 4
  root.field[cPsiPowTot].arrayvalue[7] = 5
  root.field[cPsiPowTot].arrayvalue[8] = 5
  root.field[cPsiPowTot].arrayvalue[9] = 6
endif]]></eval>
    </thing>
  <thing id="cChainDefP" name="Chain of Defensive Posture" description="At 2nd level, a war mind learns the second principle of warfare for the individual combatant: the ability to avoid the enemy&apos;s counterattacks if that enemy is not immediately overwhelmed. Calling upon inner reserves of knowledge and dedication, a war mind can provide himself with a +2 insight bonus to Armor Class for up to 1 minute. A war mind can use this power three times per day. Activating this power is a free action. At 8th level, the insight bonus to Armor Class improves to +4." compset="ClSpecial" summary="Insight bonus to AC for a limited time.">
    <fieldval field="trkMax" value="3"/>
    <fieldval field="actName" value="Personal Superiority"/>
    <tag group="AbilType" tag="Extra"/>
    <tag group="Usage" tag="Day"/>
    <tag group="User" tag="Activation"/>
    <tag group="User" tag="Tracker"/>
    <eval phase="Final" priority="1000"><![CDATA[var levelname as string

if (field[xIndex].value = 1) then
  levelname = "2"
  field[abValue].value += 2
elseif (field[xIndex].value = 2) then
  levelname = "4"
  field[abValue].value += 4
  endif

field[listname].text = "Chain of Defensive Posture (+" & levelname & ") "
field[actName].text = "Defensive Posture (+" & levelname & " AC) "
field[CustDesc].text = "+" & levelname & "insight bonus to AC"

~we only need to generate a livename for the first copy
doneif (tagis[Helper.FirstCopy] = 0)

if (field[xCount].value = 1) then
  levelname = "2"
elseif (field[xCount].value = 2) then
  levelname = "4"
  endif

field[livename].text = "Chain of Personal Superiority (+" & levelname & ") "]]></eval>
    <eval phase="PreAttr" priority="10000" index="2"><![CDATA[var levelname as string
var bonus as number

if (field[xIndex].value = 1) then
  field[abValue].value += 2
elseif (field[xIndex].value = 2) then
  field[abValue].value += 4
  endif

bonus = field[abValue].value

~If activated, add insight bonus to AC
if (field[abilActive].value <> 0) then
  hero.child[ArmorClass].field[tACMisc].value += bonus
  endif]]></eval>
    </thing>
  <thing id="cEndurBod" name="Enduring Body" description="At 3rd level, a war mind learns the third principle of warfare for the individual combatant: to unleash in oneself the spirit of the enduring body. The spirit of the ideal body transforms a war mind, granting him damage reduction 1/. At 6th level, his damage reduction improves to 2/. At 9th level, his damage reduction improves to 3/." compset="ClSpecial" summary="Damage Reduction against weapons and natural attacks.">
    <fieldval field="actName" value="Has Psionic Focus?"/>
    <tag group="SpecType" tag="DR"/>
    <tag group="Helper" tag="SpecUp" name="SpecUp" abbrev="SpecUp"/>
    <tag group="AbilType" tag="Extra"/>
    <bootstrap thing="xDamRd">
      <autotag group="SpecSource" tag="cHelpBbn"/>
      </bootstrap>
    <eval phase="PostLevel" priority="10000"><![CDATA[field[listname].text = "Enduring Body (DR: " & field[xIndex].value & "/-)"

  ~These calculations should only happen for the first copy
  doneif (tagis[Helper.FirstCopy] = 0)

  ~ If we're not shown, just get out now
  doneif (tagis[Helper.ShowSpec] = 0)

  field[abValue].value += field[xCount].value
  field[CustDesc].text = "Damage Reduction (" & field[abValue].value & ") against weapons and natural attacks."

  hero.child[xDamRd].field[abValue].value = maximum(hero.child[xDamRd].field[abValue].value, field[abValue].value)]]></eval>
    </thing>
  <thing id="cWellPower" name="Well of Power" description="At 4th level, a war mind can tap his psionic energy to use chain of personal superiority or chain of defensive posture more than would normally be possible. If he has already expended all of his daily uses of either chain of personal superiority or chain of defense posture, he may spend 4 power points to gain an additional use of either ability. He can do this as many times as he wants in a day, provided he has power points left. At 10th level, he can expend his psionic focus and pay 10 power points to gain an additional daily use of chain of overwhelming force if he has already expended his daily use." compset="ClSpecial">
    <tag group="AbilType" tag="Extra"/>
    </thing>
  <thing id="cSweepStr" name="Sweeping Strike" description="At 5th level, a war mind gains the ability to make great, sweeping swings with a melee weapon. On each melee attack a war mind makes, he can choose squares he threatens that are adjacent to each other, and his attacks apply to creatures in those two squares equally. A war mind can use this ability on any attack, even an attack of opportunity or a cleave attempt.\n\nA war mind cannot use this ability if he has moved more than 10 feet since the end of his last turn. If a war mind hits one or both of his foes with a sweeping strike, he can attempt a cleave normally; however, he makes only one cleave attempt per sweeping strike, even if he successfully hits more than one foe." compset="ClSpecial" summary="Attack two adjacent threatened squares with melee attack.">
    <tag group="AbilType" tag="Extra"/>
    </thing>
  <thing id="cChainOver" name="Chain of Overwhelming Force" description="At 10th level, a war mind learns the fourth principle of warfare for the individual combatant: to discover the underlying violence of the world and deliver it in a perfectly executed attack.\n\nThe war mind taps into this underlying energy and apply it to a single melee attack, dealing an extra 10d6 points of damage. A war mind can use this power once per day. Activating this power is part of the attack action. If the attack misses, the power is wasted." compset="ClSpecial" summary="Once per day, deal extra 10d6 damage with single attack.">
    <fieldval field="trkMax" value="1"/>
    <tag group="AbilType" tag="Super"/>
    <tag group="User" tag="Tracker"/>
    <tag group="Usage" tag="Day"/>
    </thing>
  <thing id="cSknBSFOff" name="Focused Offense" description="As long as the soulknife maintains psionic focus, he adds his Wisdom modifier to his attack and damage rolls instead of his Strength modifier." compset="CustomSpec" uniqueness="useronce">
    <usesource source="pPsiUn"/>
    <tag group="SpecSource" tag="cHelpSkn"/>
    <tag group="abCategory" tag="PUBladeSk"/>
    <tag group="abAction" tag="PUManFocus"/>
    <eval phase="PreLevel" priority="10000"><![CDATA[      var v_focus as number
      call PUPsiFocus
      ~ If Not psionically focused get out now
      doneif (v_focus <> 1)

      ~ All weapons on the hero use Wis mod for attack & dmg
      foreach pick in hero from BaseWep
         ~ Melee attacks now use Wisdom
         perform eachpick.assign[MelAttOver.aWIS]
         ~ Damage now uses Wisdom
         perform eachpick.assign[DamageOver.aWIS]
      nexteach]]></eval>
    </thing>
  <thing id="cSknBSFDef" name="Focused Defense" description="When fighting defensively or using Combat Expertise or the total defense action, the soulknife adds his Wisdom modifier as a dodge bonus to his AC so long as he maintains psionic focus. The soulknife must be at least 4th level in order to select this blade skill." compset="CustomSpec" uniqueness="useronce">
    <usesource source="pPsiUn"/>
    <tag group="SpecSource" tag="cHelpSkn" name="Soulknife" abbrev="Soulknife"/>
    <tag group="abAction" tag="PUManFocus"/>
    <eval phase="PostAttr" priority="10000"><![CDATA[      var v_focus as number
      call PUPsiFocus
      ~ If Not psionically focused get out now
      doneif (v_focus <> 1)

      ~ If Combat Expertise, Fighting Defensively,
      ~ or Total Defense not active get out now!
      doneif (hero.tagis[Activated.fComExpert] + hero.tagis[Condition.pstFtDefen] + hero.tagis[Condition.pstTotDef] = 0)

      ~ Give Wisdom as a Dodge bonus to AC
      hero.child[ArmorClass].field[tACDodge].value += #attrmod[aWIS]]]></eval>
    <prereq message="Soulknife Level 4+ required">
      <validate><![CDATA[        var classcheck as string
        var levels as number

        classcheck = "Soulknife"

        call PUPreReqs

        validif (levels >= 4)]]></validate>
      </prereq>
    </thing>
  <thing id="cSknBSAbsB" name="Absorbing Blade" description="The soulknife may expend his psychic strike to have his mind blade absorb a spell, spell-like ability, power, or psi-like ability that would affect her. Effects that are not subjected to spell resistance or power resistance cannot be absorbed in this fashion. Effects that target an area or multiple targets are only absorbed for the soulknife; other affected targets are still affected normally. The level of the effect cannot exceed the number of dice of psychic strike expended. The soulknife must be 8th level to select this blade skill. This blade skill may not be used with the mind bolt." compset="CustomSpec" uniqueness="useronce">
    <usesource source="pPsiUn"/>
    <tag group="SpecSource" tag="cHelpSkn"/>
    <tag group="abCategory" tag="PUBladeSk"/>
    <tag group="NotClExpr" tag="cHelpPUA"/>
    <prereq message="Soulknife level 8+ required.">
      <validate><![CDATA[        var classcheck as string
        var levels as number

        classcheck = "Soulknife"

        call PUPreReqs

        validif (levels >= 8)]]></validate>
      </prereq>
    </thing>
  <thing id="cSknBSAddC" name="Additional Configuration" description="The soulknife gains the ability to have a separate configuration for his mind blade&apos;s enhancement bonus and special abilities. When he forms his mind blade, the soulknife may choose either configuration. Creating this extra configuration functions just as reassigning the enhancement of his mind blade, typically 8 hours of concentration, and when the soulknife reassigns his mind blade configuration, he must reassign each configuration separately, taking the normal 8 hours of concentration per configuration. Additionally, the soulknife may configure the off-hand light weapon form of his mind blade separately from the main hand configuration, if he chooses to form two mind blades and spends the normal 8 hours of concentration. The off-hand mind blade in both configurations can be separately configured in this way. If a soulknife with a separate off-hand configuration forms a one-handed or two-handed mind blade, it always uses the current configuration set for the main hand, never the off-hand configuration. The soulknife must be at least 6th level in order to select this blade skill." compset="CustomSpec" uniqueness="useronce">
    <usesource source="pPsiUn"/>
    <tag group="SpecSource" tag="cHelpSkn"/>
    <tag group="abCategory" tag="PUBladeSk"/>
    <tag group="NotClExpr" tag="cHelpPUA"/>
    <prereq message="Soulknife level 6+ required.">
      <validate><![CDATA[        var classcheck as string
        var levels as number

        classcheck = "Soulknife"

        call PUPreReqs

        validif (levels >= 6)]]></validate>
      </prereq>
    </thing>
  <thing id="cSknBSDazB" name="Dazzling Blade" description="The soulknife may, as a standard action, channel psionic energy into his mind blade, dazzling all creatures within 30 feet. A successful Fortitude save negates this effect. The save DC is 10 + the soulknife&apos;s base attack bonus." compset="CustomSpec" uniqueness="useronce">
    <usesource source="pPsiUn"/>
    <tag group="SpecSource" tag="cHelpSkn"/>
    <tag group="abCategory" tag="PUBladeSk"/>
    <tag group="NotClExpr" tag="cHelpPUA"/>
    </thing>
  <thing id="cSknBSDecB" name="Deceptive Blade" description="When the soulknife feints in combat, he may also form his mind blade in the same action as the feint. Additionally, Bluff is now a class skill for the soulknife. If the soulknife has the Improved Feint feat and the psychic strike class feature, once per round he may also charge his psychic strike when performing a feint and forming his mind blade in the same action. This blade skill may not be used with the mind bolt." compset="CustomSpec" uniqueness="useronce">
    <usesource source="pPsiUn"/>
    <tag group="SpecSource" tag="cHelpSkn"/>
    <tag group="abCategory" tag="PUBladeSk"/>
    <tag group="NotClExpr" tag="cHelpPUA"/>
    <eval phase="PreLevel" priority="1000">#makeclassskill[skBluff]</eval>
    </thing>
  <thing id="cSknBSDisS" name="Disrupting Strike" description="As a full-round action, a soulknife can make one melee attack against each enemy adjacent to her. If he hits, the attack deals no damage, but each enemy hit takes a -5 penalty to all melee and ranged damage rolls until the start of the soulknife&apos;s next turn. This blade skill may not be used with the mind bolt." compset="CustomSpec" uniqueness="useronce">
    <usesource source="pPsiUn"/>
    <tag group="SpecSource" tag="cHelpSkn"/>
    <tag group="abCategory" tag="PUBladeSk"/>
    <tag group="NotClExpr" tag="cHelpPUA"/>
    </thing>
  <thing id="cSknBSDueB" name="Dueling Blade" description="When a soulknife is fighting defensively, or using the Combat Expertise feat, with a mind blade, and an opponent misses his in melee, he may expend his psionic focus to make an attack of opportunity against that opponent with his mind blade. The soulknife ignores the penalty to attack rolls from fighting defensively for this attack." compset="CustomSpec" uniqueness="useronce">
    <usesource source="pPsiUn"/>
    <tag group="SpecSource" tag="cHelpSkn"/>
    <tag group="abCategory" tag="PUBladeSk"/>
    <tag group="NotClExpr" tag="cHelpPUA"/>
    <tag group="abAction" tag="PUExpFocus"/>
    </thing>
  <thing id="cSknBSEmuM" name="Emulate Melee Weapon" description="The soulknife can form his mind blade to replicate any single melee weapon, chosen at the time he takes this blade skill. The soulknife is proficient with his mind blade in this form and it functions in all ways as the chosen weapon. This blade skill may be taken multiple times; each time, it allows the soulknife to form his mind blade to replicate a different melee weapon. This blade skill may not be used with the mind bolt." compset="CustomSpec" uniqueness="useronce">
    <usesource source="pPsiUn"/>
    <tag group="SpecSource" tag="cHelpSkn"/>
    <tag group="abCategory" tag="PUBladeSk"/>
    <tag group="NotClExpr" tag="cHelpPUA"/>
    </thing>
  <thing id="cSknBSEmuR" name="Emulate Ranged Weapon" description="The soulknife can form his mind bolt to replicate any single ranged weapon (except firearms), chosen at the time he takes this blade skill. The soulknife is proficient with his mind bolt in this form and it functions in all ways as the chosen weapon. This blade skill may be taken multiple times; each time, it allows the soulknife to form his mind bolt to replicate a different ranged weapon (except firearms). The soulknife must have the ability to form a mind bolt to select this blade skill." compset="CustomSpec" uniqueness="useronce">
    <usesource source="pPsiUn"/>
    <tag group="SpecSource" tag="cHelpSkn"/>
    <tag group="abCategory" tag="PUBladeSk"/>
    <tag group="NotClExpr" tag="cHelpPUA"/>
    </thing>
  <thing id="cSknBSEnSh" name="Energized Shield" description="As an immediate action when the soulknife is attacked in melee and by expending his psionic focus, he may charge his mind shield with one of the energy types he could normally make his mind blade deal, dealing additional points of the appropriate type of energy damage equal to his normal psychic strike damage to his attacker. This effect lasts only for one attack. The soulknife must be at least 8th level and have the mind shield blade skill and one of the fire blade, ice blade, lightning blade, or thunder blade blade skills to choose this blade skill." compset="CustomSpec" uniqueness="useronce">
    <usesource source="pPsiUn"/>
    <tag group="SpecSource" tag="cHelpSkn"/>
    <tag group="abCategory" tag="PUBladeSk"/>
    <tag group="NotClExpr" tag="cHelpPUA"/>
    <exprreq message="Mind Shield Blade Skill required."><![CDATA[#hasability[cSknBSMShl] <> 0]]></exprreq>
    <prereq message="Soulknife Level 8+ required">
      <validate><![CDATA[        var classcheck as string
        var levels as number

        classcheck = "Soulknife"

        call PUPreReqs

        validif (levels >= 8)]]></validate>
      </prereq>
    </thing>
  <thing id="cSknBSExpS" name="Expand Shield" description="As an immediate action when the soulknife is attacked in melee and by expending his psionic focus, he may charge his mind shield with one of the energy types he could normally make his mind blade deal, dealing additional points of the appropriate type of energy damage equal to his normal psychic strike damage to his attacker. This effect lasts only for one attack. The soulknife must be at least 8th level and have the mind shield blade skill and one of the fire blade, ice blade, lightning blade, or thunder blade blade skills to choose this blade skill." compset="CustomSpec" uniqueness="useronce">
    <usesource source="pPsiUn"/>
    <tag group="SpecSource" tag="cHelpSkn"/>
    <tag group="abCategory" tag="PUBladeSk"/>
    <tag group="NotClExpr" tag="cHelpPUA"/>
    <tag group="abAction" tag="PUExpFocus"/>
    <tag group="abAction" tag="Immediate"/>
    <exprreq message="Mind Shield Blade Skill required."><![CDATA[#hasability[cSknBSMShl] <> 0]]></exprreq>
    </thing>
  <thing id="cSknBSFirB" name="Fire Blade" description="When the soulknife makes an attack with his mind blade, he can choose to have it deal fire damage instead of its normal damage. In addition, the soulknife can expend his psionic focus when he hits with an attack to deal an additional +1d10 fire damage. The soulknife must be at least 8th level to choose this blade skill." compset="CustomSpec" uniqueness="useronce">
    <usesource source="pPsiUn"/>
    <tag group="SpecSource" tag="cHelpSkn"/>
    <tag group="abCategory" tag="PUBladeSk"/>
    <tag group="NotClExpr" tag="cHelpPUA"/>
    <tag group="abAction" tag="PUExpFocus"/>
    <prereq message="Soulknife Level 8+ required">
      <validate><![CDATA[        var classcheck as string
        var levels as number

        classcheck = "Soulknife"

        call PUPreReqs

        validif (levels >= 8)]]></validate>
      </prereq>
    </thing>
  <thing id="cSknBSFirS" name="Firestorm" description="When the soulknife expends his psionic focus to damage an enemy via the Fire Blade blade skill, if the damaged target is adjacent to the soulknife at the end of its next turn, the soulknife deals 1d10 additional fire damage to it and each enemy within 10 feet of the damaged target. The soulknife must have the Fire Blade blade skill to choose this blade skill." compset="CustomSpec" uniqueness="useronce">
    <usesource source="pPsiUn"/>
    <tag group="SpecSource" tag="cHelpSkn"/>
    <tag group="abCategory" tag="PUBladeSk"/>
    <tag group="NotClExpr" tag="cHelpPUA"/>
    <exprreq message="Fire Blade Blade Skill required."><![CDATA[#hasability[cSknBSFirB] <> 0]]></exprreq>
    </thing>
  <thing id="cSknBSIceB" name="Ice Blade" description="When the soulknife makes an attack with his mind blade, he can choose to have it deal cold damage instead of its normal damage. In addition, the soulknife can expend his psionic focus when he hits with an attack to reduce the target&apos;s speed by half until the end of the soulknife&apos;s next turn. The soulknife must be at least 8th level to choose this blade skill." compset="CustomSpec" uniqueness="useronce">
    <usesource source="pPsiUn"/>
    <tag group="SpecSource" tag="cHelpSkn"/>
    <tag group="abCategory" tag="PUBladeSk"/>
    <tag group="NotClExpr" tag="cHelpPUA"/>
    <tag group="abAction" tag="PUExpFocus"/>
    <prereq message="Soulknife Level 8+ required">
      <validate><![CDATA[        var classcheck as string
        var levels as number

        classcheck = "Soulknife"

        call PUPreReqs

        validif (levels >= 8)]]></validate>
      </prereq>
    </thing>
  <thing id="cSknBSFreI" name="Freezing Ice" description="When the soulknife expends his psionic focus to slow an enemy via the Ice Blade blade skill, if the slowed target is adjacent to the soulknife at the end of its next turn, its speed is reduced to 0 until the end of the soulknife&apos;s next turn. The soulknife must have the Ice Blade blade skill to choose this blade skill." compset="CustomSpec" uniqueness="useronce">
    <usesource source="pPsiUn"/>
    <tag group="SpecSource" tag="cHelpSkn"/>
    <tag group="abCategory" tag="PUBladeSk"/>
    <tag group="NotClExpr" tag="cHelpPUA"/>
    <exprreq message="Ice Blade Blade Skill required."><![CDATA[#hasability[cSknBSFirB] <> 0]]></exprreq>
    </thing>
  <thing id="cSknBSIMiS" name="Improved Mind Shield" description="The shield bonus to AC granted by the soulknife&apos;s mind shield increases by 1. The soulknife must have the mind shield blade skill in order to select this blade skill." compset="CustomSpec" uniqueness="unique">
    <usesource source="pPsiUn"/>
    <tag group="Helper" tag="NoPathSoc"/>
    <tag group="SpecSource" tag="cHelpSkn"/>
    <tag group="abCategory" tag="PUBladeSk"/>
    <eval phase="PreLevel" priority="500">hero.childfound[cSknBSMShl].field[abValue].value += 1</eval>
    <exprreq message="Mind Shield Blade Shield required."><![CDATA[#hasability[cSknBSMShl] <> 0]]></exprreq>
    </thing>
  <thing id="cSknBSLigB" name="Lightning Blade" description="When the soulknife makes an attack with his mind blade, he can choose to have it deal electricity damage instead of its normal damage. In addition, the soulknife can expend his psionic focus when he hits with an attack to give the target a -2 penalty to attack and damage rolls until the end of his next turn. If the target is wearing metal armor, the penalty increases to -3. The soulknife must be at least 8th level to choose this blade skill." compset="CustomSpec" uniqueness="useronce">
    <usesource source="pPsiUn"/>
    <tag group="SpecSource" tag="cHelpSkn"/>
    <tag group="abCategory" tag="PUBladeSk"/>
    <tag group="NotClExpr" tag="cHelpPUA"/>
    <prereq message="Soulknife Level 8+ required">
      <validate><![CDATA[        var classcheck as string
        var levels as number

        classcheck = "Soulknife"

        call PUPreReqs

        validif (levels >= 8)]]></validate>
      </prereq>
    </thing>
  <thing id="cSknBSLigA" name="Lightning Arc" description="When the soulknife expends his psionic focus to penalize an enemy via the Lightning Blade blade skill, if the penalized target is adjacent to the soulknife at the end of its next turn, it is dazzled for one round and another enemy within 30 feet of the target takes 3d6 electricity damage. A successful Reflex Save (DC 10 + the soulknife&apos;s base attack bonus) halves the damage taken.{br}{br}The soulknife must have the lightning blade blade skill to choose this blade skill." compset="CustomSpec" uniqueness="useronce">
    <usesource source="pPsiUn"/>
    <tag group="SpecSource" tag="cHelpSkn"/>
    <tag group="abCategory" tag="PUBladeSk"/>
    <tag group="NotClExpr" tag="cHelpPUA"/>
    <exprreq message="Lightning Blade Blade Skill required."><![CDATA[#hasability[cSknBSLigB] <> 0]]></exprreq>
    </thing>
  <thing id="cSknBSMarC" name="Mark of the Challenger" description="The soulknife charges his mind blade with the ability to cause an enemy to focus on her. As a standard action, the soulknife makes a melee attack against a creature. If the attack is successful, the target takes a -2 penalty to attacks made against targets other than the soulknife until the end of its next turn.\n\nThe soulknife must have the lightning blade blade skill to choose this blade skill." compset="CustomSpec" uniqueness="useronce">
    <usesource source="pPsiUn"/>
    <tag group="SpecSource" tag="cHelpSkn"/>
    <tag group="abCategory" tag="PUBladeSk"/>
    <tag group="NotClExpr" tag="cHelpPUA"/>
    </thing>
  <thing id="cSknBSMinF" name="Mind Blade Finesse" description="The benefits of the Weapon Finesse feat apply to the mind blade even when it is in forms that cannot normally be the subject of Weapon Finesse (including two-handed forms)." compset="CustomSpec" uniqueness="useronce">
    <usesource source="pPsiUn"/>
    <tag group="SpecSource" tag="cHelpSkn"/>
    <tag group="abCategory" tag="PUBladeSk"/>
    <tag group="NotClExpr" tag="cHelpPUA"/>
    <eval phase="PreLevel" priority="10000"><![CDATA[
      ~ We want to cycle through all weapons on the hero.
      ~ If that weapon matches our Custom.MindBlade tag,
      ~ then apply MelAttOpt.aDEX to apply Finesse
      foreach pick in hero from BaseWep where "IsWeapon.wMindBlade"
        perform eachpick.assign[MelAttOpt.aDEX]
      nexteach]]></eval>
    </thing>
  <thing id="cSknBSRefB" name="Reflective Blade" description="A soulknife may expend his psychic strike as an immediate action to reflect a spell or power that would strike his back at the caster. The spell or power must be a touch attack spell or power, either ranged or melee, and the level of the spell or power reflected cannot exceed the number of dice of damage expended by psychic strike. The soulknife makes a ranged touch attack to determine if the spell successfully strikes the target. The soulknife must be at least 14th level and have the absorbing blade blade skill to select this blade skill." compset="CustomSpec" uniqueness="unique">
    <usesource source="pPsiUn"/>
    <tag group="Helper" tag="NoPathSoc"/>
    <tag group="SpecSource" tag="cHelpSkn"/>
    <tag group="abCategory" tag="PUBladeSk"/>
    <exprreq message="Absorbing Blade Blade Skill required."><![CDATA[#hasability[cSknBSAbsB] <> 0]]></exprreq>
    <prereq message="Soulknife Level 14+ required">
      <validate><![CDATA[
        var classcheck as string
        var levels as number

        classcheck = "Soulknife"

        call PUPreReqs

        validif (levels >= 14)]]></validate>
      </prereq>
    </thing>
  <thing id="cSknBSThuB" name="Thunder Blade" description="When the soulknife makes an attack with his mind blade, he can choose to have it deal sonic damage instead of its normal damage, although the damage of the attack is halved. In addition, the soulknife can expend his psionic focus when he hits with an attack to stagger the target until the end of his next turn unless the target makes a successful Fortitude save (DC 10 + the soulknife&apos;s base attack bonus). The soulknife must be at least 8th level to choose this blade skill." compset="CustomSpec" uniqueness="useronce">
    <usesource source="pPsiUn"/>
    <tag group="SpecSource" tag="cHelpSkn"/>
    <tag group="abCategory" tag="PUBladeSk"/>
    <tag group="NotClExpr" tag="cHelpPUA"/>
    <tag group="abAction" tag="PUExpFocus"/>
    <tag group="abSave" tag="FortNeg"/>
    <tag group="StandardDC" tag="BAB"/>
    <prereq message="Soulknife Level 8+ required">
      <validate><![CDATA[
        var classcheck as string
        var levels as number

        classcheck = "Soulknife"

        call PUPreReqs

        validif (levels >= 8)]]></validate>
      </prereq>
    </thing>
  <thing id="cSknBSResT" name="Resounding Thunder" description="When the soulknife expends his psionic focus to stagger an enemy via the Thunder Blade blade skill, he gains an additional benefit. If the target ends its next turn adjacent to the soulknife, it takes 2d6+2 sonic damage. The soulknife must have the thunder blade blade skill to select this blade skill." compset="CustomSpec" uniqueness="useronce">
    <usesource source="pPsiUn"/>
    <tag group="SpecSource" tag="cHelpSkn"/>
    <tag group="abCategory" tag="PUBladeSk"/>
    <tag group="NotClExpr" tag="cHelpPUA"/>
    <exprreq message="Thunder Blade Blade Skill required."><![CDATA[#hasability[cSknBSThuB] <> 0]]></exprreq>
    </thing>
  <thing id="cSknBSTowM" name="Tower Mind Shield" description="The soulknife&apos;s mind shield can be shaped into a tower shield. Altering the mind shield in this fashion is a move action that does not provoke attacks of opportunity. The mind shield remains in this form until shaped back into its standard form. The mind shield is treated in all ways (except visually) as a masterwork tower shield, granting a +4 shield bonus to AC, imposing a +2 Maximum Dexterity Bonus, a -9 Armor Check penalty, and a 50% Arcane Spell Failure Chance. The soulknife must have the Mind Shield blade skill to select this blade skill." compset="CustomSpec" uniqueness="unique">
    <usesource source="pPsiUn"/>
    <tag group="Helper" tag="NoPathSoc"/>
    <tag group="SpecSource" tag="cHelpSkn"/>
    <tag group="abCategory" tag="PUBladeSk"/>
    <tag group="User" tag="Activation"/>
    <bootstrap thing="shMTowShld">
      <containerreq phase="First" priority="100"><![CDATA[fieldval:abilActive <> 0]]></containerreq>
      </bootstrap>
    <exprreq message="Mind Shield Blade Skill required."><![CDATA[#hasability[cSknBSMShl] <> 0]]></exprreq>
    </thing>
  <thing id="cSknBSTSSk" name="Tower Shield Skill" description="The soulknife reduces the attack and armor check penalties by 1 (to a minimum of 0) if his mind shield is in tower shield form. The soulknife may take this blade skill multiple times, its effects stack. The soulknife must have the mind shield blade skill and the ability to shape his mind shield into a tower shield to choose this blade skill." compset="CustomSpec">
    <usesource source="pPsiUn"/>
    <tag group="Helper" tag="NoPathSoc"/>
    <tag group="SpecSource" tag="cHelpSkn"/>
    <tag group="abCategory" tag="PUBladeSk"/>
    <eval phase="PreLevel" priority="10000"><![CDATA[
      if (hero.childlives[shMTowShld] <> 0) then
        field[abValue].value += 1
        ~ Increase/Decrease ACP but don't let the ACP be lowered
        ~ to more than zero.
        hero.child[shMTowShld].field[arArmorChk].value = minimum(hero.child[shMTowShld].field[arArmorChk].value + field[abValue].value, 0)
      endif]]></eval>
    <exprreq message="Tower Mind Shield Blade Skill required."><![CDATA[#hasability[cSknBSTowM] <> 0]]></exprreq>
    <exprreq message="Mind Shield Blade Skill required."><![CDATA[#hasability[cSknBSMShl] <> 0]]></exprreq>
    </thing>
  <thing id="cSknBSAdvT" name="Advanced Talents" description="Not implemented yet\nThe soulknife can select an advanced rogue talent from the following list. Confounding Blades, Crippling Strike, Stealthy Sniper. The soulknife can select this blade skill multiple times. The soulknife must have the Covert Training class feature and be at least 10th level before selecting this blade skill." compset="CustomSpec">
    <usesource source="pPsiUn"/>
    <tag group="Helper" tag="NoPathSoc"/>
    <tag group="SpecSource" tag="cHelpSkn"/>
    <tag group="abCategory" tag="PUBladeSk"/>
    <prereq message="Soulknife level 10+ required">
      <validate><![CDATA[        var classcheck as string
        var levels as number

        classcheck = "Soulknife"

        call PUPreReqs

        validif (levels >= 10)]]></validate>
      </prereq>
    </thing>
  <thing id="cSknBSDeaS" name="Deadly Shield" description="The soulknife may choose to empower his mind shield with weapon special abilities, instead of shield special abilities, and may select to apply the enhancement bonus of the mind shield for attacks, rather than for armor. The soulknife must have the Form Mind Shield class feature and be at least 5th level in order to select this blade skill." compset="CustomSpec" uniqueness="useronce">
    <usesource source="pPsiUn"/>
    <tag group="SpecSource" tag="cHelpSkn"/>
    <tag group="abCategory" tag="PUBladeSk"/>
    <tag group="Helper" tag="NoPathSoc"/>
    <prereq message="Soulknife level 5+ required">
      <validate><![CDATA[        var classcheck as string
        var levels as number

        classcheck = "Soulknife"

        call PUPreReqs

        validif (levels >= 5)]]></validate>
      </prereq>
    </thing>
  <thing id="cSknBSEvsn" name="Evasion" description="Not implemented yet\nThe soulknife can avoid even magical and unusual attacks with great agility. If he makes a successful Reflex saving throw against an attack that normally deals half damage on a successful save, he instead takes no damage. Evasion can be used only if the soulknife is wearing light armor, medium armor, or no armor. A helpless soulknife does not gain the benefit of evasion. The soulknife must have the Covert Training class feature to select this blade skill." compset="CustomSpec" uniqueness="useronce">
    <usesource source="pPsiUn"/>
    <tag group="Helper" tag="NoPathSoc"/>
    <tag group="SpecSource" tag="cHelpSkn"/>
    <tag group="abCategory" tag="PUBladeSk"/>
    </thing>
  <thing id="cSknBSFFis" name="Flurry of Fists" description="Not implemented yet\nWhen making unarmed attacks and making a full attack, the soulknife can make one additional attack at his highest attack bonus, but all attacks in the full attack suffer a -2 penalty to the attack roll. This extra attack does not stack with abilities that grant additional attacks, such as Two-Weapon Fighting, Flurry of Blows, or other such effects. The soulknife must have the Improved Unarmed Strike feat in order to select this blade skill." compset="CustomSpec" uniqueness="useronce">
    <usesource source="pPsiUn"/>
    <tag group="Helper" tag="NoPathSoc"/>
    <tag group="SpecSource" tag="cHelpSkn"/>
    <tag group="abCategory" tag="PUBladeSk"/>
    </thing>
  <thing id="cSknBSFFIm" name="Flurry of Fists, Improved" description="Not implemented yet\nThe soulknife gains an additional attack when using flurry of fists, but at a -5 penalty. The soulknife must be at least 6th level and have the Improved Unarmed Strike feat and the Flurry of Fists blade skill in order to select this blade skill." compset="CustomSpec" uniqueness="useronce">
    <usesource source="pPsiUn"/>
    <tag group="SpecSource" tag="cHelpSkn"/>
    <tag group="abCategory" tag="PUBladeSk"/>
    <tag group="Helper" tag="NoPathSoc"/>
    <prereq message="Soulknife level 6+ required">
      <validate><![CDATA[        var classcheck as string
        var levels as number

        classcheck = "Soulknife"

        call PUPreReqs

        validif (levels >= 6)]]></validate>
      </prereq>
    </thing>
  <thing id="cSknBSFFGr" name="Flurry of Fists, Greater" description="Not implemented yet\nThe soulknife gains an additional attack when using flurry of fists, but at a -10 penalty. The soulknife must be at least 11th level and have the Improved Unarmed Strike feat and the Flurry of Fists and Improved Flurry of Fists blade skills in order to select this blade skill." compset="CustomSpec" uniqueness="useronce">
    <usesource source="pPsiUn"/>
    <tag group="SpecSource" tag="cHelpSkn"/>
    <tag group="abCategory" tag="PUBladeSk"/>
    <tag group="Helper" tag="NoPathSoc"/>
    <prereq message="Soulknife level 11+ required">
      <validate><![CDATA[        var classcheck as string
        var levels as number

        classcheck = "Soulknife"

        call PUPreReqs

        validif (levels >= 11)]]></validate>
      </prereq>
    </thing>
  <thing id="cSknBSGrSh" name="Grasping Shield" description="Not implemented yet\nThe soulknife&apos;s mind shield takes on an adhesive quality. Once per round, he may make a free disarm attempt against any enemy that makes a melee attack that misses her. This disarm attempt counts as an attack of opportunity and does not provoke attacks of opportunity. The soulknife must have the Shield Block blade skill and the Form Mind Shield class feature to choose this blade skill." compset="CustomSpec" uniqueness="useronce">
    <usesource source="pPsiUn"/>
    <tag group="Helper" tag="NoPathSoc"/>
    <tag group="SpecSource" tag="cHelpSkn"/>
    <tag group="abCategory" tag="PUBladeSk"/>
    </thing>
  <thing id="cSknBSImpA" name="Improved Armor" description="Not implemented yet\nThe soulknife&apos;s mind armor improves depending on its form. Light form is treated as if not wearing armor, while still gaining the armor bonus to Armor Class. Medium form is treated as a masterwork breastplate. Heavy form is treated as masterwork full plate. The soulknife must have the ability to Form Mind Armor in order to take this blade skill." compset="CustomSpec" uniqueness="useronce">
    <usesource source="pPsiUn"/>
    <tag group="Helper" tag="NoPathSoc"/>
    <tag group="SpecSource" tag="cHelpSkn"/>
    <tag group="abCategory" tag="PUBladeSk"/>
    </thing>
  <thing id="cSknBSmpE" name="Improved Evasion" description="Not implemented yet\nThis works like evasion, except that while the soulknife still takes no damage on a successful Reflex saving throw against attacks, he henceforth takes only half damage on a failed save. A helpless soulknife does not gain the benefit of improved evasion. A soulknife must have the Evasion blade skill, the Covert Training class feature, and be at least 10th level before selecting this blade skill." compset="CustomSpec" uniqueness="useronce">
    <usesource source="pPsiUn"/>
    <tag group="SpecSource" tag="cHelpSkn"/>
    <tag group="abCategory" tag="PUBladeSk"/>
    <tag group="Helper" tag="NoPathSoc"/>
    <prereq message="Soulknife level 10+ required">
      <validate><![CDATA[        var classcheck as string
        var levels as number

        classcheck = "Soulknife"

        call PUPreReqs

        validif (levels >= 10)]]></validate>
      </prereq>
    </thing>
  <thing id="cSknBSInTh" name="Interrupting Throw" description="Not implemented yet\nIf an enemy within 10 feet of the soulknife performs an action that would provoke an attack of opportunity, such as casting a spell without casting on the defensive, he may, as an immediate action and by expending psionic focus, throw his mind shield at that enemy as an attack of opportunity. The soulknife may not use this blade skill if his mind shield is in the form of a tower shield. The soulknife must be at least 12th level and have the Form Mind Shield class feature to choose this blade skill." compset="CustomSpec" uniqueness="useronce">
    <usesource source="pPsiUn"/>
    <tag group="SpecSource" tag="cHelpSkn"/>
    <tag group="abCategory" tag="PUBladeSk"/>
    <tag group="Helper" tag="NoPathSoc"/>
    <tag group="abAction" tag="PUExpFocus"/>
    <tag group="abAction" tag="Immediate"/>
    <prereq message="Soulknife level 12+ required">
      <validate><![CDATA[        var classcheck as string
        var levels as number

        classcheck = "Soulknife"

        call PUPreReqs

        validif (levels >= 12)]]></validate>
      </prereq>
    </thing>
  <thing id="cSknBSMtlP" name="Mental Power" description="Not implemented yet\nThe soulknife gains an additional power known from the gifted blade power list, up to the maximum power level he can manifest. In addition, the soulknife gains an additional 2 power points. This blade skill can be selected multiple times. Each time, the soulknife gains another power known and 2 additional power points. The soulknife must have manifesting ability from his levels in soulknife in order to select this blade skill." compset="CustomSpec">
    <usesource source="pPsiUn"/>
    <tag group="Helper" tag="NoPathSoc"/>
    <tag group="abCategory" tag="PUBladeSk"/>
    <tag group="SpecSource" tag="cHelpSkn"/>
    </thing>
  <thing id="cSknBSRgSB" name="Ranged Shield Block" description="Not implemented yet\nWhen using the Shield Block blade skill, the soulknife may block a ranged attack, but not ranged touch attack. The soulknife must have the Form Mind Shield class feature and the Shield Block blade skill to choose this blade skill." compset="CustomSpec" uniqueness="useronce">
    <usesource source="pPsiUn"/>
    <tag group="Helper" tag="NoPathSoc"/>
    <tag group="abCategory" tag="PUBladeSk"/>
    <tag group="SpecSource" tag="cHelpSkn"/>
    </thing>
  <thing id="cSknBSRogT" name="Rogue Talent" description="Not implemented yet\nThe soulknife can select a rogue talent from the following list. Befuddling Strike, Fast Stealth, Slow Reactions, Sniper&apos;s Eye, Surprise Attack. The soulknife can select this blade skill multiple times. The soulknife must have the Covert Training class feature to select this blade skill." compset="CustomSpec">
    <usesource source="pPsiUn"/>
    <tag group="Helper" tag="NoPathSoc"/>
    <tag group="abCategory" tag="PUBladeSk"/>
    <tag group="SpecSource" tag="cHelpSkn"/>
    </thing>
  <thing id="cSknBSShBl" name="Shield Block" description="Not implemented yet\nAs an immediate action and by expending psionic focus, the soulknife may block one melee attack, but not touch attack, against his by making an attack roll. If his attack roll is higher than the attack roll he is attempting to block, the attack misses. The soulknife must have the Form Mind Shield class feature to choose this blade skill." compset="CustomSpec" uniqueness="useronce">
    <usesource source="pPsiUn"/>
    <tag group="Helper" tag="NoPathSoc"/>
    <tag group="SpecSource" tag="cHelpSkn"/>
    <tag group="abCategory" tag="PUBladeSk"/>
    <tag group="abAction" tag="PUExpFocus"/>
    <tag group="abAction" tag="Immediate"/>
    </thing>
  <thing id="cSknBSTrpf" name="Trapfinder" description="Not implemented yet\nThe soulknife gains the Trapfinding ability of a rogue of his level. In addition, the soulknife treats Disable Device as a class skill. The soulknife must have the Covert Training class feature to select this blade skill." compset="CustomSpec" uniqueness="useronce">
    <usesource source="pPsiUn"/>
    <tag group="Helper" tag="NoPathSoc"/>
    <tag group="SpecSource" tag="cHelpSkn"/>
    <tag group="abCategory" tag="PUBladeSk"/>
    <eval phase="PreLevel" priority="5000">~Disable Device is always a class skill
#makeclassskill[skDisable]</eval>
    </thing>
  <thing id="cSknBSWhip" name="Whiplash" description="Not implemented yet\nThe soulknife can throw his mind shield as a thrown weapon with a range increment of 10. In addition, by expending psionic focus as a free action after making a ranged attack with his mind shield, the soulknife can cause the shield to return back to his hand, hitting any enemy in line of effect from his target and dealing damage as a light shield. Soulknives with the Form Mind Shield class feature instead deal damage as a heavy shield. The soulknife makes a ranged attack roll for each enemy in the line of effect. The soulknife may not use this blade skill if his mind shield is in the form of a tower shield. The soulknife must be at least 8th level and have the Form Mind Shield class feature to choose this blade skill." compset="CustomSpec" uniqueness="useronce">
    <usesource source="pPsiUn"/>
    <tag group="SpecSource" tag="cHelpSkn"/>
    <tag group="abCategory" tag="PUBladeSk"/>
    <tag group="Helper" tag="NoPathSoc"/>
    <tag group="abAction" tag="PUExpFocus"/>
    <tag group="abAction" tag="Free"/>
    <prereq message="Soulknife level 8+ required">
      <validate><![CDATA[        var classcheck as string
        var levels as number

        classcheck = "Soulknife"

        call PUPreReqs

        validif (levels >= 8)]]></validate>
      </prereq>
    </thing>
  <thing id="cPUSurPPri" name="Survivor&apos;s Path" description="Survivor Path {i}You are capable of surviving in harsh environments and enduring deadly assaults. You recognize the power of the body&apos;s ability to overcome even the most deadly of afflictions.\n\n{/i}{b}Powers:{/b} {i}Catfall{/i}, {i}vigor{/i}\n\n{b}Skills:{/b} Autohypnosis, Heal, Survival \n\n{b}Bonus class skill:{/b} Survival\n\n{b}Note:{/b} You need to correctly set one of the Path&apos;s selected as your Primary path and the 2nd one as the Secondary path to have everthing calc correctly." compset="CustomSpec" summary="You are a follower of the Survivor&apos;s Path" uniqueness="unique">
    <arrayval field="usrArray" index="1" value="Secondary"/>
    <arrayval field="usrArray" index="0" value="Primary"/>
    <usesource source="pPsiUn"/>
    <tag group="SpecSource" tag="cHelpPWa"/>
    <tag group="ClassSkill" tag="skSurvival"/>
    <tag group="Helper" tag="SpecUp"/>
    <tag group="AbilType" tag="Extra"/>
    <tag group="PathSkill" tag="skHeal"/>
    <tag group="PathSkill" tag="skPUAhypno"/>
    <tag group="PathSkill" tag="skSurvival"/>
    <tag group="ClsAllowPs" tag="puCatfall1"/>
    <tag group="ClsAllowPs" tag="puPVigor1"/>
    <bootstrap thing="puCatfall1">
      <autotag group="Hide" tag="Power"/>
      <autotag group="PsyWarrior" tag="PathPower"/>
      <autotag group="SpellType" tag="cHelpPWa"/>
      <autotag group="Helper" tag="Free"/>
      </bootstrap>
    <bootstrap thing="puPVigor1">
      <autotag group="Hide" tag="Power"/>
      <autotag group="PsyWarrior" tag="PathPower"/>
      <autotag group="SpellType" tag="cHelpPWa"/>
      <autotag group="Helper" tag="Free"/>
      </bootstrap>
    <bootstrap thing="cPWaTraSur"></bootstrap>
    <bootstrap thing="cPWaManSur"></bootstrap>
    <eval phase="First">~ Setup the Psychic Warrior Path
      Call PsyWarPath</eval>
    </thing>
  <thing id="cHelpPU0" name="Aegis" compset="Class" uniqueness="unique">
    <fieldval field="cHDSides" value="10"/>
    <fieldval field="cAbbr" value="Aeg"/>
    <fieldval field="cSkills" value="4"/>
    <fieldval field="srcPageNum" value="28"/>
    <fieldval field="srcBookInf" value="Ultimate Psionics"/>
    <fieldval field="cSCRNumDce" value="2"/>
    <fieldval field="cSCRDceSiz" value="6"/>
    <fieldval field="cSCRMult" value="10"/>
    <arrayval field="cPsiPPTot" index="5" value="9"/>
    <arrayval field="cPsiPPTot" index="6" value="11"/>
    <arrayval field="cPsiPPTot" index="7" value="14"/>
    <arrayval field="cPsiPPTot" index="8" value="17"/>
    <arrayval field="cPsiPPTot" index="9" value="20"/>
    <arrayval field="cPsiPPTot" index="10" value="24"/>
    <arrayval field="cPsiPPTot" index="11" value="28"/>
    <arrayval field="cPsiPPTot" index="12" value="32"/>
    <arrayval field="cPsiPPTot" index="13" value="37"/>
    <arrayval field="cPsiPPTot" index="14" value="42"/>
    <arrayval field="cPsiPPTot" index="15" value="47"/>
    <arrayval field="cPsiPPTot" index="16" value="52"/>
    <arrayval field="cPsiPPTot" index="17" value="58"/>
    <arrayval field="cPsiPPTot" index="18" value="64"/>
    <arrayval field="cPsiPPTot" index="19" value="70"/>
    <arrayval field="cPsiPPTot" index="0" value="1"/>
    <arrayval field="cPsiPPTot" index="1" value="2"/>
    <arrayval field="cPsiPPTot" index="2" value="3"/>
    <arrayval field="cPsiPPTot" index="3" value="5"/>
    <arrayval field="cPsiPPTot" index="4" value="7"/>
    <usesource source="pPsiUn"/>
    <tag group="cFort" tag="Good"/>
    <tag group="ClassSkill" tag="skAcrobat"/>
    <tag group="ClassSkill" tag="Craft"/>
    <tag group="ClassSkill" tag="Profession"/>
    <tag group="ClassSkill" tag="skPUAhypno"/>
    <tag group="ClassSkill" tag="skClimb"/>
    <tag group="ClassSkill" tag="skFly"/>
    <tag group="ClassSkill" tag="skIntim"/>
    <tag group="ClassSkill" tag="skKnowEng"/>
    <tag group="ClassSkill" tag="skPUKnwPsi"/>
    <tag group="ClassSkill" tag="skSpellcr"/>
    <tag group="ClassSkill" tag="skSwim"/>
    <tag group="ClassSkill" tag="skUseMagic"/>
    <tag group="cRef" tag="Poor"/>
    <tag group="Psionics" tag="Class"/>
    <tag group="ProductId" tag="HLCommunit"/>
    <tag group="cAttack" tag="Good"/>
    <tag group="cWill" tag="Good"/>
    <tag group="Classes" tag="Aegis" name="Aegis"/>
    <bootstrap thing="cPUReconfi">
      <autotag group="ClSpecWhen" tag="19"/>
      </bootstrap>
    <bootstrap thing="cPUMastCr">
      <autotag group="ClSpecWhen" tag="5"/>
      </bootstrap>
    <bootstrap thing="cPUCanniSu">
      <autotag group="ClSpecWhen" tag="12"/>
      </bootstrap>
    <bootstrap thing="cPUCanniSu">
      <autotag group="ClSpecWhen" tag="14"/>
      </bootstrap>
    <bootstrap thing="cPUCanniSu">
      <autotag group="ClSpecWhen" tag="16"/>
      </bootstrap>
    <bootstrap thing="cPUCanniSu">
      <autotag group="ClSpecWhen" tag="18"/>
      </bootstrap>
    <bootstrap thing="cPUCanniSu">
      <autotag group="ClSpecWhen" tag="20"/>
      </bootstrap>
    <bootstrap thing="cPUPerfMer">
      <autotag group="ClSpecWhen" tag="20"/>
      </bootstrap>
    <bootstrap thing="cPUAugSuit">
      <autotag group="ClSpecWhen" tag="4"/>
      </bootstrap>
    <bootstrap thing="cPUAugSuit">
      <autotag group="ClSpecWhen" tag="8"/>
      </bootstrap>
    <bootstrap thing="cPUAugSuit">
      <autotag group="ClSpecWhen" tag="12"/>
      </bootstrap>
    <bootstrap thing="cPUAugSuit">
      <autotag group="ClSpecWhen" tag="16"/>
      </bootstrap>
    <bootstrap thing="cPUAugSuit">
      <autotag group="ClSpecWhen" tag="20"/>
      </bootstrap>
    <bootstrap thing="fSimple"></bootstrap>
    <bootstrap thing="fArmShield"></bootstrap>
    <bootstrap thing="fArmLight"></bootstrap>
    <bootstrap thing="fWepMart"></bootstrap>
    <bootstrap thing="cPUAstrRep">
      <autotag group="ClSpecWhen" tag="1"/>
      </bootstrap>
    <bootstrap thing="cPUCraftsm">
      <autotag group="ClSpecWhen" tag="2"/>
      </bootstrap>
    <bootstrap thing="cPUCraftsm">
      <autotag group="ClSpecWhen" tag="6"/>
      </bootstrap>
    <bootstrap thing="cPUCraftsm">
      <autotag group="ClSpecWhen" tag="10"/>
      </bootstrap>
    <bootstrap thing="cPUCraftsm">
      <autotag group="ClSpecWhen" tag="14"/>
      </bootstrap>
    <bootstrap thing="cPUCraftsm">
      <autotag group="ClSpecWhen" tag="18"/>
      </bootstrap>
    <bootstrap thing="cPUAstSuit">
      <autotag group="ClSpecWhen" tag="1"/>
      </bootstrap>
    <bootstrap thing="cPUAegDR">
      <autotag group="ClSpecWhen" tag="2"/>
      </bootstrap>
    <bootstrap thing="cPUAegDR">
      <autotag group="ClSpecWhen" tag="5"/>
      </bootstrap>
    <bootstrap thing="cPUAegDR">
      <autotag group="ClSpecWhen" tag="8"/>
      </bootstrap>
    <bootstrap thing="cPUAegDR">
      <autotag group="ClSpecWhen" tag="11"/>
      </bootstrap>
    <bootstrap thing="cPUAegDR">
      <autotag group="ClSpecWhen" tag="14"/>
      </bootstrap>
    <bootstrap thing="cPUAegDR">
      <autotag group="ClSpecWhen" tag="17"/>
      </bootstrap>
    <bootstrap thing="cPUAegDR">
      <autotag group="ClSpecWhen" tag="20"/>
      </bootstrap>
    <bootstrap thing="cPUInvigSu">
      <autotag group="ClSpecWhen" tag="3"/>
      </bootstrap>
    <bootstrap thing="cPUReconfi">
      <autotag group="ClSpecWhen" tag="3"/>
      </bootstrap>
    <bootstrap thing="cPUReconfi">
      <autotag group="ClSpecWhen" tag="5"/>
      </bootstrap>
    <bootstrap thing="cPUAegHelp"></bootstrap>
    <bootstrap thing="cPUReconfi">
      <autotag group="ClSpecWhen" tag="7"/>
      </bootstrap>
    <bootstrap thing="cPUReconfi">
      <autotag group="ClSpecWhen" tag="9"/>
      </bootstrap>
    <bootstrap thing="cPUReconfi">
      <autotag group="ClSpecWhen" tag="11"/>
      </bootstrap>
    <bootstrap thing="cPUReconfi">
      <autotag group="ClSpecWhen" tag="13"/>
      </bootstrap>
    <bootstrap thing="cPUReconfi">
      <autotag group="ClSpecWhen" tag="15"/>
      </bootstrap>
    <bootstrap thing="cPUReconfi">
      <autotag group="ClSpecWhen" tag="17"/>
      </bootstrap>
    <link linkage="psiattr" thing="aINT"/>
    <eval phase="PostLevel" priority="600" index="2">var myLevel as number

      myLevel += field[cTotalLev].value

      ~Set configurable points on Aegis Helper in abValue2 field
      if (myLevel = 1) then
        hero.childfound[cPUAegHelp].field[abValue2].value += 3
      elseif (myLevel = 2) then
        hero.childfound[cPUAegHelp].field[abValue2].value += 4
      elseif (myLevel = 3) then
        hero.childfound[cPUAegHelp].field[abValue2].value += 5
      elseif (myLevel = 4) then
        hero.childfound[cPUAegHelp].field[abValue2].value += 7
      elseif (myLevel = 5) then
        hero.childfound[cPUAegHelp].field[abValue2].value += 8
      elseif (myLevel = 6) then
        hero.childfound[cPUAegHelp].field[abValue2].value += 9
      elseif (myLevel = 7) then
        hero.childfound[cPUAegHelp].field[abValue2].value += 10
      elseif (myLevel = 8) then
        hero.childfound[cPUAegHelp].field[abValue2].value += 11
      elseif (myLevel = 9) then
        hero.childfound[cPUAegHelp].field[abValue2].value += 13
      elseif (myLevel = 10) then
        hero.childfound[cPUAegHelp].field[abValue2].value += 14
      elseif (myLevel = 11) then
        hero.childfound[cPUAegHelp].field[abValue2].value += 15
      elseif (myLevel = 12) then
        hero.childfound[cPUAegHelp].field[abValue2].value += 16
      elseif (myLevel = 13) then
        hero.childfound[cPUAegHelp].field[abValue2].value += 17
      elseif (myLevel = 14) then
        hero.childfound[cPUAegHelp].field[abValue2].value += 19
      elseif (myLevel = 15) then
        hero.childfound[cPUAegHelp].field[abValue2].value += 20
      elseif (myLevel = 16) then
        hero.childfound[cPUAegHelp].field[abValue2].value += 21
      elseif (myLevel = 17) then
        hero.childfound[cPUAegHelp].field[abValue2].value += 22
      elseif (myLevel = 18) then
        hero.childfound[cPUAegHelp].field[abValue2].value += 23
      elseif (myLevel = 19) then
        hero.childfound[cPUAegHelp].field[abValue2].value += 25
      elseif (myLevel = 20) then
        hero.childfound[cPUAegHelp].field[abValue2].value += 26
      endif</eval>
    <eval phase="PostLevel" priority="500">~Set Aegis level in abValue1 on Aegis Helper Class Special for Configurable reference later
      hero.childfound[cPUAegHelp].field[abValue].value += field[cTotalLev].value</eval>
    </thing>
  <thing id="cPUAegis" name="Aegis" description="While the shaper is the master of manipulating ectoplasm and creating any manner of item, the aegis has learned to take ectoplasm and form it into a suit to be worn around his body, granting him a variety of benefits.\n\nThe aegis can shape his astral suit into several different forms and is capable of altering its abilities to suit his needs.\n\n{b}Role:{/b} An aegis is a front-line combatant. His astral suit allows him significant flexibility in handling combat and non-combat situations, and his defensive abilities are considerable.\n\n{b}Alignment:{/b} Any." compset="ClassLevel" maxlimit="20">
    <usesource source="pPsiUn"/>
    <tag group="ClassType" tag="Normal"/>
    <tag group="Custom" tag="AegisLvls"/>
    <tag group="ProductId" tag="HLCommunit"/>
    <bootstrap thing="cHelpPU0"></bootstrap>
    <link linkage="helper" thing="cHelpPU0"/>
    <eval phase="First" priority="50">~ Assign Class helper tag very early on the hero for
      ~ testing on the Bootstrap armor Thing.
      perform hero.assign[Custom.AegisLvls]</eval>
    </thing>
  <thing id="cHelpPU1" name="Cryptic" compset="Class" uniqueness="unique">
    <fieldval field="cHDSides" value="8"/>
    <fieldval field="cAbbr" value="Crp"/>
    <fieldval field="cSkills" value="4"/>
    <fieldval field="cSpecSing" value="Insight"/>
    <fieldval field="cSpec2ndSi" value="Supreme Insight"/>
    <fieldval field="cPsiSPowNm" value="Talents"/>
    <fieldval field="cPsiSPowMa" value="2"/>
    <fieldval field="cSpecName" value="Insights"/>
    <fieldval field="srcPageNum" value="35"/>
    <fieldval field="srcBookInf" value="Ultimate Psionics"/>
    <fieldval field="cSCRNumDce" value="3"/>
    <fieldval field="cSCRDceSiz" value="6"/>
    <fieldval field="cSCRMult" value="10"/>
    <arrayval field="cPsiPPTot" index="6" value="16"/>
    <arrayval field="cPsiPPTot" index="7" value="20"/>
    <arrayval field="cPsiPPTot" index="8" value="24"/>
    <arrayval field="cPsiPPTot" index="9" value="28"/>
    <arrayval field="cPsiPPTot" index="10" value="36"/>
    <arrayval field="cPsiPPTot" index="11" value="44"/>
    <arrayval field="cPsiPPTot" index="12" value="52"/>
    <arrayval field="cPsiPPTot" index="13" value="60"/>
    <arrayval field="cPsiPPTot" index="14" value="68"/>
    <arrayval field="cPsiPPTot" index="15" value="80"/>
    <arrayval field="cPsiPPTot" index="16" value="92"/>
    <arrayval field="cPsiPPTot" index="17" value="104"/>
    <arrayval field="cPsiPPTot" index="18" value="116"/>
    <arrayval field="cPsiPPTot" index="19" value="128"/>
    <arrayval field="cPsiPowTot" index="0" value="1"/>
    <arrayval field="cPsiPowTot" index="1" value="2"/>
    <arrayval field="cPsiPowTot" index="2" value="3"/>
    <arrayval field="cPsiPowTot" index="3" value="4"/>
    <arrayval field="cPsiPowTot" index="4" value="5"/>
    <arrayval field="cPsiPowTot" index="5" value="6"/>
    <arrayval field="cPsiPowTot" index="6" value="7"/>
    <arrayval field="cPsiPowTot" index="7" value="8"/>
    <arrayval field="cPsiPowTot" index="8" value="9"/>
    <arrayval field="cPsiPowTot" index="9" value="10"/>
    <arrayval field="cPsiPowTot" index="10" value="11"/>
    <arrayval field="cPsiPowTot" index="11" value="12"/>
    <arrayval field="cPsiPowTot" index="12" value="13"/>
    <arrayval field="cPsiPowTot" index="13" value="14"/>
    <arrayval field="cPsiPowTot" index="14" value="15"/>
    <arrayval field="cPsiPowTot" index="15" value="16"/>
    <arrayval field="cPsiPowTot" index="16" value="17"/>
    <arrayval field="cPsiPowTot" index="17" value="18"/>
    <arrayval field="cPsiPowTot" index="18" value="19"/>
    <arrayval field="cPsiPowTot" index="19" value="20"/>
    <arrayval field="cPsiLevTot" index="0" value="1"/>
    <arrayval field="cPsiLevTot" index="1" value="1"/>
    <arrayval field="cPsiLevTot" index="2" value="1"/>
    <arrayval field="cPsiLevTot" index="3" value="2"/>
    <arrayval field="cPsiLevTot" index="4" value="2"/>
    <arrayval field="cPsiLevTot" index="5" value="2"/>
    <arrayval field="cPsiLevTot" index="6" value="3"/>
    <arrayval field="cPsiLevTot" index="7" value="3"/>
    <arrayval field="cPsiLevTot" index="8" value="3"/>
    <arrayval field="cPsiLevTot" index="9" value="4"/>
    <arrayval field="cPsiLevTot" index="10" value="4"/>
    <arrayval field="cPsiLevTot" index="11" value="4"/>
    <arrayval field="cPsiLevTot" index="12" value="5"/>
    <arrayval field="cPsiLevTot" index="13" value="5"/>
    <arrayval field="cPsiLevTot" index="14" value="5"/>
    <arrayval field="cPsiLevTot" index="15" value="6"/>
    <arrayval field="cPsiLevTot" index="16" value="6"/>
    <arrayval field="cPsiLevTot" index="17" value="6"/>
    <arrayval field="cPsiLevTot" index="18" value="6"/>
    <arrayval field="cPsiLevTot" index="19" value="6"/>
    <arrayval field="cCustScTot" index="19" value="1"/>
    <arrayval field="cPsiPPTot" index="0" value="1"/>
    <arrayval field="cCustTot" index="1" value="1"/>
    <arrayval field="cCustTot" index="3" value="2"/>
    <arrayval field="cCustTot" index="5" value="3"/>
    <arrayval field="cCustTot" index="7" value="4"/>
    <arrayval field="cCustTot" index="9" value="5"/>
    <arrayval field="cCustTot" index="11" value="6"/>
    <arrayval field="cCustTot" index="13" value="7"/>
    <arrayval field="cCustTot" index="15" value="8"/>
    <arrayval field="cCustTot" index="17" value="9"/>
    <arrayval field="cCustTot" index="19" value="11"/>
    <arrayval field="cPsiPPTot" index="1" value="2"/>
    <arrayval field="cPsiPPTot" index="2" value="4"/>
    <arrayval field="cPsiPPTot" index="3" value="6"/>
    <arrayval field="cPsiPPTot" index="4" value="8"/>
    <arrayval field="cPsiPPTot" index="5" value="12"/>
    <usesource source="pPsiUn"/>
    <tag group="ClassSkill" tag="skAppraise"/>
    <tag group="ClassSkill" tag="skPUAhypno"/>
    <tag group="ClassSkill" tag="skClimb"/>
    <tag group="ClassSkill" tag="skDisable"/>
    <tag group="ClassSkill" tag="skDisguise"/>
    <tag group="ClassSkill" tag="skEscape"/>
    <tag group="ClassSkill" tag="skLinguist"/>
    <tag group="ClassSkill" tag="skPercep"/>
    <tag group="ClassSkill" tag="skSenseMot"/>
    <tag group="ClassSkill" tag="skSleight"/>
    <tag group="ClassSkill" tag="skSpellcr"/>
    <tag group="ClassSkill" tag="Craft"/>
    <tag group="ClassSkill" tag="skSwim"/>
    <tag group="ClassSkill" tag="skUseMagic"/>
    <tag group="WepProf" tag="wRapier"/>
    <tag group="WepProf" tag="wShortbow"/>
    <tag group="Psionics" tag="Class"/>
    <tag group="Classes" tag="Cryptic" name="Cryptic"/>
    <tag group="cAttack" tag="Medium"/>
    <tag group="cFort" tag="Poor"/>
    <tag group="cRef" tag="Good"/>
    <tag group="ClassSkill" tag="skAcrobat"/>
    <tag group="ClassSkill" tag="Perform"/>
    <tag group="ClassSkill" tag="Knowledge"/>
    <tag group="ProductId" tag="HLCommunit"/>
    <tag group="cWill" tag="Good"/>
    <tag group="ClassSkill" tag="Profession"/>
    <tag group="ClassSkill" tag="skStealth"/>
    <bootstrap thing="cPUEnhDisr">
      <autotag group="ClSpecWhen" tag="7"/>
      </bootstrap>
    <bootstrap thing="cPUEnhDisr">
      <autotag group="ClSpecWhen" tag="9"/>
      </bootstrap>
    <bootstrap thing="cPUEnhDisr">
      <autotag group="ClSpecWhen" tag="11"/>
      </bootstrap>
    <bootstrap thing="cPUEnhDisr">
      <autotag group="ClSpecWhen" tag="13"/>
      </bootstrap>
    <bootstrap thing="cPUEnhDisr">
      <autotag group="ClSpecWhen" tag="15"/>
      </bootstrap>
    <bootstrap thing="cPUEnhDisr">
      <autotag group="ClSpecWhen" tag="17"/>
      </bootstrap>
    <bootstrap thing="cPUEnhDisr">
      <autotag group="ClSpecWhen" tag="19"/>
      </bootstrap>
    <bootstrap thing="fArmLight"></bootstrap>
    <bootstrap thing="cEvasion">
      <autotag group="ClSpecWhen" tag="3"/>
      </bootstrap>
    <bootstrap thing="cPURapDef">
      <autotag group="ClSpecWhen" tag="4"/>
      </bootstrap>
    <bootstrap thing="cPUSwiftTr">
      <autotag group="ClSpecWhen" tag="6"/>
      </bootstrap>
    <bootstrap thing="cPUEndDef">
      <autotag group="ClSpecWhen" tag="14"/>
      </bootstrap>
    <bootstrap thing="cPUUncPatt">
      <autotag group="ClSpecWhen" tag="18"/>
      </bootstrap>
    <bootstrap thing="cPUSupIns">
      <autotag group="ClSpecWhen" tag="20"/>
      </bootstrap>
    <bootstrap thing="fSimple"></bootstrap>
    <bootstrap thing="cPUAltDef">
      <autotag group="ClSpecWhen" tag="1"/>
      </bootstrap>
    <bootstrap thing="cPUAltDef">
      <autotag group="ClSpecWhen" tag="5"/>
      </bootstrap>
    <bootstrap thing="cPUAltDef">
      <autotag group="ClSpecWhen" tag="9"/>
      </bootstrap>
    <bootstrap thing="cPUAltDef">
      <autotag group="ClSpecWhen" tag="13"/>
      </bootstrap>
    <bootstrap thing="cPULessIns">
      <autotag group="ClSpecWhen" tag="1"/>
      </bootstrap>
    <bootstrap thing="cPUScribTa">
      <autotag group="ClSpecWhen" tag="1"/>
      </bootstrap>
    <bootstrap thing="cRogTrapfn">
      <autotag group="ClSpecWhen" tag="1"/>
      </bootstrap>
    <bootstrap thing="cPUTrapmak">
      <autotag group="ClSpecWhen" tag="1"/>
      </bootstrap>
    <bootstrap thing="cPUAltDef">
      <autotag group="ClSpecWhen" tag="17"/>
      </bootstrap>
    <bootstrap thing="cPUHiddenP">
      <autotag group="ClSpecWhen" tag="2"/>
      </bootstrap>
    <bootstrap thing="cPUHiddenP">
      <autotag group="ClSpecWhen" tag="5"/>
      </bootstrap>
    <bootstrap thing="cPUAltDef1">
      <autotag group="ClSpecWhen" tag="1"/>
      </bootstrap>
    <bootstrap thing="cPUAltDef2">
      <autotag group="ClSpecWhen" tag="1"/>
      </bootstrap>
    <bootstrap thing="cPUAltDef3">
      <autotag group="ClSpecWhen" tag="1"/>
      </bootstrap>
    <bootstrap thing="cPUHiddenP">
      <autotag group="ClSpecWhen" tag="8"/>
      </bootstrap>
    <bootstrap thing="cPUCrHideP">
      <autotag group="ClSpecWhen" tag="10"/>
      </bootstrap>
    <bootstrap thing="cPUPattern">
      <autotag group="ClSpecWhen" tag="1"/>
      </bootstrap>
    <bootstrap thing="cPUDisPatt">
      <autotag group="ClSpecWhen" tag="1"/>
      </bootstrap>
    <bootstrap thing="cPUEnhDisr">
      <autotag group="ClSpecWhen" tag="3"/>
      </bootstrap>
    <bootstrap thing="cPUEnhDisr">
      <autotag group="ClSpecWhen" tag="5"/>
      </bootstrap>
    <link linkage="psiattr" thing="aINT"/>
    </thing>
  <thing id="cPUCryptic" name="Cryptic" description="The very fabric of the world is visible through the eyes of the cryptic, who sees all things as patterns of energies that can be understood and manipulated. This unique insight allows the cryptic the ability to foresee events and even manipulate the energy of her surroundings to accomplish her tasks. Whether it is knowing where to step to avoid being seen, where to place an attack for maximum effect, or how to temporarily alter the laws of physics, the cryptic is a master of any pattern she sees.\n\n{b}Role:{/b} The cryptic excels as a finder of dangers and at remaining undetected even in the most difficult locations. With modest combat prowess, a cryptic can help her allies defeat enemies, although her limited defensive capabilities means she needs to avoid becoming the main target of her opponents.\n\n{b}Alignment:{/b} Any." compset="ClassLevel" maxlimit="20">
    <usesource source="pPsiUn"/>
    <tag group="ClassType" tag="Normal"/>
    <tag group="ProductId" tag="HLCommunit"/>
    <bootstrap thing="cHelpPU1"></bootstrap>
    <link linkage="helper" thing="cHelpPU1"/>
    </thing>
  <thing id="cHelpPU2" name="Dread" compset="Class" uniqueness="unique">
    <fieldval field="cHDSides" value="8"/>
    <fieldval field="cAbbr" value="Dre"/>
    <fieldval field="cSpecSing" value="Terror"/>
    <fieldval field="cSkills" value="6"/>
    <fieldval field="cPsiSPowNm" value="Talents"/>
    <fieldval field="cPsiSPowMa" value="2"/>
    <fieldval field="srcPageNum" value="40"/>
    <fieldval field="srcBookInf" value="Ultimate Psionics"/>
    <fieldval field="cSCRNumDce" value="3"/>
    <fieldval field="cSCRDceSiz" value="6"/>
    <fieldval field="cSCRMult" value="10"/>
    <arrayval field="cBonFtTot" index="16" value="4"/>
    <arrayval field="cPsiPPTot" index="0" value="1"/>
    <arrayval field="cPsiPPTot" index="1" value="2"/>
    <arrayval field="cPsiPPTot" index="2" value="4"/>
    <arrayval field="cPsiPPTot" index="3" value="6"/>
    <arrayval field="cPsiPPTot" index="4" value="8"/>
    <arrayval field="cPsiPPTot" index="5" value="12"/>
    <arrayval field="cPsiPPTot" index="6" value="16"/>
    <arrayval field="cPsiPPTot" index="7" value="20"/>
    <arrayval field="cPsiPPTot" index="8" value="24"/>
    <arrayval field="cPsiPPTot" index="9" value="28"/>
    <arrayval field="cPsiPPTot" index="10" value="36"/>
    <arrayval field="cPsiPPTot" index="11" value="44"/>
    <arrayval field="cPsiPPTot" index="12" value="52"/>
    <arrayval field="cPsiPPTot" index="13" value="60"/>
    <arrayval field="cPsiPPTot" index="14" value="68"/>
    <arrayval field="cPsiPPTot" index="15" value="80"/>
    <arrayval field="cPsiPPTot" index="16" value="92"/>
    <arrayval field="cPsiPPTot" index="17" value="104"/>
    <arrayval field="cPsiPPTot" index="18" value="116"/>
    <arrayval field="cPsiPPTot" index="19" value="128"/>
    <arrayval field="cPsiPowTot" index="0" value="1"/>
    <arrayval field="cPsiPowTot" index="1" value="2"/>
    <arrayval field="cPsiPowTot" index="2" value="3"/>
    <arrayval field="cPsiPowTot" index="3" value="4"/>
    <arrayval field="cPsiPowTot" index="4" value="5"/>
    <arrayval field="cPsiPowTot" index="5" value="6"/>
    <arrayval field="cPsiPowTot" index="6" value="7"/>
    <arrayval field="cPsiPowTot" index="7" value="8"/>
    <arrayval field="cPsiPowTot" index="8" value="9"/>
    <arrayval field="cPsiPowTot" index="9" value="10"/>
    <arrayval field="cPsiPowTot" index="10" value="11"/>
    <arrayval field="cPsiPowTot" index="11" value="12"/>
    <arrayval field="cPsiPowTot" index="12" value="13"/>
    <arrayval field="cPsiPowTot" index="13" value="14"/>
    <arrayval field="cPsiPowTot" index="14" value="15"/>
    <arrayval field="cPsiPowTot" index="15" value="16"/>
    <arrayval field="cPsiPowTot" index="16" value="17"/>
    <arrayval field="cPsiPowTot" index="17" value="18"/>
    <arrayval field="cPsiPowTot" index="18" value="19"/>
    <arrayval field="cPsiPowTot" index="19" value="20"/>
    <arrayval field="cPsiLevTot" index="0" value="1"/>
    <arrayval field="cPsiLevTot" index="1" value="1"/>
    <arrayval field="cPsiLevTot" index="2" value="1"/>
    <arrayval field="cPsiLevTot" index="3" value="2"/>
    <arrayval field="cPsiLevTot" index="4" value="2"/>
    <arrayval field="cPsiLevTot" index="5" value="2"/>
    <arrayval field="cPsiLevTot" index="6" value="3"/>
    <arrayval field="cPsiLevTot" index="7" value="3"/>
    <arrayval field="cPsiLevTot" index="8" value="3"/>
    <arrayval field="cPsiLevTot" index="9" value="4"/>
    <arrayval field="cPsiLevTot" index="10" value="4"/>
    <arrayval field="cPsiLevTot" index="11" value="4"/>
    <arrayval field="cPsiLevTot" index="12" value="5"/>
    <arrayval field="cPsiLevTot" index="13" value="5"/>
    <arrayval field="cPsiLevTot" index="14" value="5"/>
    <arrayval field="cPsiLevTot" index="15" value="6"/>
    <arrayval field="cPsiLevTot" index="16" value="6"/>
    <arrayval field="cPsiLevTot" index="17" value="6"/>
    <arrayval field="cPsiLevTot" index="18" value="6"/>
    <arrayval field="cPsiLevTot" index="19" value="6"/>
    <arrayval field="cCustTot" index="1" value="1"/>
    <arrayval field="cCustTot" index="3" value="2"/>
    <arrayval field="cCustTot" index="5" value="3"/>
    <arrayval field="cCustTot" index="7" value="4"/>
    <arrayval field="cCustTot" index="9" value="5"/>
    <arrayval field="cCustTot" index="11" value="6"/>
    <arrayval field="cCustTot" index="13" value="7"/>
    <arrayval field="cCustTot" index="15" value="8"/>
    <arrayval field="cCustTot" index="17" value="9"/>
    <arrayval field="cCustTot" index="19" value="10"/>
    <arrayval field="cBonFtTot" index="4" value="1"/>
    <arrayval field="cBonFtTot" index="8" value="2"/>
    <arrayval field="cBonFtTot" index="12" value="3"/>
    <usesource source="pPsiUn"/>
    <tag group="ClassSkill" tag="skPUKnwPsi"/>
    <tag group="Psionics" tag="Class"/>
    <tag group="cRef" tag="Good"/>
    <tag group="cWill" tag="Good"/>
    <tag group="Classes" tag="Dread" name="Dread"/>
    <tag group="fInclude" tag="fPUAddTerr"/>
    <tag group="fInclude" tag="fPUDisFear"/>
    <tag group="fInclude" tag="fPUExTerr"/>
    <tag group="fInclude" tag="fPUFearMas"/>
    <tag group="fInclude" tag="fPUMultCon"/>
    <tag group="fInclude" tag="fPUOpeDoor"/>
    <tag group="fInclude" tag="fPUTouTerr"/>
    <tag group="ClassSkill" tag="skAcrobat"/>
    <tag group="ClassSkill" tag="skPUAhypno"/>
    <tag group="ProductId" tag="HLCommunit"/>
    <tag group="ClassSkill" tag="skSenseMot"/>
    <tag group="ClassSkill" tag="Craft"/>
    <tag group="ClassSkill" tag="Profession"/>
    <tag group="ClassSkill" tag="skBluff"/>
    <tag group="cAttack" tag="Medium"/>
    <tag group="ClassSkill" tag="skClimb"/>
    <tag group="ClassSkill" tag="skEscape"/>
    <tag group="ClassSkill" tag="skIntim"/>
    <tag group="cFort" tag="Poor"/>
    <tag group="ClassSkill" tag="skPercep"/>
    <tag group="ClassSkill" tag="skSwim"/>
    <tag group="ClassSkill" tag="skSpellcr"/>
    <tag group="ClassSkill" tag="skStealth"/>
    <bootstrap thing="cPUDreTal">
      <autotag group="ClSpecWhen" tag="1"/>
      </bootstrap>
    <bootstrap thing="cPUShaTwin">
      <autotag group="ClSpecWhen" tag="11"/>
      </bootstrap>
    <bootstrap thing="cPUShaTwin">
      <autotag group="ClSpecWhen" tag="15"/>
      </bootstrap>
    <bootstrap thing="cPUShaTwin">
      <autotag group="ClSpecWhen" tag="19"/>
      </bootstrap>
    <bootstrap thing="cPUTwinFea">
      <autotag group="ClSpecWhen" tag="11"/>
      </bootstrap>
    <bootstrap thing="cPUFearInc">
      <autotag group="ClSpecWhen" tag="20"/>
      </bootstrap>
    <bootstrap thing="fWepMart"></bootstrap>
    <bootstrap thing="cPUFearIns">
      <autotag group="ClSpecWhen" tag="1"/>
      </bootstrap>
    <bootstrap thing="cPUAuraFea">
      <autotag group="ClSpecWhen" tag="3"/>
      </bootstrap>
    <bootstrap thing="cPUChanTer">
      <autotag group="ClSpecWhen" tag="3"/>
      </bootstrap>
    <bootstrap thing="cPUDevaTou">
      <autotag group="ClSpecWhen" tag="1"/>
      </bootstrap>
    <bootstrap thing="fArmLight"></bootstrap>
    <bootstrap thing="cPUTerrors">
      <autotag group="ClSpecWhen" tag="2"/>
      </bootstrap>
    <bootstrap thing="fSimple"></bootstrap>
    <bootstrap thing="cPUImmFear">
      <autotag group="ClSpecWhen" tag="7"/>
      </bootstrap>
    <link linkage="psiattr" thing="aCHA"/>
    </thing>
  <thing id="cPUDread" name="Dread" description="Most creatures must learn to deal with fear in some fashion. For some, it is confronting and overcoming their fears. For others, it is always running away. For the dread, it is using her fear as a weapon, it is understanding how fear works and manipulating the fears of others in unusual and devastating ways. The dread is the master of fear and terror.\n\n{b}Role:{/b} A dread is an opponent on the battlefield who can turn the bravest of enemies into a sniveling coward with but a touch. Combining moderate manifesting ability with destructive melee attacks, the dread is a dangerous opponent to ignore. Out of combat, the dread uses fear and intimidation to manipulate or bully others into the path she deems best.\n\n{b}Alignment:{/b} Any." compset="ClassLevel" maxlimit="20">
    <usesource source="pPsiUn"/>
    <tag group="ClassType" tag="Normal"/>
    <tag group="ProductId" tag="HLCommunit"/>
    <bootstrap thing="cHelpPU2"></bootstrap>
    <link linkage="helper" thing="cHelpPU2"/>
    </thing>
  <thing id="cHelpPU3" name="Marksman" compset="Class" uniqueness="unique">
    <fieldval field="cHDSides" value="10"/>
    <fieldval field="cAbbr" value="Mrk"/>
    <fieldval field="cSkills" value="4"/>
    <fieldval field="cSpecSing" value="Combat Style"/>
    <fieldval field="cSpec2ndSi" value="Favored Weapon"/>
    <fieldval field="srcPageNum" value="44"/>
    <fieldval field="srcBookInf" value="Ultimate Psionics"/>
    <fieldval field="cSCRNumDce" value="5"/>
    <fieldval field="cSCRDceSiz" value="6"/>
    <fieldval field="cSCRMult" value="10"/>
    <arrayval field="cBonFtTot" index="16" value="5"/>
    <arrayval field="cBonFtTot" index="19" value="6"/>
    <arrayval field="cCustScTot" index="1" value="1"/>
    <arrayval field="cPsiPPTot" index="0" value="1"/>
    <arrayval field="cPsiPPTot" index="1" value="2"/>
    <arrayval field="cPsiPPTot" index="2" value="3"/>
    <arrayval field="cPsiPPTot" index="3" value="5"/>
    <arrayval field="cPsiPPTot" index="4" value="7"/>
    <arrayval field="cPsiPPTot" index="5" value="9"/>
    <arrayval field="cPsiPPTot" index="6" value="11"/>
    <arrayval field="cPsiPPTot" index="7" value="14"/>
    <arrayval field="cPsiPPTot" index="8" value="17"/>
    <arrayval field="cPsiPPTot" index="9" value="20"/>
    <arrayval field="cPsiPPTot" index="10" value="24"/>
    <arrayval field="cPsiPPTot" index="11" value="28"/>
    <arrayval field="cPsiPPTot" index="12" value="32"/>
    <arrayval field="cPsiPPTot" index="13" value="37"/>
    <arrayval field="cPsiPPTot" index="14" value="42"/>
    <arrayval field="cPsiPPTot" index="15" value="47"/>
    <arrayval field="cPsiPPTot" index="16" value="52"/>
    <arrayval field="cPsiPPTot" index="17" value="58"/>
    <arrayval field="cPsiPPTot" index="18" value="64"/>
    <arrayval field="cPsiPPTot" index="19" value="70"/>
    <arrayval field="cPsiPowTot" index="1" value="1"/>
    <arrayval field="cPsiPowTot" index="2" value="2"/>
    <arrayval field="cPsiPowTot" index="3" value="2"/>
    <arrayval field="cPsiPowTot" index="4" value="3"/>
    <arrayval field="cPsiPowTot" index="5" value="4"/>
    <arrayval field="cPsiPowTot" index="6" value="5"/>
    <arrayval field="cPsiPowTot" index="7" value="5"/>
    <arrayval field="cPsiPowTot" index="8" value="6"/>
    <arrayval field="cPsiPowTot" index="9" value="7"/>
    <arrayval field="cPsiPowTot" index="10" value="8"/>
    <arrayval field="cPsiPowTot" index="11" value="8"/>
    <arrayval field="cPsiPowTot" index="12" value="9"/>
    <arrayval field="cPsiPowTot" index="13" value="9"/>
    <arrayval field="cPsiPowTot" index="14" value="10"/>
    <arrayval field="cPsiPowTot" index="15" value="10"/>
    <arrayval field="cPsiPowTot" index="16" value="11"/>
    <arrayval field="cPsiPowTot" index="17" value="11"/>
    <arrayval field="cPsiPowTot" index="18" value="12"/>
    <arrayval field="cPsiPowTot" index="19" value="12"/>
    <arrayval field="cPsiLevTot" index="0" value="1"/>
    <arrayval field="cPsiLevTot" index="1" value="1"/>
    <arrayval field="cPsiLevTot" index="2" value="1"/>
    <arrayval field="cPsiLevTot" index="3" value="1"/>
    <arrayval field="cPsiLevTot" index="4" value="2"/>
    <arrayval field="cPsiLevTot" index="5" value="2"/>
    <arrayval field="cPsiLevTot" index="6" value="2"/>
    <arrayval field="cPsiLevTot" index="7" value="2"/>
    <arrayval field="cPsiLevTot" index="8" value="3"/>
    <arrayval field="cPsiLevTot" index="9" value="3"/>
    <arrayval field="cPsiLevTot" index="10" value="3"/>
    <arrayval field="cPsiLevTot" index="11" value="3"/>
    <arrayval field="cPsiLevTot" index="12" value="4"/>
    <arrayval field="cPsiLevTot" index="13" value="4"/>
    <arrayval field="cPsiLevTot" index="14" value="4"/>
    <arrayval field="cPsiLevTot" index="15" value="4"/>
    <arrayval field="cPsiLevTot" index="16" value="4"/>
    <arrayval field="cPsiLevTot" index="17" value="4"/>
    <arrayval field="cPsiLevTot" index="18" value="4"/>
    <arrayval field="cPsiLevTot" index="19" value="4"/>
    <arrayval field="cCustTot" index="0" value="1"/>
    <arrayval field="cBonFtTot" index="4" value="1"/>
    <arrayval field="cBonFtTot" index="7" value="2"/>
    <arrayval field="cBonFtTot" index="10" value="3"/>
    <arrayval field="cBonFtTot" index="13" value="4"/>
    <usesource source="pPsiUn"/>
    <tag group="Psionics" tag="Class"/>
    <tag group="fInclude" tag="fDeadAim"/>
    <tag group="fInclude" tag="fFarShot"/>
    <tag group="fInclude" tag="fPUFellSh"/>
    <tag group="fInclude" tag="fGrtCaShot"/>
    <tag group="fInclude" tag="fPUGPsiSht"/>
    <tag group="fInclude" tag="fImpCaShot"/>
    <tag group="fInclude" tag="fImpCrit"/>
    <tag group="ClassSkill" tag="skPercep"/>
    <tag group="fInclude" tag="fPUPsiShot"/>
    <tag group="fInclude" tag="fQuickDraw"/>
    <tag group="fInclude" tag="fPUReturnS"/>
    <tag group="fInclude" tag="fWepFoc"/>
    <tag group="fInclude" tag="fWepSpec"/>
    <tag group="ClassSkill" tag="skAcrobat"/>
    <tag group="cWill" tag="Medium"/>
    <tag group="Classes" tag="Marksman" name="Marksman"/>
    <tag group="cAttack" tag="Good"/>
    <tag group="cFort" tag="Poor"/>
    <tag group="cRef" tag="Medium"/>
    <tag group="ClassSkill" tag="Perform"/>
    <tag group="ClassSkill" tag="Craft"/>
    <tag group="fInclude" tag="fPartShot"/>
    <tag group="ClassSkill" tag="Profession"/>
    <tag group="ClassSkill" tag="skPUAhypno"/>
    <tag group="ClassSkill" tag="skClimb"/>
    <tag group="ClassSkill" tag="skEscape"/>
    <tag group="ClassSkill" tag="skIntim"/>
    <tag group="ClassSkill" tag="skPUKnwPsi"/>
    <tag group="ClassSkill" tag="skStealth"/>
    <tag group="ClassSkill" tag="skSenseMot"/>
    <tag group="ProductId" tag="HLCommunit"/>
    <tag group="WepProf" tag="wHandaxe"/>
    <tag group="ClassSkill" tag="skSurvival"/>
    <tag group="ClassSkill" tag="skUseMagic"/>
    <bootstrap thing="cPUMantFin">
      <containerreq phase="First" priority="500"><![CDATA[count:Custom.CStyleFin >= 1]]></containerreq>
      <autotag group="ClSpecWhen" tag="7"/>
      </bootstrap>
    <bootstrap thing="cPUMantFin">
      <containerreq phase="First" priority="500"><![CDATA[count:Custom.CStyleFin >= 1]]></containerreq>
      <autotag group="ClSpecWhen" tag="11"/>
      </bootstrap>
    <bootstrap thing="cPUMantFin">
      <containerreq phase="First" priority="500"><![CDATA[count:Custom.CStyleFin >= 1]]></containerreq>
      <autotag group="ClSpecWhen" tag="15"/>
      </bootstrap>
    <bootstrap thing="cPUMantFin">
      <containerreq phase="First" priority="500"><![CDATA[count:Custom.CStyleFin >= 1]]></containerreq>
      <autotag group="ClSpecWhen" tag="19"/>
      </bootstrap>
    <bootstrap thing="cPUFinDazA">
      <containerreq phase="First" priority="500"><![CDATA[count:Custom.CStyleFin >= 1]]></containerreq>
      <autotag group="ClSpecWhen" tag="4"/>
      </bootstrap>
    <bootstrap thing="cPUFinInsA">
      <containerreq phase="First" priority="500"><![CDATA[count:Custom.CStyleFin >= 1]]></containerreq>
      <autotag group="ClSpecWhen" tag="8"/>
      </bootstrap>
    <bootstrap thing="cPUFinTelA">
      <containerreq phase="First" priority="500"><![CDATA[count:Custom.CStyleFin >= 1]]></containerreq>
      <autotag group="ClSpecWhen" tag="12"/>
      </bootstrap>
    <bootstrap thing="cPU3FavWep">
      <autotag group="ClSpecWhen" tag="2"/>
      </bootstrap>
    <bootstrap thing="cPU3FavWep">
      <autotag group="ClSpecWhen" tag="6"/>
      </bootstrap>
    <bootstrap thing="cPU3FavWep">
      <autotag group="ClSpecWhen" tag="10"/>
      </bootstrap>
    <bootstrap thing="cPU3FavWep">
      <autotag group="ClSpecWhen" tag="14"/>
      </bootstrap>
    <bootstrap thing="cPU3FavWep">
      <autotag group="ClSpecWhen" tag="18"/>
      </bootstrap>
    <bootstrap thing="cPUCovFire">
      <autotag group="ClSpecWhen" tag="4"/>
      </bootstrap>
    <bootstrap thing="cPUDisenga">
      <autotag group="ClSpecWhen" tag="7"/>
      </bootstrap>
    <bootstrap thing="cPUDefShot">
      <autotag group="ClSpecWhen" tag="13"/>
      </bootstrap>
    <bootstrap thing="cPURangeSp">
      <autotag group="ClSpecWhen" tag="19"/>
      </bootstrap>
    <bootstrap thing="cPUFinStuD">
      <containerreq phase="First" priority="500"><![CDATA[count:Custom.CStyleFin >= 1]]></containerreq>
      <autotag group="ClSpecWhen" tag="16"/>
      </bootstrap>
    <bootstrap thing="cPUFinOubK">
      <containerreq phase="First" priority="500"><![CDATA[count:Custom.CStyleFin >= 1]]></containerreq>
      <autotag group="ClSpecWhen" tag="20"/>
      </bootstrap>
    <bootstrap thing="cPUTechSni">
      <containerreq phase="First" priority="500"><![CDATA[count:Custom.CStyleSni >= 1]]></containerreq>
      <autotag group="ClSpecWhen" tag="2"/>
      </bootstrap>
    <bootstrap thing="cPUTechVol">
      <containerreq phase="First" priority="500"><![CDATA[count:Custom.CStyleVol >= 1]]></containerreq>
      <autotag group="ClSpecWhen" tag="2"/>
      </bootstrap>
    <bootstrap thing="cPUSkilSni">
      <containerreq phase="First" priority="500"><![CDATA[count:Custom.CStyleSni >= 1]]></containerreq>
      <autotag group="ClSpecWhen" tag="3"/>
      </bootstrap>
    <bootstrap thing="cPUSkilSni">
      <containerreq phase="First" priority="500"><![CDATA[count:Custom.CStyleSni >= 1]]></containerreq>
      <autotag group="ClSpecWhen" tag="6"/>
      </bootstrap>
    <bootstrap thing="cPUSkilSni">
      <containerreq phase="First" priority="500"><![CDATA[count:Custom.CStyleSni >= 1]]></containerreq>
      <autotag group="ClSpecWhen" tag="9"/>
      </bootstrap>
    <bootstrap thing="cPUSkilSni">
      <containerreq phase="First" priority="500"><![CDATA[count:Custom.CStyleSni >= 1]]></containerreq>
      <autotag group="ClSpecWhen" tag="12"/>
      </bootstrap>
    <bootstrap thing="cPUSkilSni">
      <containerreq phase="First" priority="500"><![CDATA[count:Custom.CStyleSni >= 1]]></containerreq>
      <autotag group="ClSpecWhen" tag="15"/>
      </bootstrap>
    <bootstrap thing="cPUSkilSni">
      <containerreq phase="First" priority="500"><![CDATA[count:Custom.CStyleSni >= 1]]></containerreq>
      <autotag group="ClSpecWhen" tag="18"/>
      </bootstrap>
    <bootstrap thing="cPUSkilVol">
      <containerreq phase="First" priority="500"><![CDATA[count:Custom.CStyleVol >= 1]]></containerreq>
      <autotag group="ClSpecWhen" tag="3"/>
      </bootstrap>
    <bootstrap thing="cPUSkilVol">
      <containerreq phase="First" priority="500"><![CDATA[count:Custom.CStyleVol >= 1]]></containerreq>
      <autotag group="ClSpecWhen" tag="6"/>
      </bootstrap>
    <bootstrap thing="cPUSkilVol">
      <containerreq phase="First" priority="500"><![CDATA[count:Custom.CStyleVol >= 1]]></containerreq>
      <autotag group="ClSpecWhen" tag="9"/>
      </bootstrap>
    <bootstrap thing="cPUSkilVol">
      <containerreq phase="First" priority="500"><![CDATA[count:Custom.CStyleVol >= 1]]></containerreq>
      <autotag group="ClSpecWhen" tag="12"/>
      </bootstrap>
    <bootstrap thing="cPUSkilVol">
      <containerreq phase="First" priority="500"><![CDATA[count:Custom.CStyleVol >= 1]]></containerreq>
      <autotag group="ClSpecWhen" tag="15"/>
      </bootstrap>
    <bootstrap thing="cPUSkilVol">
      <containerreq phase="First" priority="500"><![CDATA[count:Custom.CStyleVol >= 1]]></containerreq>
      <autotag group="ClSpecWhen" tag="18"/>
      </bootstrap>
    <bootstrap thing="cPUMantSni">
      <containerreq phase="First" priority="500"><![CDATA[count:Custom.CStyleSni >= 1]]></containerreq>
      <autotag group="ClSpecWhen" tag="3"/>
      </bootstrap>
    <bootstrap thing="cPUMantVol">
      <containerreq phase="First" priority="500"><![CDATA[count:Custom.CStyleVol >= 1]]></containerreq>
      <autotag group="ClSpecWhen" tag="3"/>
      </bootstrap>
    <bootstrap thing="cPUSniAugS">
      <containerreq phase="First" priority="500"><![CDATA[count:Custom.CStyleSni >= 1]]></containerreq>
      <autotag group="ClSpecWhen" tag="8"/>
      </bootstrap>
    <bootstrap thing="cPUSniSecC">
      <containerreq phase="First" priority="500"><![CDATA[count:Custom.CStyleSni >= 1]]></containerreq>
      <autotag group="ClSpecWhen" tag="3"/>
      </bootstrap>
    <bootstrap thing="cPUSniEyeN">
      <containerreq phase="First" priority="500"><![CDATA[count:Custom.CStyleSni >= 1]]></containerreq>
      <autotag group="ClSpecWhen" tag="20"/>
      </bootstrap>
    <bootstrap thing="cPUSniUnsF">
      <containerreq phase="First" priority="500"><![CDATA[count:Custom.CStyleSni >= 1]]></containerreq>
      <autotag group="ClSpecWhen" tag="12"/>
      </bootstrap>
    <bootstrap thing="cPUVolBloS">
      <containerreq phase="First" priority="500"><![CDATA[count:Custom.CStyleVol >= 1]]></containerreq>
      <autotag group="ClSpecWhen" tag="20"/>
      </bootstrap>
    <bootstrap thing="cPUVolBurA">
      <containerreq phase="First" priority="500"><![CDATA[count:Custom.CStyleVol >= 1]]></containerreq>
      <autotag group="ClSpecWhen" tag="12"/>
      </bootstrap>
    <bootstrap thing="cPUVolQuiV">
      <containerreq phase="First" priority="500"><![CDATA[count:Custom.CStyleVol >= 1]]></containerreq>
      <autotag group="ClSpecWhen" tag="8"/>
      </bootstrap>
    <bootstrap thing="cPUVolSplS">
      <containerreq phase="First" priority="500"><![CDATA[count:Custom.CStyleVol >= 1]]></containerreq>
      <autotag group="ClSpecWhen" tag="3"/>
      </bootstrap>
    <bootstrap thing="fArmLight"></bootstrap>
    <bootstrap thing="cPUMrkPBS">
      <autotag group="ClSpecWhen" tag="1"/>
      </bootstrap>
    <bootstrap thing="cPUMrkWnd">
      <autotag group="ClSpecWhen" tag="1"/>
      </bootstrap>
    <bootstrap thing="fSimple"></bootstrap>
    <bootstrap thing="cPUTechFin">
      <containerreq phase="First" priority="500"><![CDATA[count:Custom.CStyleFin >= 1]]></containerreq>
      <autotag group="ClSpecWhen" tag="2"/>
      </bootstrap>
    <bootstrap thing="cPUSkilFin">
      <containerreq phase="First" priority="500"><![CDATA[count:Custom.CStyleFin >= 1]]></containerreq>
      <autotag group="ClSpecWhen" tag="3"/>
      </bootstrap>
    <bootstrap thing="cPUSkilFin">
      <containerreq phase="First" priority="500"><![CDATA[count:Custom.CStyleFin >= 1]]></containerreq>
      <autotag group="ClSpecWhen" tag="6"/>
      </bootstrap>
    <bootstrap thing="cPUSkilFin">
      <containerreq phase="First" priority="500"><![CDATA[count:Custom.CStyleFin >= 1]]></containerreq>
      <autotag group="ClSpecWhen" tag="9"/>
      </bootstrap>
    <bootstrap thing="cPUSkilFin">
      <containerreq phase="First" priority="500"><![CDATA[count:Custom.CStyleFin >= 1]]></containerreq>
      <autotag group="ClSpecWhen" tag="12"/>
      </bootstrap>
    <bootstrap thing="cPUSkilFin">
      <containerreq phase="First" priority="500"><![CDATA[count:Custom.CStyleFin >= 1]]></containerreq>
      <autotag group="ClSpecWhen" tag="15"/>
      </bootstrap>
    <bootstrap thing="cPUSkilFin">
      <containerreq phase="First" priority="500"><![CDATA[count:Custom.CStyleFin >= 1]]></containerreq>
      <autotag group="ClSpecWhen" tag="18"/>
      </bootstrap>
    <bootstrap thing="cPUMantFin">
      <containerreq phase="First" priority="500"><![CDATA[count:Custom.CStyleFin >= 1]]></containerreq>
      <autotag group="ClSpecWhen" tag="3"/>
      </bootstrap>
    <bootstrap thing="cPUEvArrow">
      <autotag group="ClSpecWhen" tag="2"/>
      </bootstrap>
    <bootstrap thing="cPUEvArrow">
      <autotag group="ClSpecWhen" tag="6"/>
      </bootstrap>
    <bootstrap thing="cPUEvArrow">
      <autotag group="ClSpecWhen" tag="10"/>
      </bootstrap>
    <bootstrap thing="cPUEvArrow">
      <autotag group="ClSpecWhen" tag="14"/>
      </bootstrap>
    <bootstrap thing="cPUEvArrow">
      <autotag group="ClSpecWhen" tag="18"/>
      </bootstrap>
    <link linkage="psiattr" thing="aWIS"/>
    <eval phase="PreLevel" priority="5000" index="4"><![CDATA[~ Fill in the Tag for a Buckler Here
foreach pick in hero from BaseArmor where "ShldClass.Buckler"
    ~ Make each buckler found proficient.
    perform eachpick.assign[Helper.Proficient]
nexteach]]></eval>
    <eval phase="First" priority="600" index="3"><![CDATA[foreach thing in BaseWep where "(wClass.Light & wProfReq.Martial) | (wProfReq.Martial & (wCategory.Thrown | wCategory.RangeProj) )"
  perform eachthing.pulltags[WepProf.?]
  nexteach

perform forward[WepProf.?]]]></eval>
    </thing>
  <thing id="cPUMarksma" name="Marksman" description="Masters of ranged weapons, marksmen are the elite wielders of any weapon that can be shot, fired, or thrown. Unlike rangers, who are more focused on tracking down their chosen enemies, marksmen focus their attention on harnessing their ranged combat abilities, learning to use their weapon in ways others could only dream of. Their psionic ability improves their attacks and augments their otherwise limited defensive abilities.\n\n{b}Role:{/b} As light armor wielders, marksmen are not intended to be front-line combatants. They excel when they have a safe distance from which to unleash their deadly attacks.\n\n{b}Alignment:{/b} Any." compset="ClassLevel" maxlimit="20">
    <usesource source="pPsiUn"/>
    <tag group="ClassType" tag="Normal"/>
    <tag group="ProductId" tag="HLCommunit"/>
    <bootstrap thing="cHelpPU3"></bootstrap>
    <link linkage="helper" thing="cHelpPU3"/>
    </thing>
  <thing id="cHelpPU4" name="Tactician" compset="Class" uniqueness="unique">
    <fieldval field="cHDSides" value="8"/>
    <fieldval field="cAbbr" value="Tac"/>
    <fieldval field="cSkills" value="4"/>
    <fieldval field="cSpecSing" value="Strategy"/>
    <fieldval field="cSpecName" value="Strategies"/>
    <fieldval field="cPsiSPowNm" value="Talents"/>
    <fieldval field="cPsiSPowMa" value="3"/>
    <fieldval field="srcPageNum" value="64"/>
    <fieldval field="srcBookInf" value="Ultimate Psionics"/>
    <fieldval field="cSCRNumDce" value="4"/>
    <fieldval field="cSCRDceSiz" value="6"/>
    <fieldval field="cSCRMult" value="10"/>
    <arrayval field="cPsiPPTot" index="0" value="2"/>
    <arrayval field="cPsiPPTot" index="1" value="6"/>
    <arrayval field="cPsiPPTot" index="2" value="11"/>
    <arrayval field="cPsiPPTot" index="3" value="17"/>
    <arrayval field="cPsiPPTot" index="4" value="25"/>
    <arrayval field="cPsiPPTot" index="5" value="35"/>
    <arrayval field="cPsiPPTot" index="6" value="46"/>
    <arrayval field="cPsiPPTot" index="7" value="58"/>
    <arrayval field="cPsiPPTot" index="8" value="72"/>
    <arrayval field="cPsiPPTot" index="9" value="88"/>
    <arrayval field="cPsiPPTot" index="10" value="106"/>
    <arrayval field="cPsiPPTot" index="11" value="126"/>
    <arrayval field="cPsiPPTot" index="12" value="147"/>
    <arrayval field="cPsiPPTot" index="13" value="170"/>
    <arrayval field="cPsiPPTot" index="14" value="195"/>
    <arrayval field="cPsiPPTot" index="15" value="221"/>
    <arrayval field="cPsiPPTot" index="16" value="250"/>
    <arrayval field="cPsiPPTot" index="17" value="280"/>
    <arrayval field="cPsiPPTot" index="18" value="311"/>
    <arrayval field="cPsiPPTot" index="19" value="343"/>
    <arrayval field="cPsiPowTot" index="0" value="1"/>
    <arrayval field="cPsiPowTot" index="1" value="2"/>
    <arrayval field="cPsiPowTot" index="2" value="3"/>
    <arrayval field="cPsiPowTot" index="3" value="4"/>
    <arrayval field="cPsiPowTot" index="4" value="5"/>
    <arrayval field="cPsiPowTot" index="5" value="6"/>
    <arrayval field="cPsiPowTot" index="6" value="7"/>
    <arrayval field="cPsiPowTot" index="7" value="8"/>
    <arrayval field="cPsiPowTot" index="8" value="9"/>
    <arrayval field="cPsiPowTot" index="9" value="10"/>
    <arrayval field="cPsiPowTot" index="10" value="11"/>
    <arrayval field="cPsiPowTot" index="11" value="12"/>
    <arrayval field="cPsiPowTot" index="12" value="13"/>
    <arrayval field="cPsiPowTot" index="13" value="14"/>
    <arrayval field="cPsiPowTot" index="14" value="15"/>
    <arrayval field="cPsiPowTot" index="15" value="16"/>
    <arrayval field="cPsiPowTot" index="16" value="17"/>
    <arrayval field="cPsiPowTot" index="17" value="18"/>
    <arrayval field="cPsiPowTot" index="18" value="19"/>
    <arrayval field="cPsiPowTot" index="19" value="20"/>
    <arrayval field="cPsiLevTot" index="0" value="1"/>
    <arrayval field="cPsiLevTot" index="1" value="1"/>
    <arrayval field="cPsiLevTot" index="2" value="2"/>
    <arrayval field="cPsiLevTot" index="3" value="2"/>
    <arrayval field="cPsiLevTot" index="4" value="3"/>
    <arrayval field="cPsiLevTot" index="5" value="3"/>
    <arrayval field="cPsiLevTot" index="6" value="4"/>
    <arrayval field="cPsiLevTot" index="7" value="4"/>
    <arrayval field="cPsiLevTot" index="8" value="5"/>
    <arrayval field="cPsiLevTot" index="9" value="5"/>
    <arrayval field="cPsiLevTot" index="10" value="6"/>
    <arrayval field="cPsiLevTot" index="11" value="6"/>
    <arrayval field="cPsiLevTot" index="12" value="7"/>
    <arrayval field="cPsiLevTot" index="13" value="7"/>
    <arrayval field="cPsiLevTot" index="14" value="8"/>
    <arrayval field="cPsiLevTot" index="15" value="8"/>
    <arrayval field="cPsiLevTot" index="16" value="9"/>
    <arrayval field="cPsiLevTot" index="17" value="9"/>
    <arrayval field="cPsiLevTot" index="18" value="9"/>
    <arrayval field="cPsiLevTot" index="19" value="9"/>
    <arrayval field="cCustTot" index="3" value="1"/>
    <arrayval field="cCustTot" index="6" value="2"/>
    <arrayval field="cCustTot" index="9" value="3"/>
    <arrayval field="cCustTot" index="12" value="4"/>
    <arrayval field="cCustTot" index="15" value="5"/>
    <arrayval field="cCustTot" index="18" value="6"/>
    <arrayval field="cBonFtTot" index="5" value="1"/>
    <arrayval field="cBonFtTot" index="11" value="2"/>
    <arrayval field="cBonFtTot" index="17" value="3"/>
    <usesource source="pPsiUn"/>
    <tag group="cRef" tag="Poor"/>
    <tag group="Classes" tag="Tactician" name="Tactician"/>
    <tag group="Psionics" tag="Class"/>
    <tag group="cWill" tag="Good"/>
    <tag group="fCategory" tag="Teamwork"/>
    <tag group="ClassSkill" tag="skKnowEng"/>
    <tag group="ClassSkill" tag="Craft"/>
    <tag group="ClassSkill" tag="Perform"/>
    <tag group="ClassSkill" tag="Profession"/>
    <tag group="ClassSkill" tag="skPUAhypno"/>
    <tag group="ClassSkill" tag="skBluff"/>
    <tag group="ClassSkill" tag="skClimb"/>
    <tag group="ClassSkill" tag="skDiplo"/>
    <tag group="ClassSkill" tag="skIntim"/>
    <tag group="ClassSkill" tag="skPUKnwPsi"/>
    <tag group="ClassSkill" tag="skKnowHist"/>
    <tag group="ProductId" tag="HLCommunit"/>
    <tag group="ClassSkill" tag="skSwim"/>
    <tag group="ClassSkill" tag="skLinguist"/>
    <tag group="ClassSkill" tag="skPercep"/>
    <tag group="ClassSkill" tag="skRide"/>
    <tag group="ClassSkill" tag="skSenseMot"/>
    <tag group="ClassSkill" tag="skSpellcr"/>
    <tag group="cFort" tag="Poor"/>
    <tag group="ClassSkill" tag="skUseMagic"/>
    <tag group="cAttack" tag="Medium"/>
    <bootstrap thing="cPUEchoEff">
      <autotag group="ClSpecWhen" tag="8"/>
      </bootstrap>
    <bootstrap thing="cPUPoolKno">
      <autotag group="ClSpecWhen" tag="14"/>
      </bootstrap>
    <bootstrap thing="cPUMstStra">
      <autotag group="ClSpecWhen" tag="20"/>
      </bootstrap>
    <bootstrap thing="cPUCoorStr">
      <autotag group="ClSpecWhen" tag="9"/>
      </bootstrap>
    <bootstrap thing="cPUCoorStr">
      <autotag group="ClSpecWhen" tag="13"/>
      </bootstrap>
    <bootstrap thing="cPUCoorStr">
      <autotag group="ClSpecWhen" tag="17"/>
      </bootstrap>
    <bootstrap thing="cPUSpiMany">
      <autotag group="ClSpecWhen" tag="2"/>
      </bootstrap>
    <bootstrap thing="cPUTacTele">
      <autotag group="ClSpecWhen" tag="3"/>
      </bootstrap>
    <bootstrap thing="cPUTacStra">
      <autotag group="ClSpecWhen" tag="4"/>
      </bootstrap>
    <bootstrap thing="cPULessStr">
      <autotag group="ClSpecWhen" tag="1"/>
      </bootstrap>
    <bootstrap thing="fArmLight"></bootstrap>
    <bootstrap thing="fArmMedium"></bootstrap>
    <bootstrap thing="fWepMart"></bootstrap>
    <bootstrap thing="fArmShield"></bootstrap>
    <bootstrap thing="cPUImpShar">
      <autotag group="ClSpecWhen" tag="5"/>
      </bootstrap>
    <bootstrap thing="cPUImpShar">
      <autotag group="ClSpecWhen" tag="11"/>
      </bootstrap>
    <bootstrap thing="cPUImpShar">
      <autotag group="ClSpecWhen" tag="17"/>
      </bootstrap>
    <bootstrap thing="fSimple"></bootstrap>
    <bootstrap thing="cPUCoorStr">
      <autotag group="ClSpecWhen" tag="1"/>
      </bootstrap>
    <bootstrap thing="cPUCollect">
      <autotag group="ClSpecWhen" tag="1"/>
      <autotag group="UseAttr" tag="aINT"/>
      </bootstrap>
    <bootstrap thing="cPUCollect">
      <autotag group="ClSpecWhen" tag="15"/>
      </bootstrap>
    <bootstrap thing="cPUCollect">
      <autotag group="ClSpecWhen" tag="19"/>
      </bootstrap>
    <bootstrap thing="cPUCoorStr">
      <autotag group="ClSpecWhen" tag="5"/>
      </bootstrap>
    <bootstrap thing="cPUTeamFt">
      <autotag group="ClSpecWhen" tag="6"/>
      </bootstrap>
    <bootstrap thing="cPUTacCoor">
      <autotag group="ClSpecWhen" tag="6"/>
      </bootstrap>
    <link linkage="psiattr" thing="aINT"/>
    </thing>
  <thing id="cPUTactici" name="Tactician" description="Joining allies into a single cohesive unit, the tactician uses his psionic power to unlock the potential of others, as well as himself. This master of strategy tends to focus his abilities on the insight of clairsentience and the improved communication of telepathy to know where and when to act and ensure his companions are best situated to react.\n\n{b}Role:{/b} A tactician is at his strongest when his companions cooperate with his instructions. He is a strategist and a battle leader, issuing orders and expecting them to be followed. He has decent combat ability, but relies primarily upon his manifesting ability.\n\n{b}Alignment:{/b} Any." compset="ClassLevel" maxlimit="20">
    <usesource source="pPsiUn"/>
    <tag group="ClassType" tag="Normal"/>
    <tag group="ProductId" tag="HLCommunit"/>
    <bootstrap thing="cHelpPU4"></bootstrap>
    <link linkage="helper" thing="cHelpPU4"/>
    </thing>
  <thing id="cHelpPU5" name="Vitalist" compset="Class" uniqueness="unique">
    <fieldval field="cHDSides" value="6"/>
    <fieldval field="cAbbr" value="Vit"/>
    <fieldval field="cSkills" value="2"/>
    <fieldval field="cSpecSing" value="Vitalist Method"/>
    <fieldval field="cPsiSPowNm" value="Talents"/>
    <fieldval field="cPsiSPowMa" value="3"/>
    <fieldval field="srcPageNum" value="69"/>
    <fieldval field="srcBookInf" value="Ultimate Psionics"/>
    <fieldval field="cSCRNumDce" value="4"/>
    <fieldval field="cSCRDceSiz" value="4"/>
    <fieldval field="cSCRMult" value="10"/>
    <arrayval field="cPsiPPTot" index="4" value="25"/>
    <arrayval field="cPsiPPTot" index="5" value="35"/>
    <arrayval field="cPsiPPTot" index="6" value="46"/>
    <arrayval field="cPsiPPTot" index="7" value="58"/>
    <arrayval field="cPsiPPTot" index="8" value="72"/>
    <arrayval field="cPsiPPTot" index="9" value="88"/>
    <arrayval field="cPsiPPTot" index="10" value="106"/>
    <arrayval field="cPsiPPTot" index="11" value="126"/>
    <arrayval field="cPsiPPTot" index="12" value="147"/>
    <arrayval field="cPsiPPTot" index="13" value="170"/>
    <arrayval field="cPsiPPTot" index="14" value="195"/>
    <arrayval field="cPsiPPTot" index="15" value="221"/>
    <arrayval field="cPsiPPTot" index="16" value="250"/>
    <arrayval field="cPsiPPTot" index="17" value="280"/>
    <arrayval field="cPsiPPTot" index="18" value="311"/>
    <arrayval field="cPsiPPTot" index="19" value="343"/>
    <arrayval field="cPsiPowTot" index="0" value="2"/>
    <arrayval field="cPsiPowTot" index="1" value="2"/>
    <arrayval field="cPsiPowTot" index="2" value="3"/>
    <arrayval field="cPsiPowTot" index="3" value="3"/>
    <arrayval field="cPsiPowTot" index="4" value="4"/>
    <arrayval field="cPsiPowTot" index="5" value="4"/>
    <arrayval field="cPsiPowTot" index="6" value="5"/>
    <arrayval field="cPsiPowTot" index="7" value="5"/>
    <arrayval field="cPsiPowTot" index="8" value="6"/>
    <arrayval field="cPsiPowTot" index="9" value="6"/>
    <arrayval field="cPsiPowTot" index="10" value="7"/>
    <arrayval field="cPsiPowTot" index="11" value="7"/>
    <arrayval field="cPsiPowTot" index="12" value="8"/>
    <arrayval field="cPsiPowTot" index="13" value="8"/>
    <arrayval field="cPsiPowTot" index="14" value="9"/>
    <arrayval field="cPsiPowTot" index="15" value="9"/>
    <arrayval field="cPsiPowTot" index="16" value="10"/>
    <arrayval field="cPsiPowTot" index="17" value="10"/>
    <arrayval field="cPsiPowTot" index="18" value="11"/>
    <arrayval field="cPsiPowTot" index="19" value="11"/>
    <arrayval field="cPsiLevTot" index="0" value="1"/>
    <arrayval field="cPsiLevTot" index="1" value="1"/>
    <arrayval field="cPsiLevTot" index="2" value="2"/>
    <arrayval field="cPsiLevTot" index="3" value="2"/>
    <arrayval field="cPsiLevTot" index="4" value="3"/>
    <arrayval field="cPsiLevTot" index="5" value="3"/>
    <arrayval field="cPsiLevTot" index="6" value="4"/>
    <arrayval field="cPsiLevTot" index="7" value="4"/>
    <arrayval field="cPsiLevTot" index="8" value="5"/>
    <arrayval field="cPsiLevTot" index="9" value="5"/>
    <arrayval field="cPsiLevTot" index="10" value="6"/>
    <arrayval field="cPsiLevTot" index="11" value="6"/>
    <arrayval field="cPsiLevTot" index="12" value="7"/>
    <arrayval field="cPsiLevTot" index="13" value="7"/>
    <arrayval field="cPsiLevTot" index="14" value="8"/>
    <arrayval field="cPsiLevTot" index="15" value="8"/>
    <arrayval field="cPsiLevTot" index="16" value="9"/>
    <arrayval field="cPsiLevTot" index="17" value="9"/>
    <arrayval field="cPsiLevTot" index="18" value="9"/>
    <arrayval field="cPsiLevTot" index="19" value="9"/>
    <arrayval field="cCustTot" index="0" value="1"/>
    <arrayval field="cPsiPPTot" index="0" value="2"/>
    <arrayval field="cPsiPPTot" index="1" value="6"/>
    <arrayval field="cPsiPPTot" index="2" value="11"/>
    <arrayval field="cPsiPPTot" index="3" value="17"/>
    <usesource source="pPsiUn"/>
    <tag group="cFort" tag="Good"/>
    <tag group="cWill" tag="Good"/>
    <tag group="cRef" tag="Poor"/>
    <tag group="Psionics" tag="Class"/>
    <tag group="ClassSkill" tag="Craft"/>
    <tag group="ClassSkill" tag="Perform"/>
    <tag group="ClassSkill" tag="Profession"/>
    <tag group="ClassSkill" tag="skPUAhypno"/>
    <tag group="ClassSkill" tag="skBluff"/>
    <tag group="ClassSkill" tag="skDiplo"/>
    <tag group="ClassSkill" tag="skHeal"/>
    <tag group="ClassSkill" tag="skIntim"/>
    <tag group="ClassSkill" tag="skKnowHist"/>
    <tag group="ClassSkill" tag="skKnowLoc"/>
    <tag group="ClassSkill" tag="skPUKnwPsi"/>
    <tag group="ClassSkill" tag="skLinguist"/>
    <tag group="ClassSkill" tag="skPercep"/>
    <tag group="ClassSkill" tag="skSenseMot"/>
    <tag group="ClassSkill" tag="skSurvival"/>
    <tag group="ProductId" tag="HLCommunit"/>
    <tag group="cAttack" tag="Poor"/>
    <tag group="ClassSkill" tag="skSpellcr"/>
    <tag group="Classes" tag="Vitalist" name="Vitalist"/>
    <bootstrap thing="cPUCollect">
      <autotag group="ClSpecWhen" tag="1"/>
      <autotag group="UseAttr" tag="aWIS"/>
      </bootstrap>
    <bootstrap thing="cPUCollect">
      <autotag group="ClSpecWhen" tag="15"/>
      </bootstrap>
    <bootstrap thing="cPUCollect">
      <autotag group="ClSpecWhen" tag="19"/>
      </bootstrap>
    <bootstrap thing="cPUVitColH">
      <autotag group="ClSpecWhen" tag="1"/>
      </bootstrap>
    <bootstrap thing="cPUVitKnac">
      <autotag group="ClSpecWhen" tag="1"/>
      </bootstrap>
    <bootstrap thing="cPUVitMedP">
      <autotag group="ClSpecWhen" tag="1"/>
      </bootstrap>
    <bootstrap thing="cPUVitTraW">
      <autotag group="ClSpecWhen" tag="1"/>
      </bootstrap>
    <bootstrap thing="cPUVitTraW">
      <autotag group="ClSpecWhen" tag="4"/>
      </bootstrap>
    <bootstrap thing="cPUVitTraW">
      <autotag group="ClSpecWhen" tag="7"/>
      </bootstrap>
    <bootstrap thing="cPUVitTraW">
      <autotag group="ClSpecWhen" tag="10"/>
      </bootstrap>
    <bootstrap thing="cPUVitTraW">
      <autotag group="ClSpecWhen" tag="13"/>
      </bootstrap>
    <bootstrap thing="cPUVitTraW">
      <autotag group="ClSpecWhen" tag="16"/>
      </bootstrap>
    <bootstrap thing="cPUVitTraW">
      <autotag group="ClSpecWhen" tag="19"/>
      </bootstrap>
    <bootstrap thing="cPUHealthS">
      <autotag group="ClSpecWhen" tag="2"/>
      </bootstrap>
    <bootstrap thing="cPUHealthS">
      <autotag group="ClSpecWhen" tag="7"/>
      </bootstrap>
    <bootstrap thing="cPUHealthS">
      <autotag group="ClSpecWhen" tag="12"/>
      </bootstrap>
    <bootstrap thing="cPUHealthS">
      <autotag group="ClSpecWhen" tag="17"/>
      </bootstrap>
    <bootstrap thing="cPUViSpiMa">
      <autotag group="ClSpecWhen" tag="2"/>
      </bootstrap>
    <bootstrap thing="cPUStealHT">
      <autotag group="ClSpecWhen" tag="3"/>
      </bootstrap>
    <bootstrap thing="cPUStealHT">
      <autotag group="ClSpecWhen" tag="7"/>
      </bootstrap>
    <bootstrap thing="cPUVitTele">
      <autotag group="ClSpecWhen" tag="3"/>
      </bootstrap>
    <bootstrap thing="cPUVitReqA">
      <autotag group="ClSpecWhen" tag="5"/>
      </bootstrap>
    <bootstrap thing="cPUVitExpK">
      <autotag group="ClSpecWhen" tag="18"/>
      <assignval field="abValue" value="18"/>
      </bootstrap>
    <bootstrap thing="fArmLight"></bootstrap>
    <bootstrap thing="fSimple"></bootstrap>
    <bootstrap thing="cPUVitExpK">
      <autotag group="ClSpecWhen" tag="9"/>
      <assignval field="abValue" value="9"/>
      </bootstrap>
    <link linkage="psiattr" thing="aWIS"/>
    </thing>
  <thing id="cPUVitalis" name="Vitalist" description="Where the egoist is the master of his own body through the power of psychometabolism, vitalists blend the disciplines of telepathy, psychometabolism, and clairsentience to pool multiple creatures into a larger collective of beings, sharing the health of the many to keep each individual well. They are the masters of psionic healing, distributing regenerative energy with the precision of a surgeon. A vitalist&apos;s psionic powers and his collective are his most vital abilities.\n\n{b}Role:{/b} Regardless of their chosen method, all vitalists can act as the party medic: healing wounds, curing ailments, and augmenting the physical form. The method in which they perform this role varies from vitalist to vitalist. As light armor wearers with minimal combat skill, vitalists are typically not found on the front line of battle. Helping his allies - whether by healing them or making your enemies weaker - is what a vitalist does best.\n\n{b}Alignment:{/b} Any" compset="ClassLevel" maxlimit="20">
    <usesource source="pPsiUn"/>
    <tag group="ClassType" tag="Normal"/>
    <tag group="ProductId" tag="HLCommunit"/>
    <bootstrap thing="cHelpPU5"></bootstrap>
    <link linkage="helper" thing="cHelpPU5"/>
    </thing>
  <thing id="cPUAstrRep" name="Astral Repair" description="An aegis is capable of repairing mundane items, restoring 2 hit points of damage to the touched item as a standard action usable at will. If the object has the broken condition, this condition is removed if the object is restored to at least half its original hit points. All of the pieces of an object must be present for this ability to function. This ability has no effect on objects that have been warped or otherwise transmuted, but it can still repair damage done to such items." compset="ClSpecial">
    <fieldval field="abValue" value="2"/>
    <tag group="AbilType" tag="PsiLike"/>
    <eval phase="Final" priority="1000"><![CDATA[
      ~ If we're not shown, just get out now
      doneif (tagis[Helper.ShowSpec] <> 1)
      ~ If we've been Disabled, get out now
      doneif (tagis[Helper.SpcDisable] <> 0)

      field[livename].text = field[name].text & "(" & field[abValue].value & " HP)"

      field[abSumm].text = "Restore  " & field[abValue].value & " HP to damaged object touched."]]></eval>
    </thing>
  <thing id="cPUAstSuit" name="Form Astral Suit" description="Every aegis learns to draw forth ectoplasm and form an astral suit around their form. The aegis can select from three different types when forming his astral suit  skin, armor, or juggernaut. An aegis is always considered to be proficient with his astral suit, even if he does not have the appropriate armor proficiency. The amount of time forming this astral suit takes depends on the type of suit being formed. Different astral suit forms grant different free customizations. These free customizations never count against the aegiss total number of customization points spent on his astral suit.\n\nThe aegis chooses the appearance of his astral suit, although its shape must reflect the selections the aegis has chosen: astral skin would cover the aegis like a psychoactive skin, astral juggernaut would appear to cover the aegis like plate armor, etc.\n\nAn astral suit can be dismissed as a free action.\n\nAn astral suit does not function in areas where psionics do not work, such as a null psionics field. Dismiss ectoplasm can be used against an astral suit; treat the manifester level as the aegiss class level, although the aegis can simply form his astral suit again on his next turn." compset="ClSpecial">
    <fieldval field="actName" value="Wearing Astral Suit"/>
    <usesource source="pPsiUn"/>
    <tag group="SpecType" tag="Defense"/>
    <tag group="User" tag="Activation"/>
    <tag group="AbilType" tag="Super"/>
    <tag group="Custom" tag="WearAstS"/>
    <bootstrap thing="cfgPUAstSu">
      <containerreq phase="First" priority="450">count:AbReplace.cPUAstSuit = 0</containerreq>
      </bootstrap>
    <eval phase="First" priority="90" index="2">if (field[abilActive].value = 1) then
   perform forward[Custom.WearAstS]
endif</eval>
    <eval phase="PreLevel" priority="10000"><![CDATA[~if we've been replaced, get out now
doneif (tagis[Helper.SpcReplace] <> 0)

if (hero.childlives[cfgPUAstSu] <> 0) then
  hero.childfound[cfgPUAstSu].field[cfgMax1].value += 1
  endif]]></eval>
    </thing>
  <thing id="cPUCraftsm" name="Craftsman" description="Beginning at 2nd level, an aegis gains a +1 bonus to any one Craft skill of his choice. At 6th level and every four levels thereafter, this bonus increases by 1." compset="ClSpecial">
    <tag group="Helper" tag="SpecUp" name="SpecUp" abbrev="SpecUp"/>
    <tag group="SpecType" tag="DR"/>
    <tag group="AbilType" tag="Extra" name="Extraordinary Ability" abbrev=" (Ex)"/>
    <tag group="ChooseSrc1" tag="Hero"/>
    <bootstrap thing="xDamRd">
      <autotag group="SpecSource" tag="cHelpBbn"/>
      </bootstrap>
    <eval phase="PostLevel" priority="10000"><![CDATA[
      field[listname].text = "Craftsman (+" & field[xIndex].value & ")"

      var searchStr as string
      var myText as string

      searchStr = "Helper.SkCatCraft"

      field[usrCandid1].text = searchStr

      ~ If we're not shown, just get out now
      doneif (tagis[Helper.ShowSpec] = 0)

      field[abValue].value += field[xCount].value
      field[CustDesc].text = signed(field[abValue].value) & " bonus to chosen Craft skill."

      if (field[usrChosen1].ischosen <> 0) then
        myText = field[usrChosen1].chosen.idstring
        field[usrChosen1].chosen.field[Bonus].value += field[abValue].value
      endif]]></eval>
    </thing>
  <thing id="cPUAegDR" name="Damage Reduction" description="Starting at 2nd level, when an aegis is wearing his astral suit, he gains damage reduction 2/-, regardless of what type of astral suit he is wearing. At 5th level and every three levels thereafter, this damage reduction improves by 1." compset="ClSpecial" summary="Gain DR/- when wearing your Astral Suit.">
    <usesource source="pPsiUn"/>
    <tag group="Helper" tag="SpecUp"/>
    <tag group="SpecType" tag="DR"/>
    <tag group="AbilType" tag="Extra"/>
    <eval phase="PostLevel" priority="10100"><![CDATA[
      var myDR as number
      myDR = 1 + field[xIndex].value + field[abValue2].value

      field[listname].text = field[name].text & " " & myDR & "/-"

      ~ These calculations should only happen for the first copy
      doneif (tagis[Helper.FirstCopy] = 0)
      ~ If we're not shown, just get out now
      doneif (tagis[Helper.ShowSpec] = 0)

      ~ Calculate DR value starting at 2 at level 2
      field[abValue].value += (1 + field[xCount].value + field[abValue2].value)

      field[listname].text = field[name].text & " " & field[abValue].value & "/-"
      field[CustDesc].text = "Gain DR " & field[abValue].value & "/- when wearing your Astral Suit."

      ~ If we're not wearing the Astral Suit, get out now
      doneif (hero.tagcount[Custom.WearAstS] = 0)

      ~ Apply DR to hero
      #applydr[xDamRd,field[abValue].value]]]></eval>
    </thing>
  <thing id="cPUInvigSu" name="Invigorating Suit" description="An aegis of at least 3rd level wearing his astral suit gains a +4 bonus on the following checks and saves: Swim checks made to resist nonlethal damage from exhaustion; Constitution checks made to continue running; Constitution checks made to avoid nonlethal damage from a forced march; Constitution checks made to hold breath; Constitution checks made to avoid nonlethal damage from starvation or thirst; Fortitude saves made to avoid nonlethal damage from hot or cold environments; and Fortitude saves made to resist damage from suffocation." compset="ClSpecial">
    <usesource source="pPsiUn"/>
    <tag group="AbilType" tag="Super"/>
    </thing>
  <thing id="cPUReconfi" name="Reconfigure" description="Starting at 3rd level, an aegis can reconfigure up to his Intelligence modifier in customization points on his astral suit once per day as a standard action. Every two levels thereafter, he can use this ability an additional time per day." compset="ClSpecial">
    <usesource source="pPsiUn"/>
    <tag group="User" tag="Tracker"/>
    <tag group="Usage" tag="Day"/>
    <tag group="SbNamePar" tag="IncUses"/>
    <eval phase="Final" priority="10000"><![CDATA[
      ~field abValue contains the # of times tracker for the first copy
      ~field abValue2 contains the bonus reconfigure points
      ~field abValue3 contains the bonus uses

      var myPts as number
      var myUses as number

      myPts = #attrbonus[aINT] + field[abValue2].value

      if (tagis[Helper.SpcDisable] <> 0) then
        field[abValue3].value -= 1
      endif

      myUses = field[xIndex].value + field[abValue3].value

      field[listname].text = "Reconfigure (" & myPts & " customization points) (" & myUses & "/day)"

      ~These calculations should only happen for the first copy
      doneif (tagis[Helper.FirstCopy] = 0)

      ~ If we're not shown, just get out now
      doneif (tagis[Helper.ShowSpec] = 0)

      field[abValue].value += field[abValue3].value
      field[abValue].value += field[xCount].value
      field[trkMax].value = field[abValue].value
      field[livename].text = field[thingname].text & " (" & field[abValue].value & " customization points)"]]></eval>
    </thing>
  <thing id="cPUAugSuit" name="Augment Suit" description="An aegis learns how to infuse his astral suit with his psionic power, augmenting the capacity of his suit. Beginning at 4th level, the aegis may spend up to one power point per four class levels to customize his Astral Suit, gaining one temporary customization point for each power point spent. \n\nThis ability, activated as a standard action, lasts for a number of rounds equal to the aegis Intelligence modifier.\n\nActivating this ability again, while already in use, immediately causes the previous duration to end. \n\nAn aegis may end the duration as a free action at any time." compset="ClSpecial">
    <usesource source="pPsiUn"/>
    <tag group="AbilType" tag="Super"/>
    <tag group="User" tag="Tracker"/>
    <eval phase="Final" priority="10000"><![CDATA[
      var myPts as number
      var myTimes as number

      myPts = field[xIndex].value
      myTimes = #attrbonus[aINT]

      field[listname].text = "Augment Suit (" & myPts & ") (" & myTimes & " rounds)"

      ~These calculations should only happen for the first copy
      doneif (tagis[Helper.FirstCopy] = 0)

      ~ If we're not shown, just get out now
      doneif (tagis[Helper.ShowSpec] = 0)

      field[abValue].value += field[xCount].value
      field[trkMax].value = field[abValue].value
      field[livename].text = "Augment Suit (" & myPts & ") (" & myTimes & " rounds)"]]></eval>
    </thing>
  <thing id="cPUMastCr" name="Master Craftsman" description="At 5th level, an aegis gains the Master Craftsman feat as a bonus feat. He must still meet the prerequisites of the feat in order to gain its benefits." compset="ClSpecial">
    <usesource source="pPsiUn"/>
    <bootstrap thing="fMasCraft">
      <containerreq phase="First" priority="500"><![CDATA[count:Classes.Aegis >= 5 & !AbReplace.cPUMastCr]]></containerreq>
      </bootstrap>
    </thing>
  <thing id="cPUCanniSu" name="Cannibalize Suit" description="Starting at 12th level, an aegis learns to convert the psionic energy used to create his suit into healing power. Once per day as a standard action, he can dismiss his astral suit and heal a number of hit points equal to his customization pool. The aegis cannot reform his suit again for one minute after using this ability. Every two levels thereafter, the aegis can use this ability an additional time per day. Additional customization points gained from Augment Suit are not counted for this ability." compset="ClSpecial">
    <fieldval field="actName" value="Wearing Astral Suit"/>
    <usesource source="pPsiUn"/>
    <tag group="User" tag="Activation"/>
    <tag group="User" tag="Tracker"/>
    <tag group="Usage" tag="Day"/>
    <eval phase="PostLevel" priority="10000"><![CDATA[
      var myPts as number
      var myTimes as number

      myPts = #attrbonus1[aINT]
      myTimes = field[xIndex].value

      ~field[listname].text = "Reconfigure " & myPts & " cust. pts (" & ~myTimes & "x/day)"

      ~These calculations should only happen for the first copy
      doneif (tagis[Helper.FirstCopy] = 0)

      ~ If we're not shown, just get out now
      doneif (tagis[Helper.ShowSpec] = 0)

      field[abValue].value += field[xCount].value
      field[trkMax].value = field[abValue].value

      field[CustDesc].text = "Cannibalize Suit " & myPts & " cust. pts (" & myTimes & "x/day)"]]></eval>
    </thing>
  <thing id="cPUPerfMer" name="Perfect Merger" description="An aegis of 20th level has learned to become one with his suit. His suit cannot be dispelled or removed against his will by any means, although his astral suit ability still does not function within areas where psionics do not work, such as a null psionics field.\n\nIn addition, the aegis can spend two daily uses of his reconfigure ability, to alter all of the customizations on his astral suit.\n\nFinally, once per day, the aegis can boost his cannibalize suit ability, healing all of his hit point damage, although he cannot reform his suit for ten minutes after using this ability, rather than the standard one minute." compset="ClSpecial">
    <usesource source="pPsiUn"/>
    </thing>
  <thing id="cPUPattern" name="Pattern Designs" description="Unlike normal manifesters, a cryptic manipulates the world around her by creating tattoos and patterns that alters reality in different ways. Cryptic powers show up on the cryptics body in the form of tattoos. The cryptics known powers can be identified via Spellcraft checks with a DC equal to 10 + double the powers level. These tattoos do not count against the number of psionic tattoos that the cryptic can safely wear.\n\nWhen a cryptic manifests one of her powers, it creates a visual pattern of energy during the action taken to manifest the pattern. While the cryptics powers have the normal displays for psionic powers - auditory, mental, and the like - this visual pattern unique to the cryptic cannot be suppressed as normal displays can be suppressed." compset="ClSpecial">
    <usesource source="pPsiUn"/>
    <tag group="AbilType" tag="Super"/>
    </thing>
  <thing id="cPUAltDef" name="Altered Defense" description="A cryptic learns early on to modify the patterns around her to grant her protection as a swift action. The cryptic chooses from the options below and may only have one such effect active at any given time. The cryptic can use this ability for a number of rounds per day equal to 4 + her Intelligence modifier. The cryptic can maintain this ability as long as she wants as long as she has rounds available, or dismiss it at any time as a free action.\n\n{i}Absorb:{/i} The cryptic gains DR 1/-.\n{i}Deflect:{/i} The cryptic gains a +1 dodge bonus to his AC.\n{i}Retaliate:{/i} The cryptic gains a +1 bonus on his attack rolls against any opponent that successfully hit him since his last turn.\n\nEvery four cryptic levels thereafter, this bonus increases by 1 (to 2 at 5th level, 3 at 9th level, 4 at 13th level, and 5 at 17th level)." compset="ClSpecial">
    <fieldval field="abValue2" value="4"/>
    <tag group="AbilType" tag="Super"/>
    <tag group="User" tag="Tracker"/>
    <tag group="Usage" tag="Rounds"/>
    <tag group="ProductId" tag="HLCommunit"/>
    <eval phase="PostAttr" priority="10000"><![CDATA[
      ~NOTE:
      ~ abValue holds the Bonus based on level
      ~ abValue2 is base 4 rounds per day
      ~ trkMax is total number of rounds including Int modifier

      ~ Set the list name
      field[listname].text = field[thingname].text & " " & field[xIndex].value

      ~ If we're not shown, just get out now
      doneif (tagis[Helper.ShowSpec] <> 1)
      ~ if we've been disabled, get out now
      doneif (tagis[Helper.SpcDisable] <> 0)

      ~ Set bonus here
      field[abValue].value += field[xCount].value

      ~ Set the name to be Altered Defense #.
      ~ In example "Altered Defense 1" or "Altered Defense 2" at level 5
      field[livename].text = field[thingname].text & " " & field[xCount].value

      ~ The following should only happen once on the first copy
      doneif (tagis[Helper.FirstCopy] = 0)

      field[trkMax].value += field[abValue2].value + #attrmod[aINT]]]></eval>
    </thing>
  <thing id="cPUAltDef1" name="Altered Defense, Absorb" description="A cryptic learns early on to modify the patterns around her to grant her protection as a swift action. The cryptic chooses from the options below and may only have one such effect active at any given time. The cryptic can use this ability for a number of rounds per day equal to 4 + her Intelligence modifier. The cryptic can maintain this ability as long as she wants as long as she has rounds available, or dismiss it at any time as a free action.\n\n{i}Absorb:{/i} The cryptic gains DR 1/-." compset="ClSpecial" summary="The cryptic gains DR 1/-.">
    <tag group="AbilType" tag="Super"/>
    <tag group="ProductId" tag="HLCommunit"/>
    <tag group="User" tag="Activation"/>
    <eval phase="PostAttr" priority="11000"><![CDATA[
      ~NOTE:
      ~ abValue is bonus

      ~ If we're not shown, just get out now
      doneif (tagis[Helper.ShowSpec] <> 1)
      ~ if we've been disabled, get out now
      doneif (tagis[Helper.SpcDisable] <> 0)

      field[abValue].value += #value[cPUAltDef]
      field[livename].text = field[thingname].text & " DR " & field[abValue].value & "/-"
      field[abSumm].text = "The cryptic gains DR " & field[abValue].value & "/-"
      field[actName].text = "DR " & field[abValue].value & "/-"

      ~ If we're not active, just get out now!
      doneif (field[abilActive].value = 0)

      perform hero.assign[Cryptic.AltDefAct]
      #applydr[xDamRd,field[abValue].value]]]></eval>
    <exprreq message="Only a single Altered Defense can be active at a time."><![CDATA[hero.tagcount[Cryptic.AltDefAct] <= 1]]></exprreq>
    </thing>
  <thing id="cPUAltDef2" name="Altered Defense, Deflect" description="A cryptic learns early on to modify the patterns around her to grant her protection as a swift action. The cryptic chooses from the options below and may only have one such effect active at any given time. The cryptic can use this ability for a number of rounds per day equal to 4 + her Intelligence modifier. The cryptic can maintain this ability as long as she wants as long as she has rounds available, or dismiss it at any time as a free action.\n\n{i}Deflect:{/i} The cryptic gains a +1 dodge bonus to her AC." compset="ClSpecial" summary="The cryptic gains a +1 dodge bonus to her AC.">
    <tag group="AbilType" tag="Super"/>
    <tag group="ProductId" tag="HLCommunit"/>
    <tag group="User" tag="Activation"/>
    <eval phase="PostAttr" priority="11000"><![CDATA[
      ~NOTE:
      ~ abValue is bonus

      ~ If we're not shown, just get out now
      doneif (tagis[Helper.ShowSpec] <> 1)
      ~ if we've been disabled, get out now
      doneif (tagis[Helper.SpcDisable] <> 0)

      field[abValue].value += #value[cPUAltDef]
      field[livename].text = field[thingname].text & " " & signed(field[abValue].value)
      field[abSumm].text = "The cryptic gains a " & signed(field[abValue].value) & " dodge bonus to her AC."
      field[actName].text = signed(field[abValue].value) & " AC"

      ~ If we're not active, just get out now!
      doneif (field[abilActive].value = 0)

      perform hero.assign[Cryptic.AltDefAct]
      hero.child[ArmorClass].field[tACDodge].value += field[abValue].value]]></eval>
    <exprreq message="Only a single Altered Defense can be active at a time."><![CDATA[hero.tagcount[Cryptic.AltDefAct] <= 1]]></exprreq>
    </thing>
  <thing id="cPUAltDef3" name="Altered Defense, Retaliate" description="A cryptic learns early on to modify the patterns around her to grant her protection as a swift action. The cryptic chooses from the options below and may only have one such effect active at any given time. The cryptic can use this ability for a number of rounds per day equal to 4 + her Intelligence modifier. The cryptic can maintain this ability as long as she wants as long as she has rounds available, or dismiss it at any time as a free action.\n\n{i}Retaliate:{/i} The cryptic gains a +1 bonus on her attack rolls against any opponent that successfully hit her since her last turn." compset="ClSpecial" summary="+1 bonus on your attack rolls against any opponent that hit you since your last turn.">
    <tag group="AbilType" tag="Super"/>
    <tag group="ProductId" tag="HLCommunit"/>
    <tag group="User" tag="Activation"/>
    <eval phase="PostAttr" priority="11000"><![CDATA[
      ~NOTE:
      ~ abValue is bonus

      ~ If we're not shown, just get out now
      doneif (tagis[Helper.ShowSpec] <> 1)
      ~ if we've been disabled, get out now
      doneif (tagis[Helper.SpcDisable] <> 0)

      field[abValue].value += #value[cPUAltDef]
      field[livename].text = field[thingname].text & " " & signed(field[abValue].value)
      field[abSumm].text = signed(field[abValue].value) & " bonus on your attack rolls against any opponent that hit you since your last turn."
      field[actName].text = signed(field[abValue].value) & " to Hit"

      ~ If we're not active, just get out now!
      doneif (field[abilActive].value = 0)

      perform hero.assign[Cryptic.AltDefAct]
      hero.child[Attack].field[Bonus].value += field[abValue].value]]></eval>
    <exprreq message="Only a single Altered Defense can be active at a time."><![CDATA[hero.tagcount[Cryptic.AltDefAct] <= 1]]></exprreq>
    </thing>
  <thing id="cPUDisPatt" name="Disrupt Pattern" description="All cryptics are able to disrupt the patterns they can perceive, although the potency of this disruption is based on the cryptics focus. When a cryptic gains psionic focus, she selects one creature type as her active type (she does not need to select a subtype). As a standard action, the cryptic can make a ranged touch attack with a range of 30 feet, firing a ray of black energy at the target. If the attack is successful, the cryptic deals 1d6 points of damage + additional damage equal to the cryptics Intelligence modifier. This attack deals half damage if the targets type is not of the cryptics active type. Like some other rays, if the attack roll of this ability would indicate a critical hit, the damage is doubled. This ability can only be used once per round, even if an item or other effect would duplicate it." compset="ClSpecial" summary="As a standard action make a ranged touch attack with a range of 30 feet.">
    <fieldval field="abValue2" value="6"/>
    <fieldval field="abRange" value="30"/>
    <fieldval field="usrCandid1" value="component.Type"/>
    <tag group="AbilType" tag="Super"/>
    <tag group="abRange" tag="Feet"/>
    <tag group="abDuration" tag="Instant"/>
    <tag group="ProductId" tag="HLCommunit"/>
    <tag group="Helper" tag="WeaponSpec"/>
    <tag group="wCategory" tag="RangeProj"/>
    <tag group="Helper" tag="SingleAtt"/>
    <tag group="Helper" tag="ActivMenu"/>
    <tag group="abAction" tag="Standard"/>
    <tag group="wCritMult" tag="2"/>
    <tag group="wCritMin" tag="20"/>
    <tag group="ChooseSrc1" tag="Thing"/>
    <tag group="User" tag="NoAutoName"/>
    <eval phase="PostAttr" priority="10000"><![CDATA[
      ~NOTE:
      ~abValue holds the number of dice
      ~abValue2 holds the dice size
      ~abValue3 holds any plus damage bonus
      ~abValue5 holds total dice of damage which is needed for feats
      ~         and custom abilities.

      ~ Set the list name
      field[listname].text = field[thingname].text & " " & field[xIndex].value & "d" & field[abValue2].value

      ~ If we're not shown, just get out now
      doneif (tagis[Helper.ShowSpec] <> 1)
      ~ if we've been disabled, get out now
      doneif (tagis[Helper.SpcDisable] <> 0)

      field[abValue].value += field[xCount].value
      field[abValue3].value += #attrbonus[aINT]

      ~ Create a HasType tag on us
      perform field[usrChosen1].chosen.pulltags[thingid.?,HasType]]]></eval>
    <eval phase="Final" priority="10000" index="2"><![CDATA[
      ~ If we're not shown, just get out now
      doneif (tagis[Helper.ShowSpec] <> 1)
      ~ if we've been disabled, get out now
      doneif (tagis[Helper.SpcDisable] <> 0)

      ~ Fill in the Damage Dice
      field[wFixRanDam].text = field[abValue].value & "d" & field[abValue2].value
      ~ If we have any bonus damage then add to the dice
      if (field[abValue3].value <> 0) then
        field[wFixRanDam].text &= signed(field[abValue3].value)
      endif

      ~ Add in our total dice
      field[abValue5].value += field[abValue].value

      ~Sythesize our name with all valid creature Types
      if (tagcount[HasType.?] <> 0) then
        field[livename].text = field[name].text & " (" & tagnames[HasType.?,", "] & ")"
      endif]]></eval>
    </thing>
  <thing id="cPUEnhDisr" name="Enhanced Disruption" description="At 3rd level and every two levels thereafter, the cryptics disrupt pattern deals an additional 1d6 points of damage. This additional damage is not multiplied on a critical hit or by using feats such as Vital Strike, but it is halved if the creature struck is not of the cryptics active creature type." compset="ClSpecial" summary="Deal additional damage with Disrupt Pattern.">
    <fieldval field="abValue2" value="6"/>
    <tag group="AbilType" tag="Super"/>
    <tag group="ProductId" tag="HLCommunit"/>
    <tag group="LvNameApp" tag="AppText"/>
    <tag group="LvNameApp" tag="SignAppVal"/>
    <eval phase="PostLevel" priority="10000"><![CDATA[
      ~ NOTE:
      ~ abValue holds the Number of Dice Xd6
      ~ abValue2 holds the dice size 2dX

      ~ Set the list name
      field[listname].text = field[thingname].text & " " & signed(field[xIndex].value) & "d" & field[abValue2].value

      ~ If we're not shown, just get out now
      doneif (tagis[Helper.ShowSpec] <> 1)
      ~ if we've been disabled, get out now
      doneif (tagis[Helper.SpcDisable] <> 0)

      field[abValue].value += field[xCount].value

      ~ Here we set the "abText" then use the LW tags to have this
      ~ get appended to the livename later. We will then use this
      ~ field that could be changed by outside scripts to append
      ~ to the Disrupt Pattern ability. So only fill in abText if
      ~ it is empty.
      if (empty(field[abText].text) = 1) then
        field[abText].text = signed(field[abValue].value) & "d" & field[abValue2].value
      endif

      ~ The following should only happen once on the first copy
      doneif (tagis[Helper.FirstCopy] = 0)
      #extradamage[hero.childfound[cPUDisPatt],field[abText].text,field[name].text]]]></eval>
    <eval phase="Final" priority="10000" index="2"><![CDATA[
      ~ If we're not shown, just get out now
      doneif (tagis[Helper.ShowSpec] <> 1)
      ~ if we've been disabled, get out now
      doneif (tagis[Helper.SpcDisable] <> 0)

      ~ Add our dice into the Disrupt Total
      hero.child[cPUDisPatt].field[abValue5].value += field[abValue].value]]></eval>
    </thing>
  <thing id="cPULessIns" name="Lesser Insights" description="Cryptics learn minor powers they can use at will to aid them in a variety of ways. The cryptic gains 2 talents from the cryptic talent list." compset="ClSpecial">
    <usesource source="pPsiUn"/>
    <tag group="Helper" tag="SpecUp"/>
    </thing>
  <thing id="cPUScribTa" name="Scribe Tattoo" description="At 1st level, cryptics receive Scribe Tattoo as a bonus feat. A cryptic can scribe tattoos of any power she knows (up to 3rd level). The power must be one that can be made into a tattoo. The cryptic does not need to meet the prerequisites for this feat." compset="ClSpecial">
    <tag group="ProductId" tag="HLCommunit"/>
    <tag group="Helper" tag="SpecUp"/>
    <bootstrap thing="fPUScrTatt">
      <containerreq phase="First" priority="500">!AbReplace.cPUScribTa</containerreq>
      <autotag group="thing" tag="skipprereq"/>
      </bootstrap>
    </thing>
  <thing id="cPUTrapmak" name="Trapmaker" description="A cryptic gains a competence bonus on Craft (traps) checks equal to her class level." compset="ClSpecial">
    <tag group="ProductId" tag="HLCommunit"/>
    <eval phase="PostLevel" priority="10000"><![CDATA[
      ~ If we're not shown, just get out now
      doneif (tagis[Helper.ShowSpec] <> 1)
      ~ if we've been disabled, get out now
      doneif (tagis[Helper.SpcDisable] <> 0)

      #skillbonus[skCrafTrap] += field[xAllLev].value]]></eval>
    </thing>
  <thing id="cPUHiddenP" name="Hidden Pattern" description="A cryptic learns how to recognize patterns in light and sound around her that can help her to mask her presence. At 2nd level, a cryptic gains a +2 competence bonus on all Stealth checks. This bonus increases to +4 at 5th level, and then again to +6 at 8th level. At 10th level, as long as the cryptic maintains psionic focus, she can use the Stealth skill to hide, even while being observed." compset="ClSpecial" summary="You gain a competence bonus on all Stealth checks.">
    <tag group="AbilType" tag="Super"/>
    <tag group="ProductId" tag="HLCommunit"/>
    <tag group="Helper" tag="SpecUp"/>
    <tag group="abAction" tag="PUManFocus"/>
    <eval phase="PostLevel" priority="10000"><![CDATA[
      ~ Set the list name
      field[listname].text = field[thingname].text & " " & signed(field[xIndex].value * 2)

      ~ If we're not shown, just get out now
      doneif (tagis[Helper.ShowSpec] <> 1)
      ~ if we've been disabled, get out now
      doneif (tagis[Helper.SpcDisable] <> 0)

      field[abValue].value += field[xCount].value * 2
      field[livename].text = field[thingname].text & " " & signed(field[abValue].value)

      ~ The following should only happen once on the first copy
      doneif (tagis[Helper.FirstCopy] = 0)

      #competencebonus[hero.child[skStealth], field[abValue].value]]]></eval>
    </thing>
  <thing id="cPUCrHideP" name="Hide in Plain Sight" description="At 10th level, as long as the cryptic maintains psionic focus, she can use the Stealth skill to hide, even while being observed." compset="ClSpecial" summary="As long as you maintain psionic focus, you can use the Stealth skill to hide, even while being observed.">
    <tag group="abAction" tag="PUManFocus"/>
    </thing>
  <thing id="cPURapDef" name="Rapid Defense" description="Starting at 4th level, a cryptic can use her altered defense ability as a free action by expending her psionic focus. The cryptic may even do this when it is not her turn." compset="ClSpecial" summary="Use your altered defense ability as a free action by expending your psionic focus.">
    <tag group="AbilType" tag="Super"/>
    <tag group="ProductId" tag="HLCommunit"/>
    <tag group="abAction" tag="PUExpFocus"/>
    <tag group="abAction" tag="Free"/>
    </thing>
  <thing id="cPUSwiftTr" name="Swift Trapper" description="At 6th level, a cryptic can create traps with astounding speed. It takes a cryptic half the normal amount of time to create traps." compset="ClSpecial" summary="It takes a cryptic half the normal amount of time to create traps.">
    <tag group="AbilType" tag="Extra"/>
    <tag group="ProductId" tag="HLCommunit"/>
    </thing>
  <thing id="cPUEndDef" name="Enduring Defense" description="A cryptic of 14th level can choose any option from the Altered Defense ability and always be under that effect. The cryptic can still change the effect as a swift action, but she is no longer limited to how many rounds per day she can have Altered Defense active." compset="ClSpecial" summary="Altered Defense is usable unlimited amount of time per day.">
    <tag group="ProductId" tag="HLCommunit"/>
    <eval phase="Final" priority="10000"><![CDATA[
      ~ If we're not shown, just get out now
      doneif (tagis[Helper.ShowSpec] <> 1)
      ~ if we've been disabled, get out now
      doneif (tagis[Helper.SpcDisable] <> 0)

      perform hero.child[cPUAltDef].setfocus
      doneif (state.isfocus = 0)

      ~ Remove the tracked resource of Altered Defense
      perform focus.delete[Usage.?]
      perform focus.delete[User.Tracker]
      focus.field[trkMax].value = 0]]></eval>
    </thing>
  <thing id="cPUUncPatt" name="Unchanging Pattern" description="At 18th level, the cryptic gains power resistance equal to 12 + her class level." compset="ClSpecial" summary="Gain power resistance equal to 12 + her class level.">
    <fieldval field="abValue" value="12"/>
    <tag group="ProductId" tag="HLCommunit"/>
    <tag group="Helper" tag="SpecUp"/>
    <eval phase="PostLevel" priority="10000"><![CDATA[
      ~ If we're not shown, just get out now
      doneif (tagis[Helper.ShowSpec] <> 1)
      ~ if we've been disabled, get out now
      doneif (tagis[Helper.SpcDisable] <> 0)

      ~ Give PR of 12 + Level
      #value[xPwrRes] += field[abValue].value + field[xAllLev].value]]></eval>
    </thing>
  <thing id="cPUSupIns" name="Supreme Insight" description="At 20th level, the cryptic makes astounding leaps of insight. She immediately learns two normal insights, but also learns a third insight chosen from the list below, representing a truly astounding breakthrough in understanding how patterns work. For many cryptics, the possibility of this sort of discoveries is the driving force for their studying of patterns." compset="ClSpecial">
    <usesource source="pPsiUn"/>
    <tag group="AbilType" tag="Super"/>
    </thing>
  <thing id="cPUInsBind" name="Binding Pattern" description="A cryptic with this insight can cause creatures struck with her disrupt pattern ability to become entangled for a number of rounds equal to the cryptics Intelligence modifier, although the disrupt pattern damage is minimized (all dice rolls are treated as 1s). Entangled creatures can attempt to break free as a move action, making a Strength or Escape Artist check. The DC for this check is equal to the 10 + 1/2 the cryptics level + the cryptics Intelligence modifier. A cryptic must be at least 4th level before selecting this insight." compset="CustomSpec" summary="Entangle target creature struck by Disrupt Pattern. STR or Escape artist check to escape." uniqueness="unique">
    <usesource source="pPsiUn"/>
    <tag group="SpecSource" tag="cHelpPU1"/>
    <tag group="AbilType" tag="Super"/>
    <tag group="StandardDC" tag="aINT"/>
    <prereq message="Cryptic level 4 or greater required for this Insight">
      <validate><![CDATA[        var classcheck as string
        var levels as number

        classcheck = "SCryptic"

        call PUPreReqs

        validif (levels >= 4)]]></validate>
      </prereq>
    </thing>
  <thing id="cPUInsBlee" name="Bleeding Pattern" description="A cryptic with this insight can choose to make her disrupt pattern ability deal bleed damage. This attack causes the target to take 1 additional point of damage each round for each die of the cryptics disrupt pattern (e.g., 4d6 equals 4 points of bleed). Bleeding creatures take that amount of damage every round at the start of each of their turns. The bleeding can be stopped by a DC 15 Heal check or the application of any effect that heals hit point damage. Bleeding damage from this ability does not stack with itself. Bleeding damage bypasses any damage reduction the creature might possess. A cryptic must be at least 6th level before selecting this insight." compset="CustomSpec" summary="Your Disrupt Pattern ability deals bleed damage." uniqueness="unique">
    <usesource source="pPsiUn"/>
    <tag group="SpecSource" tag="cHelpPU1"/>
    <tag group="AbilType" tag="Super"/>
    <tag group="ProductId" tag="HLCommunit"/>
    <eval phase="Final" priority="10050"><![CDATA[

      ~ Calculate total dice from
      ~ from Ehanced Disruption and Disrupt Pattern
      ~ Class Abilities
      field[abValue].value += hero.childfound[cPUDisPatt].field[abValue5].value
      field[livename].text = field[name].text & " (" & field[abValue].value & " Bleed)"]]></eval>
    <prereq message="Cryptic level 6 or greater required for this Insight">
      <validate><![CDATA[        var classcheck as string
        var levels as number

        classcheck = "Cryptic"

        call PUPreReqs

        validif (levels >= 6)]]></validate>
      </prereq>
    </thing>
  <thing id="cPUInsBran" name="Branding Pattern" description="As a swift action, the cryptic can manipulate the pattern of one enemy to mark them as a ranged touch attack. Until the cryptics next turn, each time the cryptic makes a successful attack against that enemy, she deals an additional amount of hit point damage equal to her Intelligence modifier." compset="CustomSpec" uniqueness="unique">
    <usesource source="pPsiUn"/>
    <tag group="SpecSource" tag="cHelpPU1"/>
    <tag group="AbilType" tag="Super"/>
    <eval phase="Final" priority="10000"><![CDATA[field[abSumm].text = "'Mark' target with Ranged touch attack as swift action. Gain " & signed(#attrmod[aINT]) & " to damage against mark until next turn."]]></eval>
    </thing>
  <thing id="cPUInsBypa" name="Bypass Pattern" description="The cryptic learns how to temporarily displace a pattern without damaging it. As a standard action, the cryptic can treat one trap or lock as if it did not exist for a number of rounds equal to her Intelligence modifier, although the object to be affected must have a weight under 100 lbs and the cryptic must make a successful Disable Device check on the trap or lock to be affected. When the cryptic successfully uses this ability, her allies also ignore that trap or lock. After the effect expires, the lock or trap functions as normal, although if the trap would have been triggered due to the cryptic not returning everything to its original state, such as a trap triggered by a door opening, the trap immediately activates. Otherwise, the trap is left untriggered." compset="CustomSpec" uniqueness="unique">
    <usesource source="pPsiUn"/>
    <tag group="SpecSource" tag="cHelpPU1"/>
    <tag group="AbilType" tag="Super"/>
    </thing>
  <thing id="cPUInsClai" name="Claim Pattern" description="The cryptic can attune a trap to herself as a standard action and by making a successful Disable Device check against the traps DC, after which the trap only triggers when the cryptic decides it can be triggered. If the trap is attuned in a similar fashion to another creature, the cryptic must make a manifester level check against a DC of 11 + the current owners manifester level or the attunement fails. If the attunement is successful, the cryptic can trigger the trap as a swift action at any time in the future. A cryptic may only have one such attuned trap at any given time. The cryptic must be at least 8th level before selecting this insight." compset="CustomSpec" uniqueness="unique">
    <usesource source="pPsiUn"/>
    <tag group="SpecSource" tag="cHelpPU1"/>
    <tag group="AbilType" tag="Super"/>
    </thing>
  <thing id="cPUInsDisc" name="Discerning Pattern" description="When fighting a creature that is not of one of her active enemy types, she may attempt to identify that creature with a Knowledge check appropriate to the creatures type as a swift action; if successful, she may treat the creature as if it was one of her active enemy types until the target is dead or unconscious or until combat ends. The cryptic may only attempt to identify a creature in this way once per 24 hours." compset="CustomSpec" uniqueness="unique">
    <usesource source="pPsiUn"/>
    <tag group="SpecSource" tag="cHelpPU1"/>
    <tag group="AbilType" tag="Super"/>
    </thing>
  <thing id="cPUInsDisl" name="Dislocating Pattern" description="When a cryptic with this insight makes a successful disrupt pattern attack, she causes the target to take a -2 penalty to all attack rolls, damage rolls, skill checks, and saving throws until a successful DC 15 Heal check is made. A cryptic must be at least 8th level before selecting this insight." compset="CustomSpec" uniqueness="unique">
    <usesource source="pPsiUn"/>
    <tag group="SpecSource" tag="cHelpPU1"/>
    <tag group="AbilType" tag="Super"/>
    <prereq message="Cryptic level 8 or greater required for this Insight">
      <validate><![CDATA[        var classcheck as string
        var levels as number

        classcheck = "Cryptic"

        call PUPreReqs

        validif (levels >= 8)]]></validate>
      </prereq>
    </thing>
  <thing id="cPUInsDisr" name="Disrupted Healing" description="When a cryptic with this insight uses her disrupt pattern ability, if the creature struck is of her active type, any healing that creature receives for a number of rounds equal to the cryptics Intelligence modifier is reduced by half (minimum 1)." compset="CustomSpec" uniqueness="unique">
    <usesource source="pPsiUn"/>
    <tag group="SpecSource" tag="cHelpPU1"/>
    <tag group="AbilType" tag="Super"/>
    </thing>
  <thing id="cPUInsEffT" name="Efficient Trapsmith" description="When a cryptic with this insight constructs a mechanical trap, she only pays 75% of the normal cost. A cryptic must be at least 10th level before selecting this insight." compset="CustomSpec" uniqueness="unique">
    <usesource source="pPsiUn"/>
    <tag group="SpecSource" tag="cHelpPU1"/>
    <tag group="AbilType" tag="Extra"/>
    <prereq message="Cryptic level 10 or greater required for this Insight">
      <validate><![CDATA[        var classcheck as string
        var levels as number

        classcheck = "Cryptic"

        call PUPreReqs

        validif (levels >= 10)]]></validate>
      </prereq>
    </thing>
  <thing id="cPUInsEmpT" name="Empower Trap" description="The cryptic can, as a standard action, cause a traps effect to be empowered, dealing 50% additional damage when activated. This insight can only be used on traps that have not yet been activated and that the cryptic is aware of." compset="CustomSpec" uniqueness="unique">
    <usesource source="pPsiUn"/>
    <tag group="SpecSource" tag="cHelpPU1"/>
    <tag group="AbilType" tag="Super"/>
    <tag group="abAction" tag="Standard"/>
    </thing>
  <thing id="cPUInsEnhT" name="Enhance Tattoo" description="A number of times per day equal to her Intelligence modifier, the cryptic can cause any tattoo she taps to function at a manifester level equal to her class level." compset="CustomSpec" uniqueness="unique">
    <usesource source="pPsiUn"/>
    <tag group="SpecSource" tag="cHelpPU1"/>
    <tag group="AbilType" tag="Extra"/>
    </thing>
  <thing id="cPUInsEteT" name="Eternal Tattoo" description="If a cryptic taps a tattoo that she extends, the effects of that tattoo become permanent until she chooses to make another tattoo effect permanent. A cryptic must be at least 16th level and must possess the extend tattoo insight before selecting this insight." compset="CustomSpec" uniqueness="unique">
    <usesource source="pPsiUn"/>
    <tag group="SpecSource" tag="cHelpPU1"/>
    <tag group="AbilType" tag="Extra"/>
    <exprreq message="Extend Tattoo insight required."><![CDATA[#hasability[cPUInsExtT] >= 0]]></exprreq>
    <prereq message="Cryptic level 16 or greater required for this Insight">
      <validate><![CDATA[        var classcheck as string
        var levels as number

        classcheck = "Cryptic"

        call PUPreReqs

        validif (levels >= 16)]]></validate>
      </prereq>
    </thing>
  <thing id="cPUInsExtT" name="Extend Tattoo" description="A number of times per day equal to her Intelligence modifier, the cryptic can cause any tattoo she taps that does not have an instantaneous duration to function at twice its normal duration." compset="CustomSpec" uniqueness="unique">
    <usesource source="pPsiUn"/>
    <tag group="SpecSource" tag="cHelpPU1"/>
    <tag group="AbilType" tag="Extra"/>
    <tag group="User" tag="Tracker"/>
    <tag group="ChargeCalc" tag="AttrOnly"/>
    <tag group="ChargeAttr" tag="aINT"/>
    <tag group="Usage" tag="Day"/>
    </thing>
  <thing id="cPUInsExpP" name="Explosive Pattern" description="A cryptic with this insight can cause her disrupt pattern ability to explode upon impact. If the cryptics disrupt pattern attack successfully hits, it causes splash damage to nearby creatures. The splash damage is equal to the minimum damage of the disrupt pattern. A cryptic must be at least 6th level to select this insight." compset="CustomSpec" summary="Your Disrupt Pattern causes splash damage to nearby creatures." uniqueness="unique">
    <usesource source="pPsiUn"/>
    <tag group="SpecSource" tag="cHelpPU1"/>
    <tag group="AbilType" tag="Super"/>
    <tag group="ProductId" tag="HLCommunit"/>
    <eval phase="Final" priority="10050"><![CDATA[

      ~ Calculate total dice from
      ~ from Ehanced Disruption and Disrupt Pattern
      ~ Class Abilities
      field[abValue].value += hero.childfound[cPUDisPatt].field[abValue5].value
      field[abValue].value += #value3[cPUDisPatt]

      field[livename].text = field[name].text & " (" & field[abValue].value & " Splash)"]]></eval>
    <prereq message="Cryptic level 6 or greater required for this Insight">
      <validate><![CDATA[        var classcheck as string
        var levels as number

        classcheck = "Cryptic"

        call PUPreReqs

        validif (levels >= 6)]]></validate>
      </prereq>
    </thing>
  <thing id="cPUInsFold" name="Fold Trap" description="A cryptic can fold the pattern of a trap she has personally crafted, compressing the trap into a light-weight projectile which can be thrown at a later time. As a standard action, the cryptic can throw the folded trap at an unoccupied square up to 30 feet away. No attack roll is necessary and the trap is immediately unfolded and ready to be triggered as normal. The trap affected must have a CR no greater than half the cryptics level (minimum 1). A trap that has been folded cannot be folded again, even if it was not triggered after being thrown. The cryptic must have the Quick Trapsmith insight before selecting this insight." compset="CustomSpec" uniqueness="unique">
    <usesource source="pPsiUn"/>
    <tag group="SpecSource" tag="cHelpPU1"/>
    <tag group="AbilType" tag="Super"/>
    <exprreq message="QuickTrapsmith insight required."><![CDATA[#hasability[cPUInsQuiT] >= 0]]></exprreq>
    </thing>
  <thing id="cPUInsQuiT" name="Quick Trapsmith" description="As a full-round action, a cryptic with this talent can set a simple trap with a CR no greater than 1/2 her cryptic level. To do this, she must purchase the components, spend the required time constructing the trap in advance, and have its components at hand. The type of trap that can be constructed in this way is subject to GM discretion." compset="CustomSpec" uniqueness="unique">
    <usesource source="pPsiUn"/>
    <tag group="SpecSource" tag="cHelpPU1"/>
    <tag group="AbilType" tag="Extra"/>
    </thing>
  <thing id="cPUInsImpE" name="Improved Evasion" description="This works like evasion, except that while the cryptic still takes no damage on a successful Reflex saving throw against attacks, she henceforth takes only half damage on a failed save. A helpless cryptic does not gain the benefit of improved evasion. A cryptic must be at least 10th level before selecting this insight." compset="CustomSpec" summary="Take only half damage on a failed Reflex save." uniqueness="unique">
    <tag group="AbilType" tag="Extra" name="Extraordinary Ability" abbrev=" (Ex)"/>
    <tag group="Helper" tag="SpecUp" name="SpecUp" abbrev="SpecUp"/>
    <tag group="SpecType" tag="Defense" name="Defense" abbrev="Defense"/>
    <tag group="SpecSource" tag="cHelpPU1"/>
    <bootstrap thing="cImpEvas">
      <autotag group="ClSpecWhen" tag="10"/>
      <autotag group="AddReq" tag="ArmorLight"/>
      </bootstrap>
    <prereq message="You already have Improved Evasion, this ability would be redundant.">
      <validate><![CDATA[
        validif (@ispick <> 0)
        validif (hero.tagcount[HasAbility.cImpEvas] = 0)]]></validate>
      </prereq>
    <prereq message="Cryptic level 10 required.">
      <validate><![CDATA[        var classcheck as string
        var levels as number

        classcheck = "Cryptic"

        call PUPreReqs

        validif (levels >= 10)]]></validate>
      </prereq>
    </thing>
  <thing id="cPUInsJoin" name="Join Patterns" description="The cryptic links two creatures touched (or herself and another creature) as if affected by affinity field for a number of rounds equal to the cryptics Intelligence modifier. A cryptic must be at least 14th level before selecting this insight." compset="CustomSpec" summary="Take only half damage on a failed Reflex save." uniqueness="unique">
    <usesource source="pPsiUn"/>
    <tag group="AbilType" tag="Super"/>
    <tag group="SpecSource" tag="cHelpPU1"/>
    <prereq message="Cryptic level 14 required.">
      <validate><![CDATA[        var classcheck as string
        var levels as number

        classcheck = "Cryptic"

        call PUPreReqs

        validif (levels >= 14)]]></validate>
      </prereq>
    </thing>
  <thing id="cPUOnsLigB" name="Light-bending Pattern" description="The cryptic learns how to mask her pattern entirely. As a standard action, the cryptic can become invisible for one round per cryptic level. The effect ends as soon as the cryptic attacks any creature. This insight can be used a number of times per day equal to 3 + the Cryptics Intelligence modifier. A cryptic must be at least 10th level before selecting this insight." compset="CustomSpec" uniqueness="unique">
    <usesource source="pPsiUn"/>
    <tag group="SpecSource" tag="cHelpPU1"/>
    <tag group="AbilType" tag="Super"/>
    <tag group="User" tag="Tracker"/>
    <tag group="ChargeCalc" tag="AttrUses3"/>
    <tag group="ChargeAttr" tag="aINT"/>
    <tag group="Usage" tag="Day"/>
    <prereq message="Cryptic level 10 or greater required for this Insight">
      <validate><![CDATA[        var classcheck as string
        var levels as number

        classcheck = "Cryptic"

        call PUPreReqs

        validif (levels >= 10)]]></validate>
      </prereq>
    </thing>
  <thing id="cPUInsQuiD" name="Quick Disable" description="It takes a cryptic with this ability half the normal amount of time to disable a trap using the Disable Device skill (minimum 1 round)." compset="CustomSpec" uniqueness="unique">
    <usesource source="pPsiUn"/>
    <tag group="SpecSource" tag="cHelpPU1"/>
    <tag group="AbilType" tag="Extra"/>
    </thing>
  <thing id="cPUInsAlar" name="Ranger Trap (Alarm Trap)" description="A cryptic with this insight learns how to create one ranger trap (see below) of her choice. The DC for the trap is equal to 10 + 1/2 the cryptics class level + the cryptics Intelligence bonus, and it lasts 1 day per two cryptic levels. The cryptic may set either extraordinary or supernatural traps. The cryptic may use ranger traps a number of times per day equal to 1/2 her cryptic level plus her Intelligence bonus. The cryptic must be at least 6th level before selecting this insight. This insight may be selected multiple times; each time, the cryptic selects another ranger trap to learn to create.\n\n{i}Alarm Trap (Ex or Su): (Modifies another trap){/i} When the trap is triggered, it also creates a momentary loud noise equivalent to the audible alarm version of alarm.." compset="CustomSpec" uniqueness="unique">
    <usesource source="pPsiUn"/>
    <tag group="SpecSource" tag="cHelpPU1"/>
    <tag group="AbilType" tag="Super"/>
    <prereq message="Cryptic level 6 or greater required for this Insight">
      <validate><![CDATA[        var classcheck as string
        var levels as number

        classcheck = "Cryptic"

        call PUPreReqs

        validif (levels >= 6)]]></validate>
      </prereq>
    </thing>
  <thing id="cPUInsBurn" name="Ranger Trap (Burning Trap)" description="A cryptic with this insight learns how to create one ranger trap (see below) of her choice. The DC for the trap is equal to 10 + 1/2 the cryptics class level + the cryptics Intelligence bonus, and it lasts 1 day per two cryptic levels. The cryptic may set either extraordinary or supernatural traps. The cryptic may use ranger traps a number of times per day equal to 1/2 her cryptic level plus her Intelligence bonus. The cryptic must be at least 6th level before selecting this insight. This insight may be selected multiple times; each time, the cryptic selects another ranger trap to learn to create.\n\n{i}Burning Trap (Ex or Su): (Modifies another trap){/i} A ranger can only add this to a fire trap. If the triggering creature fails its Reflex save, it catches on fire, taking 1d6 points of fire damage at the start of its turn for 1d4 rounds. The burning creature can attempt a new save as a full-round action. Dropping and rolling on the ground grants a +4 bonus on this save." compset="CustomSpec" uniqueness="unique">
    <usesource source="pPsiUn"/>
    <tag group="SpecSource" tag="cHelpPU1"/>
    <tag group="AbilType" tag="Super"/>
    <prereq message="Cryptic level 6 or greater required for this Insight">
      <validate><![CDATA[        var classcheck as string
        var levels as number

        classcheck = "Cryptic"

        call PUPreReqs

        validif (levels >= 6)]]></validate>
      </prereq>
    </thing>
  <thing id="cPUInsExpl" name="Ranger Trap (Exploding Trap)" description="A cryptic with this insight learns how to create one ranger trap (see below) of her choice. The DC for the trap is equal to 10 + 1/2 the cryptics class level + the cryptics Intelligence bonus, and it lasts 1 day per two cryptic levels. The cryptic may set either extraordinary or supernatural traps. The cryptic may use ranger traps a number of times per day equal to 1/2 her cryptic level plus her Intelligence bonus. The cryptic must be at least 6th level before selecting this insight. This insight may be selected multiple times; each time, the cryptic selects another ranger trap to learn to create.\n\n{i}Exploding Trap (Ex or Su): (Modifies another trap){/i} A ranger can only add this to a fire trap. The trap explodes in fire, filling all squares adjacent to the trap and dealing a number of points of fire damage equal to 1d6 + 1/2 the rangers level (Reflex negates). If it is an extraordinary trap, the ranger must use an explosive material such as alchemists fire when setting the trap." compset="CustomSpec" uniqueness="unique">
    <usesource source="pPsiUn"/>
    <tag group="SpecSource" tag="cHelpPU1"/>
    <tag group="AbilType" tag="Super"/>
    <prereq message="Cryptic level 6 or greater required for this Insight">
      <validate><![CDATA[        var classcheck as string
        var levels as number

        classcheck = "Cryptic"

        call PUPreReqs

        validif (levels >= 6)]]></validate>
      </prereq>
    </thing>
  <thing id="cPUInsFire" name="Ranger Trap (Fire Trap)" description="A cryptic with this insight learns how to create one ranger trap (see below) of her choice. The DC for the trap is equal to 10 + 1/2 the cryptics class level + the cryptics Intelligence bonus, and it lasts 1 day per two cryptic levels. The cryptic may set either extraordinary or supernatural traps. The cryptic may use ranger traps a number of times per day equal to 1/2 her cryptic level plus her Intelligence bonus. The cryptic must be at least 6th level before selecting this insight. This insight may be selected multiple times; each time, the cryptic selects another ranger trap to learn to create.\n\n{i}Fire Trap (Ex or Su):{/i} The trap explodes in flames, dealing a number of points of fire damage equal to 1d6 + 1/2 the rangers level to the triggering creature (Reflex negates). If it is an extraordinary trap, the ranger must use an explosive\nmaterial such as alchemists fire when setting the trap." compset="CustomSpec" uniqueness="unique">
    <usesource source="pPsiUn"/>
    <tag group="SpecSource" tag="cHelpPU1"/>
    <tag group="AbilType" tag="Super"/>
    <prereq message="Cryptic level 6 or greater required for this Insight">
      <validate><![CDATA[        var classcheck as string
        var levels as number

        classcheck = "Cryptic"

        call PUPreReqs

        validif (levels >= 6)]]></validate>
      </prereq>
    </thing>
  <thing id="cPUInsFree" name="Ranger Trap (Freezing Trap)" description="A cryptic with this insight learns how to create one ranger trap (see below) of her choice. The DC for the trap is equal to 10 + 1/2 the cryptics class level + the cryptics Intelligence bonus, and it lasts 1 day per two cryptic levels. The cryptic may set either extraordinary or supernatural traps. The cryptic may use ranger traps a number of times per day equal to 1/2 her cryptic level plus her Intelligence bonus. The cryptic must be at least 6th level before selecting this insight. This insight may be selected multiple times; each time, the cryptic selects another ranger trap to learn to create.\n\n{i}Freezing Trap (Su):{/i} The trap creates a burst of ice that damages and encases the triggering creature. The creature takes 1d3 points of cold damage + 1/4 the rangers level and is entangled and stuck to the ground, similar to the effect of a tanglefoot bag. A successful Reflex save halves the damage and means the creature is not stuck to the floor by the ice. The ice is 1 inch thick per 2 Hit Dice of the ranger (minimum 1), has hardness 0 and 3 hit points per inch of thickness, and melts in 2d4 rounds." compset="CustomSpec" uniqueness="unique">
    <usesource source="pPsiUn"/>
    <tag group="SpecSource" tag="cHelpPU1"/>
    <tag group="AbilType" tag="Super"/>
    <prereq message="Cryptic level 6 or greater required for this Insight">
      <validate><![CDATA[        var classcheck as string
        var levels as number

        classcheck = "Cryptic"

        call PUPreReqs

        validif (levels >= 6)]]></validate>
      </prereq>
    </thing>
  <thing id="cPUInsMark" name="Ranger Trap (Marking Trap)" description="A cryptic with this insight learns how to create one ranger trap (see below) of her choice. The DC for the trap is equal to 10 + 1/2 the cryptics class level + the cryptics Intelligence bonus, and it lasts 1 day per two cryptic levels. The cryptic may set either extraordinary or supernatural traps. The cryptic may use ranger traps a number of times per day equal to 1/2 her cryptic level plus her Intelligence bonus. The cryptic must be at least 6th level before selecting this insight. This insight may be selected multiple times; each time, the cryptic selects another ranger trap to learn to create.\n\n{i}Marking Trap (Ex or Su): (Modifies another trap){/i} If the triggering creature fails its save against the trap, it is marked with a dye and/or scent of the rangers choosing. A scent mark decreases the DC of tracking the marked creature by scent by 4. The mark can be washed off with vigorous scrubbing, but fades on its own over several days." compset="CustomSpec" uniqueness="unique">
    <usesource source="pPsiUn"/>
    <tag group="SpecSource" tag="cHelpPU1"/>
    <tag group="AbilType" tag="Super"/>
    <prereq message="Cryptic level 6 or greater required for this Insight">
      <validate><![CDATA[        var classcheck as string
        var levels as number

        classcheck = "Cryptic"

        call PUPreReqs

        validif (levels >= 6)]]></validate>
      </prereq>
    </thing>
  <thing id="cPUInsPois" name="Ranger Trap (Poison Trap)" description="A cryptic with this insight learns how to create one ranger trap (see below) of her choice. The DC for the trap is equal to 10 + 1/2 the cryptics class level + the cryptics Intelligence bonus, and it lasts 1 day per two cryptic levels. The cryptic may set either extraordinary or supernatural traps. The cryptic may use ranger traps a number of times per day equal to 1/2 her cryptic level plus her Intelligence bonus. The cryptic must be at least 6th level before selecting this insight. This insight may be selected multiple times; each time, the cryptic selects another ranger trap to learn to create.\n\n{i}Poison Trap (Ex or Su):{/i} The trap poisons the creature that triggers it. If it is a supernatural trap, the poison deals 1d2 Con damage per round for 6 rounds. If it is an extraordinary trap, the ranger must provide 1 dose of contact, inhaled, or injury poison when setting the trap, and the trap uses that poisons effects and DC." compset="CustomSpec" uniqueness="unique">
    <usesource source="pPsiUn"/>
    <tag group="SpecSource" tag="cHelpPU1"/>
    <tag group="AbilType" tag="Super"/>
    <prereq message="Cryptic level 6 or greater required for this Insight">
      <validate><![CDATA[        var classcheck as string
        var levels as number

        classcheck = "Cryptic"

        call PUPreReqs

        validif (levels >= 6)]]></validate>
      </prereq>
    </thing>
  <thing id="cPUInsSlee" name="Ranger Trap (Sleet Trap)" description="A cryptic with this insight learns how to create one ranger trap (see below) of her choice. The DC for the trap is equal to 10 + 1/2 the cryptics class level + the cryptics Intelligence bonus, and it lasts 1 day per two cryptic levels. The cryptic may set either extraordinary or supernatural traps. The cryptic may use ranger traps a number of times per day equal to 1/2 her cryptic level plus her Intelligence bonus. The cryptic must be at least 6th level before selecting this insight. This insight may be selected multiple times; each time, the cryptic selects another ranger trap to learn to create.\n\n{i}Sleet Trap (Ex or Su):{/i} The detonating trap creates a 20-foot-radius burst of sleet with the effects of a sleet storm. The driving sleet lasts for 1 round, but the icy ground persists for 1 round per ranger level." compset="CustomSpec" uniqueness="unique">
    <usesource source="pPsiUn"/>
    <tag group="SpecSource" tag="cHelpPU1"/>
    <tag group="AbilType" tag="Super"/>
    <prereq message="Cryptic level 6 or greater required for this Insight">
      <validate><![CDATA[        var classcheck as string
        var levels as number

        classcheck = "Cryptic"

        call PUPreReqs

        validif (levels >= 6)]]></validate>
      </prereq>
    </thing>
  <thing id="cPUInsSnar" name="Ranger Trap (Snare Trap)" description="A cryptic with this insight learns how to create one ranger trap (see below) of her choice. The DC for the trap is equal to 10 + 1/2 the cryptics class level + the cryptics Intelligence bonus, and it lasts 1 day per two cryptic levels. The cryptic may set either extraordinary or supernatural traps. The cryptic may use ranger traps a number of times per day equal to 1/2 her cryptic level plus her Intelligence bonus. The cryptic must be at least 6th level before selecting this insight. This insight may be selected multiple times; each time, the cryptic selects another ranger trap to learn to create.\n\n{i}Snare Trap (Ex or Su):{/i} The trap constricts around a limb or other part of the triggering creatures body (Reflex avoids). The creature cannot move from the location of the trap, unless the ranger included a leash when setting the trap, in which case the creature is limited to the length of the leash. The trapped creature can escape with an Escape Artist check (DC equal to the traps DC) as a full-round action. The trap or its leash has a number of hit points equal to 1/2 the rangers level, or can be burst as a full-round action with a DC 25 Strength check. The trap can hold up to a Medium creature; each extra daily use of the rangers trap ability spent when the trap is set increases the maximum size of creature the trap can hold. At the rangers option, if there is a tall object or structure nearby, she can have the trap lift the creature." compset="CustomSpec" uniqueness="unique">
    <usesource source="pPsiUn"/>
    <tag group="SpecSource" tag="cHelpPU1"/>
    <tag group="AbilType" tag="Super"/>
    <prereq message="Cryptic level 6 or greater required for this Insight">
      <validate><![CDATA[        var classcheck as string
        var levels as number

        classcheck = "Cryptic"

        call PUPreReqs

        validif (levels >= 6)]]></validate>
      </prereq>
    </thing>
  <thing id="cPUInsSwar" name="Ranger Trap (Swarm Trap)" description="A cryptic with this insight learns how to create one ranger trap (see below) of her choice. The DC for the trap is equal to 10 + 1/2 the cryptics class level + the cryptics Intelligence bonus, and it lasts 1 day per two cryptic levels. The cryptic may set either extraordinary or supernatural traps. The cryptic may use ranger traps a number of times per day equal to 1/2 her cryptic level plus her Intelligence bonus. The cryptic must be at least 6th level before selecting this insight. This insight may be selected multiple times; each time, the cryptic selects another ranger trap to learn to create.\n\n{i}Swarm Trap (Ex or Su):{/i} The trap releases a bat swarm, rat swarm, or spider swarm that attacks all creatures in the area. The swarm remains in the general area for no longer than 1 round per ranger level, after which it disperses. If the trap is an extraordinary trap, the ranger must provide the creatures of the swarm (typically in a small box, cage, or crate); these creatures may die of starvation before the trap is triggered (an extraordinary trap lasts 1 day per level)." compset="CustomSpec" uniqueness="unique">
    <usesource source="pPsiUn"/>
    <tag group="SpecSource" tag="cHelpPU1"/>
    <tag group="AbilType" tag="Super"/>
    <prereq message="Cryptic level 6 or greater required for this Insight">
      <validate><![CDATA[        var classcheck as string
        var levels as number

        classcheck = "Cryptic"

        call PUPreReqs

        validif (levels >= 6)]]></validate>
      </prereq>
    </thing>
  <thing id="cPUInsRebP" name="Rebuild Pattern" description="Once per day, the cryptic can restore the pattern of a slain creature. The target is brought back to life as if the cryptic had used psionic revivify, but with 1 hit point instead of -1 hit points. A cryptic must be at least 16th level before selecting this insight." compset="CustomSpec" uniqueness="unique">
    <usesource source="pPsiUn"/>
    <tag group="SpecSource" tag="cHelpPU1"/>
    <tag group="AbilType" tag="PsiLike"/>
    <prereq message="Cryptic level 16 or greater required for this Insight">
      <validate><![CDATA[        var classcheck as string
        var levels as number

        classcheck = "Cryptic"

        call PUPreReqs

        validif (levels >= 16)]]></validate>
      </prereq>
    </thing>
  <thing id="cPUInsRecP" name="Recognize Pattern" description="A cryptic with this insight can recognize and prepare against the same behavior from creatures. Any time the cryptic is subjected to the same effect or combat maneuver by the same creature, she gains a bonus against that effects saving throw (if any) or to her CMD equal to half her class level (minimum 1). The effect or combat maneuver must have previously been used against the cryptic within a number of rounds equal to her Intelligence modifier (minimum 1)." compset="CustomSpec" uniqueness="unique">
    <usesource source="pPsiUn"/>
    <tag group="SpecSource" tag="cHelpPU1"/>
    <tag group="AbilType" tag="Extra"/>
    </thing>
  <thing id="cPUInsRefP" name="Reforming Pattern" description="A cryptic with this insight has learned to modify her own pattern so it will reform if she is killed. The cryptic must make an anchor pattern to activate this ability, a process which takes 24 hours of uninterrupted concentration. When the cryptic is slain, she can reform as if affected by astral seed, although she suffers two permanent negative levels once her physical body is reformed and the storage crystal is formed at the site of the anchor pattern. The cryptic may only have one such anchor pattern at any given time and it lasts a number of days equal to her Intelligence modifier. A cryptic must be at least 16th level before selecting this insight." compset="CustomSpec" uniqueness="unique">
    <usesource source="pPsiUn"/>
    <tag group="SpecSource" tag="cHelpPU1"/>
    <tag group="AbilType" tag="Super"/>
    <prereq message="Cryptic level 16 or greater required for this Insight">
      <validate><![CDATA[        var classcheck as string
        var levels as number

        classcheck = "Cryptic"

        call PUPreReqs

        validif (levels >= 16)]]></validate>
      </prereq>
    </thing>
  <thing id="cPUInsRedi" name="Redirect Trap" description="A cryptic with this pattern has learned how to alter the pattern of reality to psychoportively redirect the effect of a trap. As a standard action, the cryptic can redirect the effect of a trap that the cryptic has claimed by Claim Pattern. The effect can be redirected up 60 ft. away from the location of the trap. The destination must still be in the cryptics line of sight and this insight cannot be used on pit traps. A cryptic must have the Claim Pattern insight and be at least 10th level before selecting this insight." compset="CustomSpec" uniqueness="unique">
    <usesource source="pPsiUn"/>
    <tag group="SpecSource" tag="cHelpPU1"/>
    <tag group="AbilType" tag="Super"/>
    <tag group="abAction" tag="Standard"/>
    <prereq message="Cryptic level 10 or greater required for this Insight">
      <validate><![CDATA[        var classcheck as string
        var levels as number

        classcheck = "Cryptic"

        call PUPreReqs

        validif (levels >= 10)]]></validate>
      </prereq>
    </thing>
  <thing id="cPUInsRepa" name="Repair Pattern" description="A number of times per day equal to the cryptics Intelligence modifier, she can heal one creature touched for a number of hit points equal to her class level plus her Intelligence modifier. This can alternatively be used on a non-magical object, repairing the item instead of healing a creature. A cryptic must be at least 6th level before selecting this insight." compset="CustomSpec" uniqueness="unique">
    <usesource source="pPsiUn"/>
    <tag group="SpecSource" tag="cHelpPU1"/>
    <tag group="AbilType" tag="Super"/>
    <prereq message="Cryptic level 6 or greater required for this Insight">
      <validate><![CDATA[        var classcheck as string
        var levels as number

        classcheck = "Cryptic"

        call PUPreReqs

        validif (levels >= 6)]]></validate>
      </prereq>
    </thing>
  <thing id="cPUInsShat" name="Shatter Pattern" description="The cryptic learns how to break a minor pattern with her touch, allowing her to destroy a non-magical unattended item with hit points equal to double the cryptics level. This effect ignores any hardness the object might have. The cryptic may attempt to use this insight on an attended object, but doing so provokes attacks of opportunity and she must make a successful touch attack with a -4 penalty against the targets touch AC." compset="CustomSpec" uniqueness="unique">
    <usesource source="pPsiUn"/>
    <tag group="SpecSource" tag="cHelpPU1"/>
    <tag group="AbilType" tag="Super"/>
    </thing>
  <thing id="cPUInsShin" name="Shining Pattern" description="When a cryptic with this insight makes a successful disrupt pattern attack, all creatures within 15 ft. of the creature struck must make a Fortitude save (DC 10 + 1/2 the cryptics level + the cryptics Intelligence modifier) or be blinded for 1 round. A cryptic must be at least 8th level before selecting this ability." compset="CustomSpec" uniqueness="unique">
    <usesource source="pPsiUn"/>
    <tag group="SpecSource" tag="cHelpPU1"/>
    <tag group="AbilType" tag="Super"/>
    <prereq message="Cryptic level 6 or greater required for this Insight">
      <validate><![CDATA[        var classcheck as string
        var levels as number

        classcheck = "Cryptic"

        call PUPreReqs

        validif (levels >= 6)]]></validate>
      </prereq>
    </thing>
  <thing id="cPUInsSoci" name="Social Pattern" description="The cryptic develops a deeper knowledge of patterns of speech, behavior, and deception. The Cryptic adds Bluff and Diplomacy to her list of class skills and gains a +2 bonus to Diplomacy checks to improve initial reaction attitudes." compset="CustomSpec" uniqueness="unique">
    <usesource source="pPsiUn"/>
    <tag group="SpecSource" tag="cHelpPU1"/>
    <tag group="AbilType" tag="Extra"/>
    </thing>
  <thing id="cPUInsSteT" name="Steal Tattoo" description="A cryptic with this insight can attempt to steal the psionic tattoo of a creature within 30 ft. by making a ranged touch attack against that creature. If the attack is successful, the cryptic makes a manifester level check against a DC of 11 + manifester level of the psionic tattoo. If the check is successful, the psionic tattoo is immediately teleported onto the cryptics body. The cryptic must have space on her body for an additional psionic tattoo or this ability automatically fails." compset="CustomSpec" uniqueness="unique">
    <usesource source="pPsiUn"/>
    <tag group="SpecSource" tag="cHelpPU1"/>
    <tag group="AbilType" tag="Super"/>
    </thing>
  <thing id="cPUInsSumm" name="Summoning Pattern" description="A cryptic with this insight learns how to create a unique pattern at her current location as a full-round action and then to send a creature to that pattern at a later time by making a touch attack as a standard action. Unwilling creatures may make a Fortitude save (DC 10 +  the cryptics class level + the cryptics Ingelligence bonus) to negate this effect. The pattern created in this way lasts for a number of days equal to the cryptics Intelligence modifier, although a cryptic may only have one such pattern active at any time. The cryptic and the creature to be affected must be on the same plane of existence as the pattern to send a creature to it. A cryptic may use this insight on herself. A cryptic must be at least 12th level before selecting this insight." compset="CustomSpec" uniqueness="unique">
    <usesource source="pPsiUn"/>
    <tag group="SpecSource" tag="cHelpPU1"/>
    <tag group="AbilType" tag="Super"/>
    <tag group="StandardDC" tag="aINT"/>
    <prereq message="Cryptic level 12 or greater required for this Insight">
      <validate><![CDATA[        var classcheck as string
        var levels as number

        classcheck = "Cryptic"

        call PUPreReqs

        validif (levels >= 12)]]></validate>
      </prereq>
    </thing>
  <thing id="cPUInsSwiT" name="Swift Trigger" description="A cryptic with this insight can use a swift action to set off any trap within 30 feet that she constructed." compset="CustomSpec" uniqueness="unique">
    <usesource source="pPsiUn"/>
    <tag group="SpecSource" tag="cHelpPU1"/>
    <tag group="AbilType" tag="Extra"/>
    </thing>
  <thing id="cPUInsThro" name="Throw Pattern" description="The cryptic learns how to throw a link to her own pattern, giving her the ability to teleport up to 50 ft at will as a standard action. A cryptic must be at least 12th level before selecting this insight." compset="CustomSpec" uniqueness="unique">
    <usesource source="pPsiUn"/>
    <tag group="SpecSource" tag="cHelpPU1"/>
    <tag group="AbilType" tag="Super"/>
    <prereq message="Cryptic level 12 or greater required for this Insight">
      <validate><![CDATA[        var classcheck as string
        var levels as number

        classcheck = "Cryptic"

        call PUPreReqs

        validif (levels >= 12)]]></validate>
      </prereq>
    </thing>
  <thing id="cPUInsTraS" name="Trap Spotter" description="Whenever a cryptic with this insight comes within 10 feet of a trap, she receives an immediate Perception skill check to notice the trap. This check should be made in secret by the GM." compset="CustomSpec" uniqueness="unique">
    <usesource source="pPsiUn"/>
    <tag group="SpecSource" tag="cHelpPU1"/>
    <tag group="AbilType" tag="Extra"/>
    </thing>
  <thing id="cPUSInAwak" name="Awakened Insight" description="The cryptics constant efforts to understand the patterns of the world around her expanded her mind. Her Intelligence score permanently increases by 2 points." compset="CustomSpec" summary="Permanent +2 to INT" uniqueness="unique">
    <usesource source="pPsiUn"/>
    <tag group="SpecSource" tag="cHelpPU1"/>
    <tag group="Helper" tag="Secondary"/>
    <eval phase="PreLevel" priority="5000">hero.child[aINT].field[Bonus].value += 2

~ add to our languages known
herofield[tLangsSpk].value += 1</eval>
    </thing>
  <thing id="cPUSinDisV" name="Discerning Vision" description="The cryptic sees all things as they truly are and is always treated as if under the effect of pierce the veils. In addition, the cryptic automatically succeeds on any saving throw against spells or powers of 8th level or lower that deal with modifying vision or some sort of visual pattern, such as symbol of pain." compset="CustomSpec" uniqueness="unique">
    <usesource source="pPsiUn"/>
    <tag group="SpecSource" tag="cHelpPU1"/>
    <tag group="Helper" tag="Secondary"/>
    </thing>
  <thing id="cPUSInEteP" name="Eternal Pattern" description="The cryptic has discovered how to fix her physical pattern into its prime state, and from this point forward she takes no penalty to her physical ability scores from advanced age. If the cryptic is already taking such penalties, they are removed at this time. A cryptic with this insight does not die from old age." compset="CustomSpec" uniqueness="unique">
    <usesource source="pPsiUn"/>
    <tag group="SpecSource" tag="cHelpPU1"/>
    <tag group="Helper" tag="Secondary"/>
    </thing>
  <thing id="cPUSInGreD" name="Greater Disruption" description="The cryptics ability to disrupt patterns has become exceptionally advanced. When using the disrupt pattern ability, the cryptic adds 1 additional damage per die of damage rolled. In addition, the cryptic has learned how to channel her psionic power into the disruption, allowing her to spend 4 power points and expend her psionic focus when using her disrupt pattern ability to maximize the damage of that attack." compset="CustomSpec" uniqueness="unique">
    <usesource source="pPsiUn"/>
    <tag group="SpecSource" tag="cHelpPU1"/>
    <tag group="Helper" tag="Secondary"/>
    <tag group="abAction" tag="PUExpFocus"/>
    <eval phase="Final" priority="9000"><![CDATA[
      ~ If we're not shown, just get out now
      doneif (tagis[Helper.ShowSpec] <> 1)
      ~ if we've been disabled, get out now
      doneif (tagis[Helper.SpcDisable] <> 0)

      ~NOTE:
      ~abValue[cPUDisPatt] holds the number of dice
      ~abValue2[cPUDisPatt] holds the dice size
      ~abValue3[cPUDisPatt] holds any plus damage bonus
      ~abValue5[cPUDisPatt] holds total dice of damage which
      ~ is needed for feats and custom abilities.

      ~ Give bonus damage based on the number of dice
      ~ from Ehanced Disruption and Disrupt Pattern
      ~ Class Abilities
      #value3[cPUDisPatt] += #value[cPUEnhDisr] + #value[cPUDisPatt]]]></eval>
    </thing>
  <thing id="cPUSInPerD" name="Personal Design" description="The cryptic increases the maximum number of psionic tattoos she can have on her body to thirty. In addition, the cryptic automatically identifies any visible psionic tattoos on other creatures. Finally, as an immediate action that does not provoke attacks of opportunity, the cryptic can activate any psionic tattoo on her body." compset="CustomSpec" uniqueness="unique">
    <usesource source="pPsiUn"/>
    <tag group="SpecSource" tag="cHelpPU1"/>
    <tag group="Helper" tag="Secondary"/>
    </thing>
  <thing id="cPUSInSecK" name="Secret Knowledge" description="The cryptic discovers a series of patterns previously outside of her perception. The Cryptic learns two powers of 6th level or lower from the cryptic or psion/wilder power list. In addition, the cryptics Intelligence modifier is treated as 4 higher when determining her power points per day." compset="CustomSpec" uniqueness="unique">
    <usesource source="pPsiUn"/>
    <tag group="SpecSource" tag="cHelpPU1"/>
    <tag group="Helper" tag="Secondary"/>
    </thing>
  <thing id="cPUSInTouP" name="Toughened Pattern" description="The cryptic has learned to solidify her own pattern against physical attacks, gaining a +4 bonus to her natural armor bonus." compset="CustomSpec" uniqueness="unique">
    <fieldval field="abValue" value="4"/>
    <usesource source="pPsiUn"/>
    <tag group="Helper" tag="Secondary"/>
    <tag group="SpecSource" tag="cHelpPU1"/>
    <eval phase="PostLevel" priority="10000">hero.childfound[mNatural].field[Bonus].value += field[abValue].value</eval>
    </thing>
  <thing id="cPUSInUnrP" name="Unravel Pattern" description="Once per day, the cryptic can permanently unravel a creature or objects pattern as a ranged touch attack. The creature or object struck must make a Fortitude save (DC 20 + the cryptics Intelligence modifier) or be destroyed. The target must have 150 or fewer current hit points or this ability has no effect. Creatures killed in this manner leave behind no trace of their body. This is considered a death effect." compset="CustomSpec" uniqueness="unique">
    <usesource source="pPsiUn"/>
    <tag group="SpecSource" tag="cHelpPU1"/>
    <tag group="Helper" tag="Secondary"/>
    </thing>
  <thing id="cPUFearIns" name="Fearsome Insight" description="The dreads connection to the fears and the subconscious grows and she gains a greater understanding of the mental faculties which regulate fear. This translates into an insight bonus to Intimidate equal to half her class level (minimum +1)." compset="ClSpecial" summary="+ CL/2 (Minimum 1) Insight bonus to Intimidate.">
    <usesource source="pPsiUn"/>
    <eval phase="PreLevel" priority="5000"><![CDATA[var MyBonus as number

field[abValue].value += round(#levelcount[Dread]/2,0,1)

MyBonus += field[abValue].value
#applybonus[BonInsight,hero.childfound[skIntim],MyBonus]

field[abSumm].text = "+" & MyBonus & " Insight bonus to Intimidate."]]></eval>
    </thing>
  <thing id="cPUDevaTou" name="Devastating Touch" description="A dread is able to channel psionic energy from fear and nightmares into a touch that causes pain. To use this ability, a dread must make a melee touch attack as a standard action on a living target. If the attack hits, it deals 1d6 points of damage plus 1 point per class level. The dread does not add his Strength modifier to the damage of this attack." compset="ClSpecial">
    <usesource source="pPsiUn"/>
    <tag group="AbilType" tag="Super"/>
    <eval phase="Final" priority="10000"><![CDATA[
      ~ Set the list name
      field[listname].text = field[name].text & " (" & field[xIndex].value & "d6+" & field[xTotalLev].value & ")"

      ~ If we've been Disabled, get out now
      doneif (tagis[Helper.SpcDisable] <> 0)
      ~ If we're not shown, just get out now
      doneif (tagis[Helper.ShowSpec] = 0)

      field[abValue].value += field[xCount].value

      field[livename].text = field[name].text & " (" & field[abValue].value & "d6+" & field[xTotalLev].value & ")"]]></eval>
    </thing>
  <thing id="cPUAuraFea" name="Aura of Fear" description="At 3rd level, a dread radiates a palpably daunting aura that causes all enemies within 10 feet to take a 4 penalty on saving throws against fear effects. Creatures that are normally immune to fear lose that immunity while within 10 feet of a dread with this ability. This ability functions only while the dread remains conscious, not if she is unconscious or dead." compset="ClSpecial">
    <usesource source="pPsiUn"/>
    <tag group="AbilType" tag="Super"/>
    </thing>
  <thing id="cPUChanTer" name="Channel Terror" description="At 3rd level, the dread learns how to channel her terrors through any melee weapon she is holding or through her devastating touch class feature, even if using devastating touch as a ranged attack (such as through the mindlock terror). If channeling a terror through a weapon, it does not gain the benefits of the devastating touch ability." compset="ClSpecial">
    <usesource source="pPsiUn"/>
    <tag group="AbilType" tag="Super"/>
    </thing>
  <thing id="cPUImmFear" name="Immersed in Fear" description="At 7th level, the dread gains immunity to fear (psionic or otherwise). This ability functions whether the dread is conscious or unconscious, but not when she is dead." compset="ClSpecial">
    <usesource source="pPsiUn"/>
    <tag group="AbilType" tag="Super"/>
    <tag group="Helper" tag="SpecUp"/>
    <bootstrap thing="xImmFear">
      <containerreq phase="First" priority="500"><![CDATA[(count:Classes.Oracle + count:Classes.RageProph + (count:Classes.? - count:Classes.Oracle - count:Classes.RageProph)/2 >= 5) & !AbReplace.cOraImmSic]]></containerreq>
      </bootstrap>
    <eval phase="First" priority="1000"><![CDATA[if (hero.picklives[xImmFear] <> 0) then
  perform hero.childfound[xImmFear].tagreplace[AbilType.?,AbilType.Super]
endif]]></eval>
    </thing>
  <thing id="cPUDreTal" name="Talents" description="Dreads learn minor powers they can use at will to aid them in a variety of ways. The dread gains 2 talents from the dread talent list." compset="ClSpecial">
    <usesource source="pPsiUn"/>
    <tag group="Helper" tag="SpecUp"/>
    </thing>
  <thing id="cPUShaTwin" name="Shadow Twin" description="A dread of 11th level is able to draw forth a replica of herself formed from fears and nightmares. The shadow twin appears at a location chosen by the dread that is within 30 ft. and lasts for one round per class level. The dread and this shadow twin are, for all intents and purposes, one person - including only having one rounds worth of actions to use between the two, sharing attacks of opportunity, sharing a single pool of hit points and power points, and having access to all of the same abilities and daily uses of those abilities. If the shadow twin is damaged or healed, the dread takes the damage or healing, and vice versa. If both the dread and the shadow twin are affected by the same area of effect, damage is only counted once.\n\nIf the shadow twin attacks, it uses the dreads attack values. The shadow twin can threaten squares and has all the same equipment as the dread, but charged items or items with limited uses per day have their uses shared between the two. Any permanent magic items are also active on the shadow twin.\n\nThe shadow twin can allow the dread to flank an enemy, make attacks of opportunity she wouldnt normally be able to do, extend the range for a power or mindlock, or just scout ahead.\n\nEffects, both beneficial and detrimental, that affect the dread also affect the shadow twin, and vice versa. The shadow twin must stay within 30 ft. of the dread or the effect immediately ends.\n\nA dread can use shadow twin a number of times per day equal to his Charisma modifier.\n\nAt 15th level, the shadow twin must stay within 100 ft. of the dread before the effect ends.\n\nAt 19th level, the shadow twin must stay within 400 ft. of the dread before the effect ends." compset="ClSpecial" summary="Form shadowy replica from the fears and nightmares.">
    <usesource source="pPsiUn"/>
    <tag group="AbilType" tag="Super"/>
    <tag group="User" tag="Tracker"/>
    <tag group="ChargeAttr" tag="aCHA"/>
    <tag group="Usage" tag="Day"/>
    <tag group="ChargeCalc" tag="AttrOnly"/>
    <eval phase="PostLevel" priority="10000"><![CDATA[var myCnt as number
var myRng as number
var myTimes as number

myCnt = field[xIndex].value

if (myCnt = 1) then
  myRng  = 30
elseif (myCnt = 2) then
  myRng  = 100
elseif (myCnt = 3) then
  myRng  = 400
endif

field[listname].text = "Shadow Twin (" & myRng & "')"

~These calculations should only happen for the first copy
doneif (tagis[Helper.FirstCopy] = 0)

~ If we're not shown, just get out now
doneif (tagis[Helper.ShowSpec] = 0)

field[abValue].value += myRng

field[CustDesc].text = "Shadow Twin (" & field[abValue].value & "')"]]></eval>
    </thing>
  <thing id="cPUTwinFea" name="Twin Fear" description="When a dread of at least 11th level has a shadow twin active, if any creature within 30 ft. of the dread or the shadow twin suffers from the shaken, frightened, or panicked condition at the start of the dreads turn, the shadow twin uses a separate action pool instead of sharing the rounds actions with the dread for that round. This means that it and the dread could both make attacks in the same round.\n\nAt 15th level, if any creature within 30 ft. of the dread or shadow twin suffers from the frightened or panicked condition, the shadow twin is treated as if under the affect of the form of doom power. Unlike other effects, the dread is not also under this effect." compset="ClSpecial" summary="If panicked or frightened creature in 30&apos;, Shadow Twin gains own action pool.">
    <usesource source="pPsiUn"/>
    <tag group="AbilType" tag="Super"/>
    </thing>
  <thing id="cPUFearInc" name="Fear Incarnate" description="At 20th level the dread no longer acts as a simple conduit between the realm of nightmares and the Material Plane, but becomes the embodiment of nightmares. The dreads type changes to Outsider (native), she gains DR 10/psionic, and she gains the ability to turn ethereal at will. In addition, the dread can use the Nightmare Form terror at will, even if she does not already have it. Using Nightmare Form no longer consumes a use of her terrors for the day." compset="ClSpecial">
    <usesource source="pPsiUn"/>
    </thing>
  <thing id="cPUTerrors" name="Terror" description="Beginning at 2nd level, a dread learns to harness the power of fear in a variety of ways called terrors. Using a terror is a swift action. Some terrors are channelled through her devastating touch class feature. These terrors charge a dreads touch (and later her weapon) until her next successful attack that round.\n\nSome terrors can be augmented by spending power points, similar to manifesting powers, to increase their effect. When augmenting her terrors with power points, the dread cannot spend more power points than her manifester level on any single use of a terror.\n\nA dread can use her terrors a total number of times per day equal to her dread level + her Charisma modifier." compset="ClSpecial">
    <usesource source="pPsiUn"/>
    <tag group="AbilType" tag="Super"/>
    <tag group="Usage" tag="Day"/>
    <tag group="ChargeAttr" tag="aCHA"/>
    <tag group="ChargeCalc" tag="LevelFull"/>
    <tag group="ChargeCalc" tag="LevelX1"/>
    <tag group="User" tag="Tracker"/>
    <tag group="abAction" tag="Swift"/>
    </thing>
  <thing id="cPUTerChaT" name="Chase Terror" description="Whenever an adjacent foe that is shaken, frightened, or panicked attempts to take a 5-foot step away from the dread, the dread can, as an immediate action, take a 5-foot step so long as the dread ends up adjacent to the foe that triggered this ability." compset="CustomSpec" uniqueness="unique">
    <usesource source="pPsiUn"/>
    <tag group="SpecSource" tag="cHelpPU2"/>
    </thing>
  <thing id="cPUTerConN" name="Concealed Nightmare" description="The dread gains a shroud of materializing fears around her while using the nightmare form terror, giving her concealment (20% miss chance). The dread must be at least 14th level and have the Nightmare Form terror to select this option. This terror is used when Nightmare Form is activated and does not take a separate use of terrors to activate." compset="CustomSpec" uniqueness="unique">
    <usesource source="pPsiUn"/>
    <tag group="SpecSource" tag="cHelpPU2"/>
    <tag group="User" tag="Activation"/>
    <eval phase="PreAttr" priority="1000" index="2"><![CDATA[if (field[abilActive].value <> 0) then
   ~Activate Concealment condition
   perform hero.assign[Condition.pstConceal]
endif]]></eval>
    <eval phase="Final"><![CDATA[if (hero.tagis[Ability.cPUTerCon2] <> 0) then
   perform this.assign[Helper.SpecUp]
else
   perform this.assign[User.Activation]
endif]]></eval>
    <prereq message="Dread level 14 or higher required for this Terror">
      <validate><![CDATA[        var classcheck as string
        var levels as number

        classcheck = "Dread"

        call PUPreReqs

        validif (levels >= 14)]]></validate>
      </prereq>
    <prereq message="Nightmare Form terror required.">
      <validate><![CDATA[validif (#hasability[cPUTerNFor] <> 0)]]></validate>
      </prereq>
    </thing>
  <thing id="cPUTerCon2" name="Concealed Nightmare, Improved" description="While using the Nightmare Form terror, the dread gains total concealment (50% miss chance). The dread must have the Nightmare Form and Concealed Nightmare terrors to select this option. This terror is used when Nightmare Form is activated and does not take a separate use of terrors to activate." compset="CustomSpec" uniqueness="unique">
    <usesource source="pPsiUn"/>
    <tag group="SpecSource" tag="cHelpPU2"/>
    <tag group="User" tag="Activation"/>
    <eval phase="PostLevel" priority="10000">~ If not activated get out now!
      doneif (field[abilActive].value = 0)

      ~Activate Concealment condition
      perform hero.assign[Condition.pstConcTot]</eval>
    <prereq message="Nightmare Form terror required.">
      <validate><![CDATA[validif (#hasability[cPUTerNFor] <> 0)]]></validate>
      </prereq>
    <prereq message="Conceale Nightmare Form terror required.">
      <validate><![CDATA[validif (#hasability[cPUTerConN] <> 0)]]></validate>
      </prereq>
    <prereq message="Dread level 14 or higher required for this Terror">
      <validate><![CDATA[
        var classcheck as string
        var levels as number
        classcheck = "Dread"
        call PUPreReqs
        validif (levels >= 14)]]></validate>
      </prereq>
    </thing>
  <thing id="cPUTerCons" name="Consuming Nightmare" description="The dreads next attack infects the target with nightmare so overwhelming it threatens to strike the creature dead. The target must make a Will save (DC 10 + 1/2 the dreads class level + the dreads Charisma modifier) or die. If the target succeeds, it becomes immune to this terror for 24 hours. This is a mind-affecting fear death effect. The dread must be at least 16th level to select this option." compset="CustomSpec" summary="Kill target if they fail a WillSave." uniqueness="unique">
    <usesource source="pPsiUn"/>
    <tag group="SpecSource" tag="cHelpPU2"/>
    <tag group="User" tag="Activation"/>
    <tag group="StandardDC" tag="aCHA"/>
    <prereq message="Dread level 16 or higher required for this Terror">
      <validate><![CDATA[        var classcheck as string
        var levels as number

        classcheck = "Dread"

        call PUPreReqs

        validif (levels >= 16)]]></validate>
      </prereq>
    </thing>
  <thing id="cPUTerFeaI" name="Fear Incarnate" description="The dreads connection to the realm of nightmares and her understanding of the fears of others gives her a terrible insight into how to shake peoples faith in themselves, granting her a bonus to Intimidate equal to her class level while using the nightmare form terror. The dread must be at least 12th level and have the Nightmare Form terror to select this option." compset="CustomSpec" summary="Intimidate bonus while in Nightmare Form." uniqueness="unique">
    <usesource source="pPsiUn"/>
    <tag group="SpecSource" tag="cHelpPU2"/>
    <tag group="User" tag="Activation"/>
    <prereq message="Dread level 12 or higher required for this Terror">
      <validate><![CDATA[        var classcheck as string
        var levels as number

        classcheck = "Dread"

        call PUPreReqs

        validif (levels >= 12)]]></validate>
      </prereq>
    <prereq message="Nightmare Form terror required.">
      <validate><![CDATA[validif (#hasability[cPUTerNFor] <> 0)]]></validate>
      </prereq>
    </thing>
  <thing id="cPUTerNFor" name="Nightmare Form" description="The dreads internal connection to the realm of nightmares allows her to take on the form of nightmares herself. The dread can use Ectoplasmic Form as a psi-like ability at a manifester level equal to her dread level. The dread is still able to use her supernatural abilities while in Nightmare Form, although she suffers all normal restrictions on attacks and targeting. Each use of this ability is considered a daily use of the dreads Terrors. The dread must be at least 8th level to select this option." compset="CustomSpec" uniqueness="unique">
    <usesource source="pPsiUn"/>
    <tag group="SpecSource" tag="cHelpPU2"/>
    <tag group="User" tag="Activation"/>
    <prereq message="Dread level 8 or higher required for this Terror">
      <validate><![CDATA[        var classcheck as string
        var levels as number

        classcheck = "Dread"

        call PUPreReqs

        validif (levels >= 8)]]></validate>
      </prereq>
    </thing>
  <thing id="cPUTerHaSt" name="Haunting Steps" description="The dreads attack slows the target (as the spell) for 1 round per dread level unless she makes a successful Will save (DC 10 + 1/2 the dreads class level + the dreads Charisma modifier). The dread must be at least 8th level to select this option." compset="CustomSpec" summary="Slow target if fails Will Save." uniqueness="unique">
    <usesource source="pPsiUn"/>
    <tag group="SpecSource" tag="cHelpPU2"/>
    <tag group="User" tag="Activation"/>
    <tag group="StandardDC" tag="aCHA"/>
    <prereq message="Dread level 8 or higher required for this Terror">
      <validate><![CDATA[        var classcheck as string
        var levels as number

        classcheck = "Dread"

        call PUPreReqs

        validif (levels >= 8)]]></validate>
      </prereq>
    </thing>
  <thing id="cPUTerHorS" name="Horrible Strike" description="The dreads attack deals an extra 1d6 points of damage as she empowers her attacks through her connection to the region of nightmares. For every 2  power points spent, this damage increases by 1d6. The dread must be at least 4th level to select this option." compset="CustomSpec" summary="Bonus 1d6 (+1d6/2pp spent) damage with attacks." uniqueness="unique">
    <usesource source="pPsiUn"/>
    <tag group="SpecSource" tag="cHelpPU2"/>
    <tag group="User" tag="Activation"/>
    <tag group="ProductId" tag="HLCommunit"/>
    <prereq message="Dread level 4 or higher required for this Terror">
      <validate><![CDATA[        var classcheck as string
        var levels as number

        classcheck = "Dread"

        call PUPreReqs

        validif (levels >= 8)]]></validate>
      </prereq>
    </thing>
  <thing id="cPUTerIncF" name="Incite Fear" description="The dreads next successful attack incites fear in her target. The target must make a Will saving throw (DC 10 + 1/2 the dreads class level + the dreads Charisma modifier) or become shaken for 1d4 rounds. This is a mind-affecting fear effect." compset="CustomSpec" summary="Target becomes shaken for 1d4 rounds if they fail a WillSave." uniqueness="unique">
    <usesource source="pPsiUn"/>
    <tag group="SpecSource" tag="cHelpPU2"/>
    <tag group="User" tag="Activation"/>
    <tag group="StandardDC" tag="aCHA"/>
    </thing>
  <thing id="cPUTerInvG" name="Invigorating Fear" description="If the dreads reduces an enemy to 0 or fewer hit points this round, she gains temporary hit points equal to her Charisma modifier." compset="CustomSpec" summary="Gain temporary HP is reduce enemy to 0 or fewer HP." uniqueness="unique">
    <usesource source="pPsiUn"/>
    <tag group="SpecSource" tag="cHelpPU2"/>
    </thing>
  <thing id="cPUTerLinF" name="Lingering Fear" description="The dreads attack causes a lingering fear in the target which prevents rest for one day unless it makes a successful Will save (DC 10 + 1/2 the dreads class level + the dreads Charisma modifier). Inability to rest means the target cannot regain spells or power points, nor heal normally. For each 2 power points spent, this fear lingers for an additional day. This is a mind-affecting fear effect. The dread must be at least 10th level to select this option." compset="CustomSpec" summary="Target becomes unable to rest for 1 day (+1 day/2pp) if they fail a WillSave." uniqueness="unique">
    <usesource source="pPsiUn"/>
    <tag group="SpecSource" tag="cHelpPU2"/>
    <tag group="User" tag="Activation"/>
    <tag group="StandardDC" tag="aCHA"/>
    <prereq message="Dread level 10 or higher required">
      <validate><![CDATA[validif (#levelcount[Dread] >= 10)
        var classcheck as string
        var levels as number

        classcheck = "Dread"

        call PUPreReqs

        validif (levels >= 10)]]></validate>
      </prereq>
    </thing>
  <thing id="cPUTerMadd" name="Maddening Fear" description="The dreads next successful attack imposes a -2 penalty to the struck creatures Wisdom score in addition to its normal damage. This is mind-affecting fear effect. The dread must be at least 4th level to select this option." compset="CustomSpec" uniqueness="unique">
    <usesource source="pPsiUn"/>
    <tag group="SpecSource" tag="cHelpPU2"/>
    <prereq message="Dread level 4 or higher required for this terror">
      <validate><![CDATA[        var classcheck as string
        var levels as number

        classcheck = "Dread"

        call PUPreReqs

        validif (levels >= 4)]]></validate>
      </prereq>
    </thing>
  <thing id="cPUTerMndD" name="Mind Drain" description="The dreads attack drains a number of power points equal to the dreads level unless the target makes a successful Will save (DC 10 + 1/2 the dreads class level + the dreads Charisma modifier). When used against a target with spellcasting, the dread drains away one spell at random equal to 1/2 her dread level or the next lowest level available if none exist for the applicable level. If the target has both spellcasting and power points, the dread chooses which to drain. This is a mind-affecting fear effect. The dread must be at least 6th level to select this option." compset="CustomSpec" summary="Target loses PP equal to Dread level (or a spell at random equal to 1/2 Dread level) on failed Will Save." uniqueness="unique">
    <usesource source="pPsiUn"/>
    <tag group="SpecSource" tag="cHelpPU2"/>
    <tag group="StandardDC" tag="aCHA"/>
    <prereq message="Dread level 6 or higher required for this terror">
      <validate><![CDATA[        var classcheck as string
        var levels as number

        classcheck = "Dread"

        call PUPreReqs

        validif (levels >= 6)]]></validate>
      </prereq>
    </thing>
  <thing id="cPUTerMndR" name="Mind Rend" description="The dreads attack deals 1d8 additional damage if his target would be denied a Dexterity bonus to AC (whether the target actually has a Dexterity bonus or not). If the dread spends a power point when activating this terror, the damage increases to 1d10. This extra damage is not multiplied on a critical hit. The dread must be 4th level to take this terror. This terror can be taken one additional time every three levels thereafter (7th, 10th, etc). Each time, it increases the additional damage by one die." compset="CustomSpec" summary="Deal additional damage when target denied DEX bonus to AC.">
    <usesource source="pPsiUn"/>
    <tag group="SpecSource" tag="cHelpPU2"/>
    <prereq message="Dread level 4 or higher required for this terror">
      <validate><![CDATA[        var classcheck as string
        var levels as number

        classcheck = "Dread"

        call PUPreReqs

        validif (levels >= 4)]]></validate>
      </prereq>
    </thing>
  <thing id="cPUTerMndl" name="Mindlock" description="The dread can invade the mind of an enemy through their subsconscious by making a melee touch attack that does not provoke attacks of opportunity. The target must succeed on a Will save (DC 10 + 1/2 the dreads class level + the dreads Charisma modifier), or be mindlocked for 1 minute per dread level. A mindlock allows the dread to either channel her devastating touch ability at range as a standard action which automatically hits, or attempt an Intimidate check on the target, even though the target might be out of normal range or out of sight. The range of the mindlock is 10 feet per dread level, and the dread does not need line of effect or line of sight once a mindlock is established. This is a mind-affecting effect. A dread can only sustain one mindlock at a time. If the dread attempts to mindlock a new target while another mindlock is active, the active mindlock ends. The dread is aware if the mindlock fails or ends, although she does not necessarily know the reason. The dread must be at least 4th level to select this option." compset="CustomSpec" uniqueness="useronce">
    <usesource source="pPsiUn"/>
    <tag group="SpecSource" tag="cHelpPU2"/>
    <tag group="StandardDC" tag="aCHA"/>
    <prereq message="Dread level 4 or higher required for this terror">
      <validate><![CDATA[        var classcheck as string
        var levels as number

        classcheck = "Dread"

        call PUPreReqs

        validif (levels >= 4)]]></validate>
      </prereq>
    </thing>
  <thing id="cPUTerNiSt" name="Nightmare Step" description="When the dread is adjacent to a shaken target, she can teleport up to 40 ft. away into a square adjacent to another shaken target. The dread must be at least 10th level to select this option." compset="CustomSpec" summary="Teleport from adjacent to shaken target to adjacent to another shaken target.">
    <usesource source="pPsiUn"/>
    <tag group="SpecSource" tag="cHelpPU2"/>
    <prereq message="Dread level 10 or higher required for this terror">
      <validate><![CDATA[
        var classcheck as string
        var levels as number

        classcheck = "Dread"

        call PUPreReqs

        validif (levels >= 10)]]></validate>
      </prereq>
    </thing>
  <thing id="cPUTerNiTo" name="Nightmare Touch" description="The dread can use her Devastating Touch ability while using the Nightmare Form terror, even though she normally cannot make physical attacks. This terror is used when Nightmare Form is activated and does not take a separate use of terrors to activate. The dread must be at least 10th level and have the Nightmare Form terror to select this option." compset="CustomSpec" summary="Use Devastating Touch when in Nightmare Form." uniqueness="useronce">
    <usesource source="pPsiUn"/>
    <tag group="SpecSource" tag="cHelpPU2"/>
    <prereq message="Dread level 10 or higher required for this terror">
      <validate><![CDATA[        var classcheck as string
        var levels as number

        classcheck = "Dread"

        call PUPreReqs

        validif (levels >= 10)]]></validate>
      </prereq>
    <prereq message="Nightmare Form terror required.">
      <validate><![CDATA[validif (#hasability[cPUTerNFor] <> 0)]]></validate>
      </prereq>
    </thing>
  <thing id="cPUTerOvFe" name="Overwhelming Fear" description="The dreads next attack stuns her target with overwhelming fear if the attack is successful. The target must make a Fortitude saving throw (DC 10 + 1/2 the dreads class level + the dreads Charisma modifier) or cower for 1 round. If the attack misses, the effect is wasted. This is mind-affecting fear effect." compset="CustomSpec" summary="Target cowers for 1 round if they fail a Fort Save." uniqueness="unique">
    <usesource source="pPsiUn"/>
    <tag group="SpecSource" tag="cHelpPU2"/>
    <tag group="User" tag="Activation"/>
    <tag group="StandardDC" tag="aCHA"/>
    </thing>
  <thing id="cPUTerPara" name="Paranoia" description="The dreads attack causes the target to become intensely paranoid, making it fear even its friends. The target must make a Will save (DC 10 + 1/2 the dreads class level + the dreads Charisma modifier) or treat all creatures as enemies. The target reacts violently to anyone who approaches and will use the most efficient means of disposing the enemy. The target also attempts a save against all effects he could, unless he makes a successful Spellcraft check to identify the effect. This condition lasts for 1 minute per dread level. This is a mind-affecting fear effect. The dread must be at least 14th level to select this option." compset="CustomSpec" summary="Target treats all creatures as enemies for 1 min/level if they fail a Will Save." uniqueness="unique">
    <usesource source="pPsiUn"/>
    <tag group="SpecSource" tag="cHelpPU2"/>
    <tag group="User" tag="Activation"/>
    <tag group="StandardDC" tag="aCHA"/>
    </thing>
  <thing id="cPUTerPNF" name="Persistent Nightmare Form" description="The dread can maintain her Nightmare Form inside areas of Null Psionics or dead magic areas. The dread must be at least 18th level and have the Nightmare Form terror to select this option." compset="CustomSpec" uniqueness="unique">
    <usesource source="pPsiUn"/>
    <tag group="SpecSource" tag="cHelpPU2"/>
    <tag group="User" tag="Activation"/>
    <tag group="ProductId" tag="HLCommunit"/>
    <prereq message="Nightmare Form terror required.">
      <validate><![CDATA[validif (#hasability[cPUTerNFor] <> 0)]]></validate>
      </prereq>
    <prereq message="Dread level 18 or higher required for this Terror">
      <validate><![CDATA[        var classcheck as string
        var levels as number

        classcheck = "Dread"

        call PUPreReqs

        validif (levels >= 18)]]></validate>
      </prereq>
    </thing>
  <thing id="cPUTerRngM" name="Ranged Mindlock" description="The dread can initiate the mindlock terror at a range of 10 ft. per class level instead of as a touch attack as a standard action, but she still requires initial line of sight and line of effect. The target still gets a Will save as normal to resist the mindlock. The dread must be at least 10th level and have the Mindlock terror to select this option." compset="CustomSpec" uniqueness="unique">
    <usesource source="pPsiUn"/>
    <tag group="SpecSource" tag="cHelpPU2"/>
    <tag group="User" tag="Activation"/>
    <prereq message="Dread level 10 or higher required for this Terror">
      <validate><![CDATA[        var classcheck as string
        var levels as number

        classcheck = "Dread"

        call PUPreReqs

        validif (levels >= 10)]]></validate>
      </prereq>
    <prereq message="Mindlock terror required.">
      <validate><![CDATA[validif (#hasability[cPUTerMndl] <> 0)]]></validate>
      </prereq>
    </thing>
  <thing id="cPUTerShrF" name="Shroud of Fears" description="The dread draws on the subconscious fears of those around herself while she is using the Nightmare Form terror, forming translucent shapes around herself representing the inner fears and terrors of those who view her. This grants her a deflection bonus to AC equal to her Charisma modifier. The dread must be at least 10th level and have the Nightmare Form terror to select this option." compset="CustomSpec" uniqueness="unique">
    <usesource source="pPsiUn"/>
    <tag group="SpecSource" tag="cHelpPU2"/>
    <tag group="User" tag="Activation"/>
    <prereq message="Dread level 10 or higher required for this Terror">
      <validate><![CDATA[        var classcheck as string
        var levels as number

        classcheck = "Dread"

        call PUPreReqs

        validif (levels >= 10)]]></validate>
      </prereq>
    <prereq message="Nightmare Form terror required.">
      <validate><![CDATA[validif (#hasability[cPUTerNFor] <> 0)]]></validate>
      </prereq>
    </thing>
  <thing id="cPUTerSick" name="Sickening Fear" description="The dreads attack causes the target to become sickened unless it makes a successful Fortitude save (DC 10 + 1/2 the dreads class level + the dreads Charisma modifier). This effect lasts for 1d6 rounds. This is mind-affecting fear effect. For every additional power point spent, the target also takes 1 point of damage per round the effect lasts. The dread must be at least 6th level to select this option." compset="CustomSpec" summary="Target becomes sickened for 1d6 rounds if they fail a Fort Save." uniqueness="unique">
    <usesource source="pPsiUn"/>
    <tag group="SpecSource" tag="cHelpPU2"/>
    <tag group="User" tag="Activation"/>
    <tag group="StandardDC" tag="aCHA"/>
    <tag group="abSave" tag="FortNeg"/>
    <prereq message="Dread level 6 or higher required">
      <validate><![CDATA[        var classcheck as string
        var levels as number

        classcheck = "Dread"

        call PUPreReqs

        validif (levels >= 6)]]></validate>
      </prereq>
    </thing>
  <thing id="cPUTerSoul" name="Soul-chilling Fear" description="The dreads attack creates a conduit between her own subconscious and the mind of her target. The target must make a Will save (DC 10 + 1/2 the dreads class level + the dreads Charisma modifier) or gain 1 negative level. This is a mind-affecting fear effect. For every 3 power points spent, the target gains 1 additional negative level. The dread must be at least 12th level to select this option." compset="CustomSpec" summary="Target gains 1 negative level (+1 / 3PP spent) if they fail a Will Save." uniqueness="unique">
    <usesource source="pPsiUn"/>
    <tag group="SpecSource" tag="cHelpPU2"/>
    <tag group="User" tag="Activation"/>
    <tag group="StandardDC" tag="aCHA"/>
    <prereq message="Dread level 12 or higher required">
      <validate><![CDATA[        var classcheck as string
        var levels as number

        classcheck = "Dread"

        call PUPreReqs

        validif (levels >= 12)]]></validate>
      </prereq>
    </thing>
  <thing id="cPUTerStea" name="Steal Essence" description="The dreads next devastating touch attack works as a conduit between the targets subconscious and her own, turning some of the damage she does into healing energy, reinvigorating the dread. She heals an amount of damage equal to the damage she deals with her Devastating Touch. The dread must be at least 8th level to select this option." compset="CustomSpec" summary="Damage dealt with your Devastating Touch attack heals you in addition." uniqueness="unique">
    <usesource source="pPsiUn"/>
    <tag group="SpecSource" tag="cHelpPU2"/>
    <tag group="User" tag="Activation"/>
    <prereq message="Dread level 8 or higher required">
      <validate><![CDATA[        var classcheck as string
        var levels as number

        classcheck = "Dread"

        call PUPreReqs

        validif (levels >= 8)]]></validate>
      </prereq>
    </thing>
  <thing id="cPUTerTerr" name="Terrified Escape" description="The dreads attack causes the target to flee from the dread on its next turn unless it makes a successful Will save (DC 10 + 1/2 the dreads class level + the dreads Charisma modifier). This is a mind-affecting fear effect." compset="CustomSpec" summary="Target flees if they fail a Will Save." uniqueness="unique">
    <usesource source="pPsiUn"/>
    <tag group="SpecSource" tag="cHelpPU2"/>
    <tag group="User" tag="Activation"/>
    <tag group="StandardDC" tag="aCHA"/>
    <tag group="abSave" tag="WillNeg"/>
    </thing>
  <thing id="cPUTerWeak" name="Weakening Fear" description="The dreads attack causes the target to be fatigued for one round per dread level unless it makes a successful Will save (DC 10 + 1/2 the dreads class level + the dreads Charisma modifier). This is a mind-affecting fear effect. This terror has no effect on a creature that is already fatigued. Unlike with normal fatigue, the effect ends as soon as the terrors duration expires." compset="CustomSpec" summary="Target becomes fatigued for 1 round/level if they fail a Fort Save." uniqueness="unique">
    <usesource source="pPsiUn"/>
    <tag group="SpecSource" tag="cHelpPU2"/>
    <tag group="User" tag="Activation"/>
    <tag group="StandardDC" tag="aCHA"/>
    <tag group="abSave" tag="WillNeg"/>
    </thing>
  <thing id="cPUMrkPBS" name="Point Blank Shot" description="At 1st level, a marksman gains the Point-Blank Shot feat as a bonus feat." compset="ClSpecial">
    <usesource source="pPsiUn"/>
    <tag group="Helper" tag="SpecUp"/>
    <bootstrap thing="fPointBlnk">
      <containerreq phase="First" priority="500">!AbReplace.cPUMrkPBS</containerreq>
      </bootstrap>
    </thing>
  <thing id="cPUMrkWnd" name="Wind Reader" description="A marksman can use her heightened senses and awareness of her surroundings to read the wind and environment, allowing her to drastically improve her accuracy. While maintaining psionic focus, she can spend a swift action to gain a competence bonus equal to her Wisdom modifier on ranged attacks until the end of the round. She can do this a number of times per day equal to 3 + her class level.\n\n{b}TO-DO{/b} Activation not currently implemented." compset="ClSpecial" summary="Psionically focused, gain competence bonus to ranged attacks equal to Wisdom.">
    <fieldval field="trkMax" value="3"/>
    <tag group="ChargeCalc" tag="LevelFull"/>
    <tag group="ChargeCalc" tag="LevelX1"/>
    <tag group="AbilType" tag="Super"/>
    <tag group="User" tag="Tracker"/>
    <tag group="Usage" tag="Day"/>
    <tag group="User" tag="Activation"/>
    <tag group="ProductId" tag="HLCommunit"/>
    </thing>
  <thing id="cPUMrkFin" name="Combat Style (Finesse)" description="Finesse marksmen learn special techniques with ranged attacks that otherwise would find too difficult to perform. A finesse marksman is capable of knocking the weapon out of an opponents hand with the flick of the wrist, or pinning a target to a door without drawing blood." compset="CustomSpec" uniqueness="unique">
    <fieldval field="shortname" value="Combat Style"/>
    <usesource source="pPsiUn"/>
    <tag group="SpecSource" tag="cHelpPU3"/>
    <tag group="Custom" tag="CStyleFin" name="Marksman Combat Style - Finesse" abbrev="Cbt Style - Finesse"/>
    <eval phase="First">~ Tag hero for chosen combat style
perform forward[Custom.CStyleFin]</eval>
    <eval phase="PreLevel" index="2"><![CDATA[
~ Assign additional bonus feats that are allowed
perform linkage[table].assign[fInclude.fShotRun]
perform linkage[table].assign[fInclude.fThrowAny]
~ If we have the APG source active then include the
~ Disrupting Shot feat.
If (hero.tagis[source.APG] <> 0) Then
  perform linkage[table].assignstr["fInclude.fDisShot"]
Endif]]></eval>
    </thing>
  <thing id="cPUTechFin" name="Style Technique (Finesse)" description="Once a marksman has reached 2nd level, she may expend her psionic focus while making a ranged attack to use one of the following combat maneuvers as a ranged attack: bull rush, dirty trick, disarm, sunder, or trip. The marksman may use either her Strength or Dexterity modifier when determining her CMB for this attack. The ranged attack deals no damage and provokes attacks of opportunity as normal." compset="ClSpecial">
    <usesource source="pPsiUn"/>
    <tag group="AbilType" tag="Super"/>
    <tag group="abAction" tag="PUExpFocus"/>
    </thing>
  <thing id="cPUSkilFin" name="Style Skill (Finesse)" description="At 3rd level, a finesse marksman gains a +1 bonus to Intimidate. This bonus increases by 1 every three marksman levels thereafter." compset="ClSpecial" summary="You gain a bonus to the Intimidate skill.">
    <usesource source="pPsiUn"/>
    <tag group="AbilType" tag="Extra"/>
    <eval phase="PostAttr" priority="5000"><![CDATA[var myTimes as number

myTimes = field[xIndex].value

field[listname].text = "Style Skill (Finesse) (+" & myTimes & ")"

~These calculations should only happen for the first copy
doneif (tagis[Helper.FirstCopy] = 0)

~ If we're not shown, just get out now
doneif (tagis[Helper.ShowSpec] = 0)

field[abValue].value += field[xCount].value

field[livename].text = "Style Skill (Finesse) (+" & field[abValue].value & ")"

#skillbonus[skIntim] += field[abValue].value]]></eval>
    </thing>
  <thing id="cPUMantFin" name="Style Mantra (Finesse)" description="Beginning at 3rd level, as long as a finesse marksman maintains psionic focus, she gains a +1 circumstance bonus on attack rolls made when she makes a ranged attack. At 7th level and every four marksman levels thereafter, this competence bonus increases by 1.\n\nA marksman may not use her style mantra at the same time she uses Wind Reader; she may only gain the benefit of one or the other, not both." compset="ClSpecial" summary="While psionically focused, you gain a bonus to attack rolls with ranged attacks.">
    <usesource source="pPsiUn"/>
    <tag group="AbilType" tag="Extra"/>
    <tag group="User" tag="Activation"/>
    <tag group="abAction" tag="PUManFocus"/>
    <eval phase="PostAttr" priority="5000"><![CDATA[var myTimes as number

myTimes = field[xIndex].value

field[listname].text = "Style Mantra (Finesse) (+" & myTimes & ")"

~These calculations should only happen for the first copy
doneif (tagis[Helper.FirstCopy] = 0)

~ If we're not shown, just get out now
doneif (tagis[Helper.ShowSpec] = 0)

field[abValue].value += field[xCount].value

field[livename].text = "Style Mantra (Finesse) (+" & field[abValue].value & ")"

      var v_focus as number
      call PUPsiFocus
      ~ If Not psionically focused get out now
      doneif (v_focus <> 1)

#skillbonus[skIntim] += field[abValue].value]]></eval>
    </thing>
  <thing id="cPUFinDazA" name="Dazzling Assault" description="A finesse marksman of 4th level is capable of charging her ranged or thrown weapon attacks with psychokinetic energy that gives off a brilliant burst of light on a successful hit. When this ability is activated, all of the marksmans ranged or thrown weapon attacks for the round that successfully hit their target dazzle the target for one round. This ability may be used a number of times per day equal to 3 + the marksmans Wisdom modifier." compset="ClSpecial" summary="While psionically focused, gain a competence bonus to ranged attacks equal to  WIS modifier.">
    <usesource source="pPsiUn"/>
    <tag group="AbilType" tag="Super"/>
    <tag group="User" tag="Tracker"/>
    <tag group="Usage" tag="Day"/>
    <tag group="User" tag="Activation"/>
    <tag group="ChargeCalc" tag="AttrUses3"/>
    <tag group="ChargeAttr" tag="aWIS"/>
    </thing>
  <thing id="cPUFinInsA" name="Instill Awe" description="A finesse marksman of at least 8th level is able to make an opponent think twice before engaging in combat. As a standard action and as long as she maintains psionic focus, the finesse marksman can make a ranged attack at a target. If the attack is successful, the attack deals no damage, but the target is shaken for a number of rounds equal to the marksmans Wisdom modifier. A successful Will saving throw (DC 10 + half the marksmans level + the marksmans Wisdom modifier) reduces the duration to one round. This is a mind-affecting effect." compset="ClSpecial">
    <usesource source="pPsiUn"/>
    <tag group="AbilType" tag="Super"/>
    <tag group="Usage" tag="Day"/>
    <tag group="StandardDC" tag="aWIS"/>
    <tag group="abAction" tag="PUManFocus"/>
    <tag group="abAction" tag="Standard"/>
    </thing>
  <thing id="cPUFinTelA" name="Teleporting Attack" description="Upon achieving 12th level, a finesse marksman is capable of teleporting her ranged or thrown attacks to hit enemies from unexpected angles. By expending psionic focus as part of a ranged or thrown attack, the target is considered flat-footed for the attack. Should the target have uncanny dodge or improved uncanny dodge, treat the finesse marksmans class level as her rogue level to determine if the target is treated as flat-footed." compset="ClSpecial">
    <usesource source="pPsiUn"/>
    <tag group="AbilType" tag="Super"/>
    <tag group="Usage" tag="Day"/>
    <tag group="abAction" tag="PUExpFocus"/>
    </thing>
  <thing id="cPUFinStuD" name="Stunning Display" description="At 16th level, a finesse marksman is capable of putting on a truly captivating display of ranged combat mastery with her ranged or thrown weapons. As a standard action, all creatures within 30 ft. of the marksman are fascinated for a number of rounds equal to the marksmans Wisdom modifier unless they make a successful Will saving throw (DC 10 + half marksman level + marksmans Wisdom modifier). If something ends the effect prematurely, the creature is instead stunned for one round.\n\nThis ability does not affect mindless creatures. This \nability may be used once every 10 minutes." compset="ClSpecial">
    <fieldval field="trkMax" value="1"/>
    <usesource source="pPsiUn"/>
    <tag group="Usage" tag="Minute10"/>
    <tag group="StandardDC" tag="aWIS"/>
    <tag group="AbilType" tag="Super"/>
    <tag group="abAction" tag="Standard"/>
    <tag group="abSave" tag="WillNeg"/>
    </thing>
  <thing id="cPUFinOubK" name="Oubliette of Knives" description="Upon reaching 20th level, the finesse marksman gains the master technique Oubliette of Knives.\n\n{i}Oubliette of Knives:{/i} As a standard action, you can make a ranged attack with a ranged or thrown weapon, and redirect the attack at another target after every successful strike. Each additional attack made in this fashion uses your full base attack bonus. You may attack the same target multiple times with this technique, but only if another target is successfully attacked between strikes, and each individidual target may only be struck by a single use of oubliette of knives equal to your Wisdom modifier. All distance traveled by the thrown weapon or projectile counts against range increments.\n\nFor example, Bob the finesse marksman has a Wisdom of 20 and uses Oubliette of Knives to attack an orc at his full attack bonus. The attack is successful, so Bob redirects the attack to a nearby goblin. This second attack is successful, so Bob redirects the attack back to the orc, repeating this process until an attack fails, the weapon has gone its total range, or each target has been struck five times each.\n\nThis ability does not affect mindless creatures. This \nability may be used once every 10 minutes." compset="ClSpecial">
    <fieldval field="trkMax" value="1"/>
    <usesource source="pPsiUn"/>
    <tag group="Usage" tag="Minute10"/>
    <tag group="StandardDC" tag="aWIS"/>
    <tag group="AbilType" tag="Super"/>
    <tag group="abAction" tag="Standard"/>
    </thing>
  <thing id="cPUMrkSni" name="Combat Style (Sniper)" description="Marksmen of this style focus on taking a single shot and making the most of it. These are the marksmen who will use a single attack to change the entire course of the battle by eliminating the enemys leader. Sometimes nicknamed assassins, these marksmen are not cruel, they simply find elegance in a single perfect shot placed\nat just the right point." compset="CustomSpec" uniqueness="unique">
    <fieldval field="shortname" value="Combat Style"/>
    <usesource source="pPsiUn"/>
    <tag group="SpecSource" tag="cHelpPU3"/>
    <tag group="Custom" tag="CStyleSni" name="Marksman Combat Style - Sniper" abbrev="Combat Style - Sniper"/>
    <eval phase="PreLevel" index="2">perform hero.childfound[cHelpPU3].assign[fInclude.fVitStr]
perform hero.childfound[cHelpPU3].assign[fInclude.fImpVitStr]
perform hero.childfound[cHelpPU3].assign[fInclude.fGrtVitStr]
perform hero.childfound[cHelpPU3].assign[fInclude.fImpPrec]
perform hero.childfound[cHelpPU3].assign[fInclude.fPinTarget]</eval>
    <eval phase="First">~ Tag hero for chosen combat style
perform forward[Custom.CStyleSni]</eval>
    </thing>
  <thing id="cPUMrkVol" name="Combat Style (Volley)" description="Volley marksmen are all about sending out as many projectiles as possible. These marksmen are great at hitting multiple targets, turning an opponent into a pincushion, or drawing a bow with such rapid rate of fire as to seem faster than the eye can see." compset="CustomSpec" uniqueness="unique">
    <fieldval field="shortname" value="Combat Style"/>
    <usesource source="pPsiUn"/>
    <tag group="SpecSource" tag="cHelpPU3"/>
    <tag group="Custom" tag="CStyleVol" name="Marksman Combat Style - Volley" abbrev="Combat Style - Volley"/>
    <eval phase="First">~ Tag hero for chosen combat style
perform forward[Custom.CStyleVol]</eval>
    <eval phase="PreLevel" index="2">perform hero.childfound[cHelpPU3].assign[fInclude.fPFCrossbo]
perform hero.childfound[cHelpPU3].assign[fInclude.fManyshot]
perform hero.childfound[cHelpPU3].assign[fInclude.fRapidRel]
perform hero.childfound[cHelpPU3].assign[fInclude.fRapidShot]</eval>
    </thing>
  <thing id="cPUTechVol" name="Style Technique (Volley)" description="Once a marksman has reached 2nd level, she may expend her psionic focus while making a full attack with a ranged or thrown weapon to gain one additional attack. This extra attack does not stack with other effects that grant additional attacks such as haste, physical acceleration, or the speed weapon special ability. Beginning at 15th level, this technique does stack with additional attacks such as those from haste, physical acceleration, or the speed weapon special ability." compset="ClSpecial">
    <usesource source="pPsiUn"/>
    <tag group="AbilType" tag="Super"/>
    <tag group="abAction" tag="PUExpFocus"/>
    </thing>
  <thing id="cPUTechSni" name="Style Technique (Sniper)" description="Once a marksman has reached 2nd level, she may expend her psionic focus while making a single ranged attack to add her Wisdom modifier to the damage the attack deals. This ability may not be used as part of a full attack." compset="ClSpecial">
    <usesource source="pPsiUn"/>
    <tag group="AbilType" tag="Super"/>
    <tag group="abAction" tag="PUExpFocus"/>
    </thing>
  <thing id="cPUSkilSni" name="Style Skill (Sniper)" description="At 3rd level, a finesse marksman gains a +1 bonus to Stealth. This bonus increases by 1 every three marksman levels thereafter." compset="ClSpecial" summary="You gain a bonus to the Stealth skill.">
    <usesource source="pPsiUn"/>
    <tag group="AbilType" tag="Extra"/>
    <eval phase="PostAttr" priority="5000"><![CDATA[var myTimes as number

myTimes = field[xIndex].value

field[listname].text = "Style Skill (Sniper) (+" & myTimes & ")"

~These calculations should only happen for the first copy
doneif (tagis[Helper.FirstCopy] = 0)

~ If we're not shown, just get out now
doneif (tagis[Helper.ShowSpec] = 0)

field[abValue].value += field[xCount].value

field[livename].text = "Style Skill (Sniper) (+" & field[abValue].value & ")"

#skillbonus[skStealth] += field[abValue].value]]></eval>
    </thing>
  <thing id="cPUSkilVol" name="Style Skill (Volley)" description="At 3rd level, a finesse marksman gains a +1 bonus to Perception. This bonus increases by 1 every three marksman levels thereafter." compset="ClSpecial" summary="You gain a bonus to the Perception skill.">
    <usesource source="pPsiUn"/>
    <tag group="AbilType" tag="Extra"/>
    <eval phase="PostAttr" priority="5000"><![CDATA[var myTimes as number

myTimes = field[xIndex].value

field[listname].text = "Style Skill (Volley) (+" & myTimes & ")"

~These calculations should only happen for the first copy
doneif (tagis[Helper.FirstCopy] = 0)

~ If we're not shown, just get out now
doneif (tagis[Helper.ShowSpec] = 0)

field[abValue].value += field[xCount].value

field[livename].text = "Style Skill (Volley) (+" & field[abValue].value & ")"

#skillbonus[skPercep] += field[abValue].value]]></eval>
    </thing>
  <thing id="cPUMantSni" name="Style Mantra (Sniper)" description="Beginning at 3rd level, as long as a sniper marksman maintains psionic focus, she gains a +2 competence bonus on damage rolls for attacks made with a ranged or thrown weapon. At 7th level and every four marksman levels thereafter, this bonus increases by 1.\n\nA marksman may not use her style mantra at the same time she uses Wind Reader; she may only gain the benefit of one or the other, not both." compset="ClSpecial" summary="While psionically focused, you gain a bonus to damage rolls with ranged or thrown weapons.">
    <usesource source="pPsiUn"/>
    <tag group="AbilType" tag="Extra"/>
    <tag group="User" tag="Activation"/>
    <tag group="abAction" tag="PUManFocus"/>
    <eval phase="PostAttr" priority="5000"><![CDATA[var myTimes as number

myTimes = 1 + field[xIndex].value

field[listname].text = "Style Mantra (Sniper) (+" & myTimes & ")"

~These calculations should only happen for the first copy
doneif (tagis[Helper.FirstCopy] = 0)

~ If we're not shown, just get out now
doneif (tagis[Helper.ShowSpec] = 0)

field[abValue].value += 1 + field[xCount].value

field[livename].text = "Style Mantra (Sniper) (+" & field[abValue].value & ")"]]></eval>
    </thing>
  <thing id="cPUMantVol" name="Style Mantra (Volley)" description="Beginning at 3rd level, as long as a volley marksman maintains psionic focus, she gains a +1 competence bonus to her Initiative and Reflex saves. At 7th level and every four marksman levels thereafter, the competence bonus improves by 1.\n\nA marksman may not use her style mantra at the same time she uses Wind Reader; she may only gain the benefit of one or the other, not both." compset="ClSpecial" summary="While psionically focused, you gain a bonus to Initiative and Reflex saves.">
    <usesource source="pPsiUn"/>
    <tag group="AbilType" tag="Extra"/>
    <tag group="User" tag="Activation"/>
    <tag group="abAction" tag="PUManFocus"/>
    <eval phase="PostAttr" priority="5000"><![CDATA[var myTimes as number

myTimes = 1 + field[xIndex].value

field[listname].text = "Style Mantra (Sniper) (+" & myTimes & ")"

~These calculations should only happen for the first copy
doneif (tagis[Helper.FirstCopy] = 0)

~ If we're not shown, just get out now
doneif (tagis[Helper.ShowSpec] = 0)

field[abValue].value += 1 + field[xCount].value

field[livename].text = "Style Mantra (Sniper) (+" & field[abValue].value & ")"]]></eval>
    </thing>
  <thing id="cPUSniSecC" name="Second Chance" description="A sniper marksman of 4th level may expend her psionic focus when a ranged attack she has made misses to reroll the attack. This ability can be used a number of times per day equal to 3 + the marksmans Wisdom modifier." compset="ClSpecial">
    <usesource source="pPsiUn"/>
    <tag group="AbilType" tag="Super"/>
    <tag group="Usage" tag="Day"/>
    <tag group="ChargeAttr" tag="aWIS"/>
    <tag group="ChargeCalc" tag="AttrUses3"/>
    <tag group="abAction" tag="PUExpFocus"/>
    </thing>
  <thing id="cPUSniAugS" name="Augmented Shot" description="As part of a single attack with a ranged or thrown weapon, a sniper marksman of at least 8th level can expend her psionic focus, causing the attack to deal augmented damage. Increase the base damage of the attack by one die. Unlike normal bonus damage, this increases the actual weapon damage (much like your Strength modifier on a melee attack), and is thus multiplied in the case of a critical hit. With feats such as Vital Strike, this increased base damage is used to determine the bonus damage on the attack. For example, if wielding a medium-sized light crossbow, add 1d8 damage. Every six marksman levels thereafter, increase the weapon damage by an additional die. This ability may not be used as part of a full attack." compset="ClSpecial">
    <usesource source="pPsiUn"/>
    <tag group="AbilType" tag="Super"/>
    <tag group="Usage" tag="Day"/>
    <tag group="ChargeAttr" tag="aWIS"/>
    <tag group="ChargeCalc" tag="AttrUses3"/>
    <tag group="abAction" tag="PUExpFocus"/>
    <eval phase="PostAttr" priority="5000"><![CDATA[var myTimes as number

myTimes = field[xIndex].value

field[listname].text = "Augmented Shot (+" & myTimes & " dice)"

~These calculations should only happen for the first copy
doneif (tagis[Helper.FirstCopy] = 0)

~ If we're not shown, just get out now
doneif (tagis[Helper.ShowSpec] = 0)

field[abValue].value += field[xCount].value

field[livename].text = "Augmented Shot (+" & field[abValue].value & " dice)"]]></eval>
    </thing>
  <thing id="cPUSniUnsF" name="Unstoppable Force" description="Upon achieving 12th level, if a sniper marksmans ranged attack would deal enough damage to a target to kill the target or knock it unconscious, the marksman may choose to have the bolt continue on a straight line through the targets location until it hits another target, at which point the marksman makes a second attack roll at the same bonus as the previous attack -4. If this attack roll is successful, the target takes damage as if struck by the attack (although bonus damage that would not be multiplied on a critical hit only applies to the first target). This process repeats until a target is not killed or knocked unconscious, an attack roll misses, or the attack reaches its maximum range." compset="ClSpecial">
    <usesource source="pPsiUn"/>
    <tag group="Usage" tag="Day"/>
    <tag group="AbilType" tag="Extra"/>
    </thing>
  <thing id="cPUSniEyeN" name="Through the Eye of the Needle" description="Upon reaching 20th level, the sniper marksman gains the master technique Through the Eye of the Needle. \n\n{i}Through the Eye of the Needle:{/i} As a standard action, you carefully focus your shot on your enemy and make a single ranged attack against that enemy. If your attack is successful, the target takes an additional 5d6 points of damage and gains one of the following penalties, your choice, until they are fully healed (at full hit points): \n\n Ability damage equal to your Wisdom modifier to\nany one stat\n -4 to all attacks and damage rolls\n Blinded\n Deafened\n Staggered\n Shaken and slowed\n\nA successful Fortitude save (DC 20 + the marksmans Wisdom modifier) negates the chosen penalty, but does not negate the damage taken." compset="ClSpecial">
    <usesource source="pPsiUn"/>
    <tag group="Usage" tag="Day"/>
    <tag group="StandardDC" tag="aWIS"/>
    <tag group="abSave" tag="FortPart"/>
    </thing>
  <thing id="cPUSniCriM" name="Critical Master" description="Once a sniper marksman has reached 16th level, her critical threat range with her favored weapons are doubled and she gains a competence bonus equal to her Wisdom modifier on rolls to confirm critical hits. This ability does not stack with the Improved Critical feat or keen weapons; instead, the critical threat range is only increased by 1." compset="ClSpecial">
    <usesource source="pPsiUn"/>
    <tag group="Usage" tag="Day"/>
    <tag group="AbilType" tag="Extra"/>
    </thing>
  <thing id="cPUVolSplS" name="Split Shot" description="A volley marksman is capable of psychokinetically splitting a ranged attack in-flight to hit two targets. When activated, a single ranged attack made by the marksman can strike one additional target within within 15 ft. of the initial target. Use the same attack roll to determine the success against both targets.\n\nRoll damage normally and split the damage to each target equally. This ability may be used a number of times per day equal to 3 + the marksmans Wisdom modifier." compset="ClSpecial">
    <usesource source="pPsiUn"/>
    <tag group="AbilType" tag="Super"/>
    <tag group="Usage" tag="Day"/>
    <tag group="StandardDC" tag="aWIS"/>
    <tag group="User" tag="Tracker"/>
    <tag group="ChargeCalc" tag="AttrUses3"/>
    <tag group="ChargeAttr" tag="aWIS"/>
    </thing>
  <thing id="cPUVolQuiV" name="Quick Volley" description="Volley marksmen of 8th level learn to fire their weapons rapidly while needing to maintain mobility. As long as the marksman maintains psionic focus, she can make a full attack with a ranged or thrown weapon while also moving her full movement, but suffers a -4 penalty to all attacks made during the round and suffers a -2 penalty to her Armor Class until the beginning of her next turn." compset="ClSpecial">
    <usesource source="pPsiUn"/>
    <tag group="AbilType" tag="Super"/>
    <tag group="Usage" tag="Day"/>
    <tag group="abAction" tag="PUManFocus"/>
    </thing>
  <thing id="cPUVolBurA" name="Burst Arrows" description="At 12th level, a volley marksman is capable of charging her ranged attacks with psychokinetic energy to explode and disrupt enemies. Once per day as part of a full attack with a ranged or thrown weapon, the marksman can expend psionic focus and have the space occupied by each target treated as if covered in caltrops for a number of rounds equal to her Wisdom modifier. In addition, all creatures within a 5 ft. radius of the struck target take damage equal to the marksmans Wisdom modifier unless they make a successful Reflex save (DC 10 + half marksman level + marksmans Wisdom modifier). \n\nThis ability can be used an additional time per day every two marksman levels thereafter." compset="ClSpecial">
    <fieldval field="trkMax" value="1"/>
    <usesource source="pPsiUn"/>
    <tag group="Usage" tag="Day"/>
    <tag group="StandardDC" tag="aWIS"/>
    <tag group="User" tag="Tracker"/>
    <tag group="AbilType" tag="Super"/>
    <tag group="abAction" tag="PUExpFocus"/>
    <eval phase="PostLevel" priority="1000"><![CDATA[var myLevel as number

~exit if less than level 14
doneif (#levelcount[Marksman] < 14)

myLevel = (#levelcount[Marksman] - 12)

field[abValue].value = round(myLevel/2,0,-1)

field[trkMax].value += field[abValue].value]]></eval>
    </thing>
  <thing id="cPUVolVisV" name="Vicious Volley" description="Beginning at 16th level, a volley marksman is able to make her arrows more deadly and accurate. When making a full attack with a ranged or thrown weapon, the marksman may make two attack rolls for each attack in the full attack and take the better roll. This ability may be used once every 10 minutes." compset="ClSpecial">
    <fieldval field="trkMax" value="1"/>
    <usesource source="pPsiUn"/>
    <tag group="Usage" tag="Minute10"/>
    <tag group="User" tag="Tracker"/>
    <tag group="AbilType" tag="Super"/>
    </thing>
  <thing id="cPUVolBloS" name="Block the Sun" description="Upon reaching 20th level, the volley marksman gains the master technique Block the Sun.\n\n{i}Block the Sun:{/i} As a full-round action, you can choose two five foot squares per attack roll you would normally make during a full attack. Each targeted square must be adjacent to another targeted square. Make one attack roll at your highest attack bonus and use that against any creature or creatures in each affected square. If the attack is successful, you deal damage normally to each target successfully struck. If your attack threatens a critical, roll to confirm separately for each target struck. In addition, each square affected is treated as difficult terrain due to the volume of shots unleashed. Using this ability expends four units of ammunition (or one thrown weapon) per square affected and cannot be used unless sufficient ammunition is available. Alternately, the marksman may use one unit of ammunition per square affected or a single thrown weapon by expending one use of Split Shot, but does not gain the usual benefit of Split Shot this round. This ability may be combined with the Vicious Volley style ability." compset="ClSpecial">
    <usesource source="pPsiUn"/>
    <tag group="Usage" tag="Minute10"/>
    </thing>
  <thing id="cPU3FavWep" name="Favored Weapon" description="Marksmen of 2nd level select a group of ranged weapons from the list below as their preferred weapons and gain a +1 competence bonus to ranged attack rolls made with any weapon of that group. Every four marksman levels thereafter, this bonus increases by 1.\n\n{i}Bows:{/i} composite longbow, composite shortbow, longbow,  and shortbow.\n\n{i}Crossbows:{/i} double crossbow, hand crossbow, heavy crossbow, light crossbow, repeating heavy crossbow, and repeating light crossbow.\n\n{i}Spears:{/i} javelin, lance, longspear, pilum, shortspear, spear, and trident.\n\n{i}Thrown:{/i} blowgun, bolas, boomerang, chakram, club, dagger, dart, halfling sling staff, javelin, light hammer, net, shortspear, shuriken, sling, spear, starknife, throwing axe, trident, wooden stake.\n\n{b}Note:{/b} Note this ability is using the standard &quot;Fighter&quot; weapon groups. Meaning the weapons that are in each group will grow when every Paizo adds any weapons to the selected group." compset="ClSpecial" summary="Gain a compentence bonus to ranged attacks with the selected weapon group.">
    <fieldval field="usrCandid1" value="component.SelectHelp &amp; Selection.WeaponsGrp &amp; (wFtrGroup.Bows|wFtrGroup.Crossbows|wFtrGroup.Spears|wFtrGroup.Thrown)"/>
    <tag group="ProductId" tag="HLCommunit"/>
    <tag group="Usage" tag="Day"/>
    <tag group="ChooseSrc1" tag="Thing"/>
    <eval phase="PostLevel" priority="10000"><![CDATA[
      ~ Set the list name
      field[listname].text = field[thingname].text & " (" & signed(field[xIndex].value) & ")"

      ~ If we're not shown, just get out now
      doneif (tagis[Helper.ShowSpec] <> 1)
      ~ if we've been disabled, get out now
      doneif (tagis[Helper.SpcDisable] <> 0)

      field[abValue].value += field[xCount].value
      field[livename].text = field[thingname].text & " (" & signed(field[abValue].value) & ")"

      ~ The following should only happen once on the first copy
      doneif (tagis[Helper.FirstCopy] = 0)
      ~ If nothing chosen get out now!
      doneif (field[usrChosen1].ischosen <> 1)

      perform field[usrChosen1].chosen.pulltags[wFtrGroup.?]

      ~ Give a ranged attack bonus to each weapon
      foreach pick in hero from BaseWep where tagids[wFtrGroup.?]
        #applybonus[atrBonComp,eachpick,field[abValue].value]
      nexteach]]></eval>
    <eval phase="PostLevel" priority="10000" index="2"><![CDATA[
      ~ The following should only happen on each additional
      ~ bootstrap of this ability.
      doneif (tagis[Helper.FirstCopy] = 1)

      ~ Remove weapon group selection
      perform delete[ChooseSrc1.?]
      field[usrCandid1].text = ""]]></eval>
    </thing>
  <thing id="cPUCovFire" name="Cover FIre" description="Beginning at 4th level, the marksman knows not only how to directly engage her enemies, but also how to protect her allies. As an attack action, she may choose to fire a ranged or thrown weapon at an opponent within 30 feet to distract that opponent rather than to deal damage. Make an attack roll against the space a target occupies (AC 10). If successful, the targeted enemy must make a Reflex save (DC 10 + one-half the marksmans class level + the marksmans Dexterity modifier), or be staggered for one round. The marksman still expends ammunition as normal for this attack.\n\nIf the attack roll would indicate a critical threat and the result would hit the opponents AC, roll to confirm: if the critical hit is confirmed against the opponents AC, the attack does normal damage as well. A marksman cannot use cover fire if her opponent or the square she targets would be subject to a miss chance (such as from a concealed target)." compset="ClSpecial">
    <usesource source="pPsiUn"/>
    <tag group="Usage" tag="Day"/>
    <tag group="AbilType" tag="Extra"/>
    <tag group="StandardDC" tag="aDEX"/>
    </thing>
  <thing id="cPUDisenga" name="Disengage" description="Once a marksman has reached 7th level, she learns how to effectively distance herself from enemies.\n\nWhen the marksman would provoke an attack of opportunity for moving out of a threatened space, she may expend her psionic focus to add her Wisdom modifier to her Acrobatics rolls to avoid attacks of opportunity for the round and can move at full speed without increasing the Acrobatics DC." compset="ClSpecial">
    <usesource source="pPsiUn"/>
    <tag group="Usage" tag="Day"/>
    <tag group="AbilType" tag="Extra"/>
    <tag group="StandardDC" tag="aDEX"/>
    <tag group="abAction" tag="PUExpFocus"/>
    </thing>
  <thing id="cPUDefShot" name="Defensive Shot" description="At 13th level, a marksman no longer provokes attacks of opportunity when making ranged attacks with a ranged or thrown weapon." compset="ClSpecial">
    <usesource source="pPsiUn"/>
    <tag group="Usage" tag="Day"/>
    <tag group="AbilType" tag="Extra"/>
    </thing>
  <thing id="cPURangeSp" name="Ranged Specialist" description="At 19th level, a marksmans ranged and thrown attacks have their critical multiplier increased by 1 (x2 becomes x3, for example) and her penalties for range increments are halved. If the marksman has the Far Shot feat, she instead suffers no penalties for range increments." compset="ClSpecial">
    <usesource source="pPsiUn"/>
    <tag group="Usage" tag="Day"/>
    <tag group="AbilType" tag="Super"/>
    </thing>
  <thing id="cfgPUAstSu" name="Astral Suit" compset="Configure" uniqueness="unique">
    <fieldval field="cfgObject1" value="Astral Suit"/>
    <fieldval field="cfgObject2" value="Customization"/>
    <usesource source="pPsiUn"/>
    <tag group="ProductId" tag="HLCommunit"/>
    <eval phase="PostLevel" priority="1000">~Set cfgLevel and configurable points from Aegis Helper
field[cfgLevel].value = hero.childfound[cPUAegHelp].field[abValue].value

field[cfgMax2].value = hero.childfound[cPUAegHelp].field[abValue2].value</eval>
    </thing>
  <thing id="rcPUaSkin" name="Astral Skin" description="When formed in this way, an astral suit resembles a {i}psychoactive skin{/i}. Forming an astral suit into this form takes a swift action. The aegis gains no armor bonus from his astral suit when worn in this fashion, but he gains the following free customizations: speed (2), nimble. At 2nd level, the aegis gains the evasion customization as a free customization when the astral suit is in astral skin form. At 12th level, the aegis gains the improved evasion customization as a free customization when the astral suit is in astral skin form. An astral suit in this form does not count as any type of armor, but does count as a {i}psychoactive skin{/i} and follows all the rules of a {i}psychoactive skin{/i}." compset="RaceCustom">
    <usesource source="pPsiUn"/>
    <tag group="AllowRCust" tag="cfgPUAstSu"/>
    <tag group="Custom" tag="HasAstSkin"/>
    <tag group="Custom" tag="ASChosen"/>
    <bootstrap thing="rcPUaSpeed">
      <autotag group="CustTaken" tag="cfgPUAstSu"/>
      </bootstrap>
    <bootstrap thing="rcPUaNimbl">
      <autotag group="CustTaken" tag="cfgPUAstSu"/>
      </bootstrap>
    <bootstrap thing="rcPUaEvade">
      <containerreq phase="First" priority="500"><![CDATA[count:Classes.Aegis >= 2]]></containerreq>
      <autotag group="CustTaken" tag="cfgPUAstSu"/>
      </bootstrap>
    <bootstrap thing="rcPUaIEvad">
      <containerreq phase="First" priority="500"><![CDATA[count:Classes.Aegis >= 12]]></containerreq>
      <autotag group="CustTaken" tag="cfgPUAstSu"/>
      </bootstrap>
    <bootstrap thing="rcPUaSpeed">
      <autotag group="CustTaken" tag="cfgPUAstSu"/>
      </bootstrap>
    <eval phase="First">~ Reduce cost of bootstrapped Customizations
~ hero.childfound[cfgPUAstSu].field[cfgSpent2].value -= 4

perform forward[Custom.HasAstSkin]
perform forward[Custom.ASChosen]</eval>
    </thing>
  <thing id="rcPUaArmor" name="Astral Armor" description="When formed into astral armor, an astral suit resembles masterwork chainmail and is treated as such for all mechanical purposes. Should the aegis be wearing armor when forming his astral suit in this fashion, the astral suit encloses the armor and the aegis gains the benefits of only his astral suit and not that from his armor, even if his armor would confer better benefits. Forming an astral suit into this form takes a move action. The aegis gains the following free customizations: brawn, improved damage. At 2nd level, the aegis gains the flexible suit customization as a free customization when the astral suit is in astral armor form. At 8th level, the astral suit resembles and is treated as a masterwork breastplate for all mechanical purposes." compset="RaceCustom" uniqueness="useronce">
    <usesource source="pPsiUn"/>
    <tag group="AllowRCust" tag="cfgPUAstSu"/>
    <tag group="Custom" tag="HasAstArm" name="Has Astral Armor"/>
    <tag group="Custom" tag="ASChosen"/>
    <bootstrap thing="rcPUaFlexS">
      <containerreq phase="First" priority="500"><![CDATA[count:Classes.Aegis >= 2]]></containerreq>
      <autotag group="CustTaken" tag="cfgPUAstSu"/>
      </bootstrap>
    <bootstrap thing="mPUAstArCh">
      <containerreq phase="First" priority="100"><![CDATA[(count:Custom.AegisLvls < 8) & (count:hero#Custom.WearAstS = 1)]]></containerreq>
      </bootstrap>
    <bootstrap thing="mPUAstArBr">
      <containerreq phase="First" priority="100"><![CDATA[(count:Custom.AegisLvls >= 8) & (count:hero#Custom.WearAstS = 1)]]></containerreq>
      </bootstrap>
    <bootstrap thing="rcPUaImDmg">
      <autotag group="CustTaken" tag="cfgPUAstSu"/>
      </bootstrap>
    <bootstrap thing="rcPUaBrawn">
      <autotag group="CustTaken" tag="cfgPUAstSu"/>
      </bootstrap>
    <eval phase="First">perform forward[Custom.HasAstArm]
perform forward[Custom.ASChosen]</eval>
    </thing>
  <thing id="rcPUaJugge" name="Astral Juggernaut" description="When formed into astral juggernaut, an astral suit resembles masterwork half-plate and is treated as such for all mechanical purposes. Should the aegis be wearing armor when forming his astral suit in this fashion, the astral suit encloses the armor and the aegis gains the benefits of only his astral suit and not that from his armor, even if his armor would confer better benefits. Forming an astral suit into this form takes a full-round action. The aegis gains the following free customizations: fortification, hardy. At 2nd level, the aegis gains the stalwart customization as a free customization when the astral suit is in astral juggernaut form. At 7th level, the astral suit resembles and is treated as masterwork full plate for all mechanical purposes." compset="RaceCustom" uniqueness="useronce">
    <usesource source="pPsiUn"/>
    <tag group="AllowRCust" tag="cfgPUAstSu"/>
    <tag group="Custom" tag="HasAstJugg" name="Has Astral Juggernaut"/>
    <tag group="Custom" tag="HasAstSkin"/>
    <bootstrap thing="rcPUaStalw">
      <containerreq phase="First" priority="500"><![CDATA[count:Classes.Aegis >= 2]]></containerreq>
      <autotag group="CustTaken" tag="cfgPUAstSu"/>
      </bootstrap>
    <bootstrap thing="mPUAstArFP">
      <containerreq phase="First" priority="100"><![CDATA[(count:Custom.AegisLvls >= 7) & (count:hero#Custom.WearAstS = 1)]]></containerreq>
      </bootstrap>
    <bootstrap thing="mPUAstArHP">
      <containerreq phase="First" priority="100"><![CDATA[(count:Custom.AegisLvls < 7) & (count:hero#Custom.WearAstS = 1)]]></containerreq>
      </bootstrap>
    <bootstrap thing="rcPUaForti">
      <autotag group="CustTaken" tag="cfgPUAstSu"/>
      </bootstrap>
    <bootstrap thing="rcPUaHardy">
      <autotag group="CustTaken" tag="cfgPUAstSu"/>
      </bootstrap>
    <eval phase="First">perform forward[Custom.HasAstJugg]
perform forward[Custom.ASChosen]</eval>
    </thing>
  <thing id="rcPUaSpeed" name="Speed" description="The aegis&apos;s base land speed is increased by 5 feet. This customization can be selected up to five times.{br}{br}Its effects stack." compset="RaceCustom">
    <usesource source="pPsiUn"/>
    <tag group="Helper" tag="Secondary"/>
    <tag group="CustomCost" tag="1"/>
    <tag group="SpecType" tag="Movement"/>
    <tag group="AllowRCust" tag="cfgPUAstSu"/>
    <eval phase="PostLevel" priority="10000"><![CDATA[
      ~ see if a quickfind has been created by another copy of this ability
      perform quickfind.setfocus

      ~ if we didn't find a redirction, we're the first copy of this ability to run this script, so we'll make ourselves the FirstCopy.
      if (state.isfocus = 0) then
        perform quickadd
        perform assign[Helper.FirstCopy]
        ~ add +1 to our value
        field[abValue].value += 1

      ~ otherwise, redirct hero.child[] to the FirstCopy, and make us an upgrade
      else
        perform focus.redirect
        perform assign[Helper.SpecUp]
        ~ add +10 to the focus's value
        focus.field[abValue].value += 1
        endif]]></eval>
    <eval phase="Render" index="2"><![CDATA[
      if (field[abValue].value > 1) then
        field[livename].text = field[thingname].text & " (" & field[abValue].value & ")"
        endif]]></eval>
    <eval phase="PostLevel" priority="10001" index="3"><![CDATA[~ If we're not enabled, get out now
doneif (hero.tagcount[Custom.WearAstS] = 0)

~ Bonus to Speed
hero.child[Speed].field[tSpeed].value += (field[abValue].value * 5)]]></eval>
    <prereq message="">
      <validate><![CDATA[if (@ispick <> 0) then
  validif (tagcount[HasAbility.rcPUaSpeed] <= 5)

~ otherwise, look for fewer, since we're adding this
else
  validif (tagcount[HasAbility.rcPUaSpeed] < 5)
  endif

 @message = "You may not have more than 5 copies of this ability."]]></validate>
      </prereq>
    </thing>
  <thing id="rcPUaDarkv" name="Darkvision" description="The aegis gains darkvision out to a range of 60 feet." compset="RaceCustom" uniqueness="useronce">
    <usesource source="pPsiUn"/>
    <tag group="Helper" tag="Secondary"/>
    <tag group="CustomCost" tag="1"/>
    <tag group="AllowRCust" tag="cfgPUAstSu"/>
    <tag group="SpecType" tag="Sense"/>
    <tag group="Helper" tag="SpecUp"/>
    <bootstrap thing="raDarkVis">
      <containerreq phase="First" priority="500"><![CDATA[count:hero#Custom.WearAstS <> 0]]></containerreq>
      <assignval field="abValue" value="60"/>
      </bootstrap>
    </thing>
  <thing id="rcPUaEnerR" name="Energy Resistance" description="The aegis gains resist 5 against his active energy type. This resistance increases by 5 for every 5 levels the aegis possesses, to a maximum of 15 at 10th level. This customization can be selected multiple times. Each time beyond the first, the aegis selects an energy type (cold, electricity, fire, or sonic) to gain resistance to, in addition to his active energy type. If the aegis&apos;s active energy type is the same as one he has selected, the effects do not stack." compset="RaceCustom">
    <fieldval field="usrCandid1" value="component.SelectHelp &amp; Selection.Energy &amp; (BloodEner.Cold|BloodEner.Elec|BloodEner.Fire|BloodEner.Sonic)"/>
    <usesource source="pPsiUn"/>
    <tag group="CustomCost" tag="1"/>
    <tag group="AllowRCust" tag="cfgPUAstSu"/>
    <tag group="SpecType" tag="Resist"/>
    <tag group="Helper" tag="Secondary"/>
    <tag group="ChooseSrc1" tag="Thing"/>
    <tag group="Helper" tag="SpecUp"/>
    <eval phase="PostLevel" priority="1000"><![CDATA[
      ~ If we're not wearling the Astral Suit, get out now
      doneif (hero.tagcount[Custom.WearAstS] = 0)

      ~if nothing's been selected, there's nothing we can do
      doneif (field[usrChosen1].ischosen = 0)

      if (field[usrChosen1].chosen.tagis[BloodEner.Cold] <> 0) then
        #applyresist[xDamRsCold, field[abValue].value]
      elseif (field[usrChosen1].chosen.tagis[BloodEner.Elec] <> 0) then
        #applyresist[xDamRsElec, field[abValue].value]
      elseif (field[usrChosen1].chosen.tagis[BloodEner.Fire] <> 0) then
        #applyresist[xDamRsFire, field[abValue].value]
      elseif (field[usrChosen1].chosen.tagis[BloodEner.Sonic] <> 0) then
        #applyresist[xDamRsSoni, field[abValue].value]
      endif]]></eval>
    <eval phase="PostLevel" priority="900" index="2">var res as number
      res = round(#levelcount[Aegis]/5,0,-1)*5
      res = minimum(res,10)
      res += 5
      field[abValue].value += res</eval>
    </thing>
  <thing id="rcPUaEvade" name="Evasion" description="As long as the aegis is wearing the astral suit, if the aegis is subjected to an attack that normally allows a Reflex save for half damage, he takes no damage if he makes a successful saving throw. The aegis must be at least 2nd level before selecting this customization." compset="RaceCustom" uniqueness="useronce">
    <usesource source="pPsiUn"/>
    <tag group="Helper" tag="Secondary"/>
    <tag group="CustomCost" tag="1"/>
    <tag group="AllowRCust" tag="cfgPUAstSu"/>
    <tag group="SpecType" tag="Defense"/>
    <tag group="Helper" tag="SpecUp"/>
    <bootstrap thing="raEvasion">
      <containerreq phase="First" priority="500"><![CDATA[count:hero#Custom.WearAstS <> 0]]></containerreq>
      </bootstrap>
    <prereq message="Aegis level 2+ required.">
      <validate><![CDATA[
        var classcheck as string
        var levels as number
        classcheck = "Aegis"
        call PUPreReqs
        validif (levels >= 2)]]></validate>
      </prereq>
    </thing>
  <thing id="rcPUaExArL" name="Extra Arms, Lesser" description="The aegis&apos;s astral suit has an extra pair of arms with limited function. Each arm can hold, but not use, any one item that can normally be held in one hand. Items held in this way count toward the aegis&apos;s carrying capacity. The aegis can retrieve any item held by his extra arms as a swift action. The aegis does not gain any mechanical benefit from items held by these arms, such as a shield bonus to armor class." compset="RaceCustom" uniqueness="useronce">
    <usesource source="pPsiUn"/>
    <tag group="Helper" tag="Secondary"/>
    <tag group="CustomCost" tag="1"/>
    <tag group="AllowRCust" tag="cfgPUAstSu"/>
    </thing>
  <thing id="rcPUaFlexS" name="Flexible Suit" description="The aegis&apos;s armor check penalty is reduced by 1 (to a minimum of 0). The aegis may also sleep in his astral suit without becoming fatigued, if he was not already able to do so (such as if in astral skin form)." compset="RaceCustom" uniqueness="useronce">
    <usesource source="pPsiUn"/>
    <tag group="Helper" tag="Secondary"/>
    <tag group="CustomCost" tag="1"/>
    <tag group="AllowRCust" tag="cfgPUAstSu"/>
    <eval phase="PostLevel" priority="3000"><![CDATA[
      ~ If we're not wearing the Astral Suit, get out now
      doneif (hero.tagcount[Custom.WearAstS] = 0)

      foreach pick in hero from BaseArmor where "EquipType.Armor & Custom.AstArmor"
        eachpick.field[arArmorChk].value += 1
      nexteach]]></eval>
    </thing>
  <thing id="rcPUaHardS" name="Hardened Strikes" description="The aegis is considered to be armed even when unarmed, does not provoke attacks of opportunity when making unarmed strikes, and his unarmed strikes deal lethal damage. In addition, the aegis&apos;s unarmed strikes can deal slashing or piercing damage, chosen at the time the customization is selected, instead of bludgeoning damage." compset="RaceCustom" uniqueness="useronce">
    <arrayval field="usrArray" index="0" value="Slashing"/>
    <arrayval field="usrArray" index="1" value="Piercing"/>
    <usesource source="pPsiUn"/>
    <tag group="AllowRCust" tag="cfgPUAstSu"/>
    <tag group="CustomCost" tag="2"/>
    <tag group="Helper" tag="Secondary"/>
    <eval phase="First" priority="1000"><![CDATA[~ If we're not wearling the Astral Suit, get out now
doneif (hero.tagcount[Custom.WearAstS] = 0)

perform hero.childfound[wUnarmed].delete[wSpecial.Nonlethal]

if (compare(field[usrSelect].text,"Slashing") <> 0) then
  perform hero.childfound[wUnarmed].assign[wType.S]
elseif (compare(field[usrSelect].text,"Piercing") <> 0) then
  perform hero.childfound[wUnarmed].assign[wType.P]
endif]]></eval>
    </thing>
  <thing id="rcPUaHarPS" name="Harness Power Stone" description="The aegis can manifest a single 1st-level power from a power stone stored in his power stone repository as if it were a known power, with an effective manifester level of 1. This effective manifester level does not make an aegis eligible for feats and prestige classes requiring a manifester level, nor does it allow him to activate other power stones without a Use Magic Device check. The aegis may manifest the chosen power as many times as his power point pool will allow, but changing to a different power (either within the same power stone, or within another power stone in the repository) requires a move action and flushes the old power from the power stone (so power stones with multiple powers lose one power, but the rest are unaffected; power stones with only a single power are flushed and dissolved). If this customization is lost or removed, any applicable attuned power is flushed from the power stone. The aegis must be at least 3rd level and have the Power Stone Repository customization to select this customization. This customization may be selected a second time beginning at 5th level; doing so allows the aegis to manifest a second 1st-level power from a power stone (either a second stone, or a second power in an already-selected stone). The aegis may freely alternate between these two powers (or any others gained via Harness Power Stone customizations) when manifesting, but trading out either power for a new power flushes out the sacrificed power as usual." compset="RaceCustom">
    <usesource source="pPsiUn"/>
    <tag group="Helper" tag="Secondary"/>
    <tag group="CustomCost" tag="1"/>
    <tag group="AllowRCust" tag="cfgPUAstSu"/>
    <exprreq message="Power Stone Repository customization required."><![CDATA[#hasability[rcPUaPwrSR] <> 0]]></exprreq>
    <prereq message="Aegis level 3+ required.">
      <validate><![CDATA[
        var classcheck as string
        var levels as number
        classcheck = "Aegis"
        call PUPreReqs
        validif (levels >= 3)]]></validate>
      </prereq>
    <prereq message="">
      <validate><![CDATA[var allowed as number
if (#levelcount[Aegis] <= 4 ) then
  allowed = 1
else
  allowed = 2
endif

~ if we're a pick, then there must be complevel/5 or fewer copies of
~ this ability
if (@ispick <> 0) then
  validif (tagcount[HasAbility.rcPUaHarPS] <= allowed)

~ otherwise, look for fewer, since we're adding this
else
  validif (tagcount[HasAbility.rcPUaHarPS] < allowed)
  endif

 @message = "You may not have more than " & allowed & " copies of this ability."]]></validate>
      </prereq>
    </thing>
  <thing id="rcPUaHarSh" name="Harness Shard" description="The aegis is able to place a single {i}shard{/i} into the astral suit as a move action. By spending one power point as a standard action, he can gain one use of the {i}shard{/i} without the shard disintegrating. This customization may be selected multiple times. Each time, it allows the aegis to store an additional shard within the astral suit, although each shard must be activated separately." compset="RaceCustom">
    <usesource source="pPsiUn"/>
    <tag group="Helper" tag="Secondary"/>
    <tag group="CustomCost" tag="1"/>
    <tag group="AllowRCust" tag="cfgPUAstSu"/>
    <tag group="ProductId" tag="HLCommunit"/>
    <tag group="User" tag="Activation"/>
    </thing>
  <thing id="rcPUaImpAr" name="Improved Armor" description="The astral suit thickens and strengthens, increasing the aegis&apos;s Armor bonus by +1. This customization can be taken once for every five levels the aegis possesses and stacks with any Armor bonus granted from the astral suit itself. The aegis must be at least 5th level before selecting this customization." compset="RaceCustom" uniqueness="useronce">
    <usesource source="pPsiUn"/>
    <tag group="Helper" tag="Secondary"/>
    <tag group="CustomCost" tag="1"/>
    <tag group="AllowRCust" tag="cfgPUAstSu"/>
    <tag group="SpecType" tag="Defense"/>
    <eval phase="PostLevel" priority="3500"><![CDATA[
      ~ If we're not wearing the Astral Suit, get out now
      doneif (hero.tagcount[Custom.WearAstS] = 0)

      foreach pick in hero from BaseArmor where "EquipType.Armor & Custom.AstArmor"
        eachpick.field[Bonus].value += 1
      nexteach]]></eval>
    <prereq message="Aegis level 5+ required.">
      <validate><![CDATA[
        var classcheck as string
        var levels as number
        classcheck = "Aegis"
        call PUPreReqs
        validif (levels >= 5)]]></validate>
      </prereq>
    </thing>
  <thing id="rcPUaPwrSR" name="Power Stone Repository" description="The aegis may absorb power stones into his astral suit, causing them to appear and disappear whenever the suit does. The aegis may choose to have the absorbed power stones visible (much like embedded gems), or may decide to keep any or all of them concealed. The aegis may store one power stone per class level in this fashion; adding or removing a power stone takes 1 minute per stone (any power stone that is completely flushed and powerless dissolves immediately and is not counted against the aegis&apos;s limit).{br}{br}The aegis may activate any power stone stored in his repository as if he were holding it in hand; this follows all of the standard rules for using power stones, except the aegis gets a bonus equal to the number of stored power stones to any Use Magic Device checks he makes for this purpose. If the aegis loses this customization for any reason, any power stones stored in the astral suit are inert but unharmed until removed or this customization is regained." compset="RaceCustom">
    <usesource source="pPsiUn"/>
    <tag group="Helper" tag="Secondary"/>
    <tag group="CustomCost" tag="1"/>
    <tag group="AllowRCust" tag="cfgPUAstSu"/>
    </thing>
  <thing id="rcPUaPsiAt" name="Psionic Attacks" description="The aegis&apos;s astral suit encompasses his melee attacks. All of the aegis&apos;s melee attacks are treated as if they were magic for the purpose of overcoming damage reduction. In addition, any melee weapons wielded by the aegis are treated as masterwork if they are not already." compset="RaceCustom" uniqueness="useronce">
    <usesource source="pPsiUn"/>
    <tag group="Helper" tag="Secondary"/>
    <tag group="CustomCost" tag="1"/>
    <tag group="AllowRCust" tag="cfgPUAstSu"/>
    </thing>
  <thing id="rcPUaPsiDa" name="Psionic Damage" description="The aegis&apos;s melee attacks deal an additional 1 point of damage. The aegis must have the psionic attacks customization and must be at least 5th level to select this customization." compset="RaceCustom" uniqueness="useronce">
    <usesource source="pPsiUn"/>
    <tag group="Helper" tag="Secondary"/>
    <tag group="CustomCost" tag="1"/>
    <tag group="AllowRCust" tag="cfgPUAstSu"/>
    <eval phase="PostLevel" priority="10000"><![CDATA[
      ~ If we're not enabled, get out now
      doneif (hero.tagcount[Custom.WearAstS] = 0)

      hero.child[Damage].field[dmmBonus].value += 1]]></eval>
    <exprreq message="Psionic Attacks customization required."><![CDATA[#hasability[rcPUaPsiAt] <> 0]]></exprreq>
    <prereq message="Aegis level 5+ required.">
      <validate><![CDATA[
        var classcheck as string
        var levels as number
        classcheck = "Aegis"
        call PUPreReqs
        validif (levels >= 5)]]></validate>
      </prereq>
    </thing>
  <thing id="rcPUaPull" name="Pull" description="The aegis&apos;s astral suit envelopes his weapon and grants him the ability to pull creatures closer with a successful melee attack. Whenever the aegis makes a successful melee attack, he can attempt a free combat maneuver check. If successful, the target of the attack is pulled 5 feet closer to the aegis. This ability only works on creatures of a size equal to or smaller than the aegis.{br}{br}Creatures pulled in this way do not provoke attacks of opportunity. The aegis must have a reach of 10 feet or more to select this customization. If there is insufficient room for the target to move closer to the aegis, the attempt automatically fails." compset="RaceCustom" uniqueness="useronce">
    <usesource source="pPsiUn"/>
    <tag group="Helper" tag="Secondary"/>
    <tag group="CustomCost" tag="1"/>
    <tag group="AllowRCust" tag="cfgPUAstSu"/>
    </thing>
  <thing id="rcPUaPush" name="Push" description="The aegis gains the ability to push creatures away with a successful attack. Whenever the aegis makes a successful melee attack, he can attempt a free combat maneuver check. If successful, the target of the attack is pushed 5 feet directly away from the aegis.{br}{br}This ability only works on creatures of a size equal to or smaller than the aegis. Creatures pushed in this way do not provoke attacks of opportunity. If there is insufficient room for the target to be pushed away, the attempt automatically fails." compset="RaceCustom" uniqueness="useronce">
    <usesource source="pPsiUn"/>
    <tag group="Helper" tag="Secondary"/>
    <tag group="CustomCost" tag="1"/>
    <tag group="AllowRCust" tag="cfgPUAstSu"/>
    </thing>
  <thing id="rcPUaRngAt" name="Ranged Attack" description="The aegis gains the ability to propel a non-psionic crystal, formed from the astral suit, at a target as a ranged attack that deals 1d8 points of piercing damage and has a range increment of 30 ft. This attack can be used as part of a full attack, including using this attack for each attack in the full attack." compset="RaceCustom">
    <usesource source="pPsiUn"/>
    <tag group="Helper" tag="Secondary"/>
    <tag group="CustomCost" tag="1"/>
    <tag group="AllowRCust" tag="cfgPUAstSu"/>
    </thing>
  <thing id="rcPUaRetal" name="Retaliate" description="The aegis gains the ability as an immediate action and by expending psionic focus to make a melee attack against an enemy that has successfully hit him with a melee attack. This counts as an attack of opportunity and the aegis must be able to reach the enemy. An aegis must be at least 8th level before selecting this customization." compset="RaceCustom" uniqueness="useronce">
    <usesource source="pPsiUn"/>
    <tag group="Helper" tag="Secondary"/>
    <tag group="CustomCost" tag="1"/>
    <tag group="AllowRCust" tag="cfgPUAstSu"/>
    <prereq message="Aegis level 8+ required.">
      <validate><![CDATA[
        var classcheck as string
        var levels as number
        classcheck = "Aegis"
        call PUPreReqs
        validif (levels >= 8)]]></validate>
      </prereq>
    </thing>
  <thing id="rcPUaSpikC" name="Spiked Carapace" description="The astral suit is covered in sharp spikes as if equipped with armor spikes." compset="RaceCustom" uniqueness="useronce">
    <usesource source="pPsiUn"/>
    <tag group="Helper" tag="Secondary"/>
    <tag group="CustomCost" tag="1"/>
    <tag group="AllowRCust" tag="cfgPUAstSu"/>
    </thing>
  <thing id="rcPUaStalw" name="Stalwart" description="As long as the aegis is wearing the astral suit, if the aegis is subjected to an attack that normally allows a Fortitude or Will save for a reduced or partial effect, he ignores the effect if he makes a successful saving throw.{br}{br}The aegis must be at least 2nd level before selecting this customization." compset="RaceCustom" uniqueness="useronce">
    <usesource source="pPsiUn"/>
    <tag group="Helper" tag="Secondary"/>
    <tag group="CustomCost" tag="1"/>
    <tag group="AllowRCust" tag="cfgPUAstSu"/>
    <prereq message="Aegis level 2+ required.">
      <validate><![CDATA[
        var classcheck as string
        var levels as number
        classcheck = "Aegis"
        call PUPreReqs
        validif (levels >= 2)]]></validate>
      </prereq>
    </thing>
  <thing id="rcPUaSwim" name="Swim" description="The aegis gains a swim speed equal to his base speed." compset="RaceCustom" uniqueness="useronce">
    <usesource source="pPsiUn"/>
    <tag group="Helper" tag="Secondary"/>
    <tag group="CustomCost" tag="1"/>
    <tag group="AllowRCust" tag="cfgPUAstSu"/>
    <eval phase="Final" priority="14000"><![CDATA[~ If we're not wearling the Astral Suit, get out now
doneif (hero.tagcount[Custom.WearAstS] = 0)

hero.child[xSwim].field[abValue].value = maximum(hero.child[xSwim].field[abValue].value, hero.child[Speed].field[tSpeed].value)]]></eval>
    </thing>
  <thing id="rcPUaUndw" name="Underwater Breath" description="The aegis can safely breathe underwater as long as he is wearing his astral suit." compset="RaceCustom" uniqueness="useronce">
    <usesource source="pPsiUn"/>
    <tag group="Helper" tag="Secondary"/>
    <tag group="CustomCost" tag="1"/>
    <tag group="AllowRCust" tag="cfgPUAstSu"/>
    </thing>
  <thing id="rcPUaAdFt1" name="Adhesive Feet" description="The aegis gains a +4 bonus to CMD against bull rush, trip, and any combat maneuvers that attempt to move him from his current location. He also gains a +4 circumstance bonus to Climb checks." compset="RaceCustom" uniqueness="useronce">
    <usesource source="pPsiUn"/>
    <tag group="Helper" tag="Secondary"/>
    <tag group="CustomCost" tag="2"/>
    <tag group="AllowRCust" tag="cfgPUAstSu"/>
    <eval phase="PreLevel" priority="1000"><![CDATA[#situational[hero.child[ManeuvDef], "+4 bonus to CMD against bull rush, trip, and any combat maneuvers that attempt to move from current location",field[thingname].text]

#skillbonus[skClimb] += 4]]></eval>
    </thing>
  <thing id="rcPUaAugWp" name="Augmented Weapon" description="The astral suit coats the aegis&apos;s weapon. The weapon is treated as if it was one size category larger for damage purposes. The aegis does not suffer any penalties for wielding the weapon. This ability does not stack with effects that increase the aegis&apos;s size category, such as {i}expansion{/i}. The aegis must be at least 6th level to select this customization." compset="RaceCustom" uniqueness="useronce">
    <usesource source="pPsiUn"/>
    <tag group="Helper" tag="Secondary"/>
    <tag group="CustomCost" tag="2"/>
    <tag group="AllowRCust" tag="cfgPUAstSu"/>
    <eval phase="PreLevel" priority="5000"><![CDATA[
      ~ If we're not wearing the Astral Suit, get out now
      doneif (hero.tagcount[Custom.WearAstS] = 0)

      foreach pick in hero from BaseWep where "fieldval:gIsEquip = 1"
        perform eachpick.assign[Helper.DamageUp]
      nexteach]]></eval>
    <prereq message="Aegis level 6+ required.">
      <validate><![CDATA[
        var classcheck as string
        var levels as number
        classcheck = "Aegis"
        call PUPreReqs
        validif (levels >= 6)]]></validate>
      </prereq>
    </thing>
  <thing id="rcPUaBrawn" name="Brawn" description="The aegis gains a +2 enhancement bonus to Strength while he is wearing his astral suit. This customization can be selected a second time beginning at 5th level, and a third time starting at 10th level. Each subsequent time it is taken, the enhancement bonus to Strength is increased by +2." compset="RaceCustom">
    <usesource source="pPsiUn"/>
    <tag group="Helper" tag="Secondary"/>
    <tag group="CustomCost" tag="2"/>
    <tag group="AllowRCust" tag="cfgPUAstSu"/>
    <eval phase="PostLevel"><![CDATA[~ If we're not wearling the Astral Suit, get out now
doneif (hero.tagcount[Custom.WearAstS] = 0)

var Taken as number
Taken = hero.tagcount[Ability.rcPUaBrawn] * 2

#enhancementbonus[hero.child[aSTR], Taken]]]></eval>
    <prereq message="">
      <validate><![CDATA[var allowed as number
allowed = minimum(round(#levelcount[Aegis]/5,0,-1)+1,3)

~ if we're a pick, then there must be complevel/5 or fewer copies of
~ this ability
if (@ispick <> 0) then
  validif (tagcount[HasAbility.rcPUaBrawn] <= allowed)

~ otherwise, look for fewer, since we're adding this
else
  validif (tagcount[HasAbility.rcPUaBrawn] < allowed)
  endif

 @message = "You may not have more than " & allowed & " copies of this ability."]]></validate>
      </prereq>
    </thing>
  <thing id="rcPUaCham" name="Chameleon" description="The aegis gains a +4 circumstance bonus to Stealth checks. The aegis must be at least 5th level before selecting this customization and this customization can be taken once for every five levels the aegis possesses." compset="RaceCustom">
    <usesource source="pPsiUn"/>
    <tag group="Helper" tag="Secondary"/>
    <tag group="CustomCost" tag="2"/>
    <tag group="AllowRCust" tag="cfgPUAstSu"/>
    <prereq message="Aegis level 5+ required.">
      <validate><![CDATA[
        var classcheck as string
        var levels as number
        classcheck = "Aegis"
        call PUPreReqs
        validif (levels >= 5)]]></validate>
      </prereq>
    <prereq message="">
      <validate><![CDATA[
        var classcheck as string
        var levels as number
        classcheck = "Aegis"
        call PUPreReqs
        var allowed as number
        allowed = round(levels/5,0,-1)

        ~ if we're a pick, then there must be complevel/5 or fewer copies of
        ~ this ability
        if (@ispick <> 0) then
          validif (tagcount[HasAbility.rcPUaCham] <= allowed)
        ~ otherwise, look for fewer, since we're adding this
        else
          validif (tagcount[HasAbility.rcPUaCham] < allowed)
        endif

         @message = "You may not have more than " & allowed & " copies of this ability."]]></validate>
      </prereq>
    </thing>
  <thing id="rcPUaClimb" name="Climb" description="The aegis gains a climb speed equal to 1/2 of his base land speed." compset="RaceCustom" uniqueness="useronce">
    <usesource source="pPsiUn"/>
    <tag group="Helper" tag="Secondary"/>
    <tag group="CustomCost" tag="2"/>
    <tag group="AllowRCust" tag="cfgPUAstSu"/>
    <eval phase="Final" priority="14000"><![CDATA[~ If we're not wearling the Astral Suit, get out now
doneif (hero.tagcount[Custom.WearAstS] = 0)

hero.child[xClimb].field[abValue].value = maximum(hero.child[xClimb].field[abValue].value, hero.child[Speed].field[tSpeed].value)]]></eval>
    </thing>
  <thing id="rcPUaCryWp" name="Crystallized Weapon" description="The aegis&apos;s astral suit envelopes his melee weapon. The weapon is treated as if made from deep crystal. This treats the weapon as a masterwork weapon if it was not already and the aegis can pay two power points to charge the weapon with psionic energy which deals 2d6 additional points of damage on its next hit. The weapon stays charged for 1 minute or until it successfully hits, whichever comes first." compset="RaceCustom" uniqueness="useronce">
    <usesource source="pPsiUn"/>
    <tag group="Helper" tag="Secondary"/>
    <tag group="CustomCost" tag="2"/>
    <tag group="AllowRCust" tag="cfgPUAstSu"/>
    </thing>
  <thing id="rcPUaIEneR" name="Energy Resistance, Improved" description="The energy resistance gained from the Energy Resistance customization doubles. The aegis must have the Energy Resistance customization and be at least 6th level to select this customization." compset="RaceCustom">
    <usesource source="pPsiUn"/>
    <tag group="Helper" tag="Secondary"/>
    <tag group="CustomCost" tag="2"/>
    <tag group="AllowRCust" tag="cfgPUAstSu"/>
    <eval phase="PostLevel" priority="950"><![CDATA[
      ~ If we're not wearling the Astral Suit, get out now
      doneif (hero.tagcount[Custom.WearAstS] = 0)

      var val as number
      val = hero.child[rcPUaEnerR].field[abValue].value
      hero.child[rcPUaEnerR].field[abValue].value += val]]></eval>
    <exprreq message="Energy Resistance customization required."><![CDATA[#hasability[rcPUaEnerR] <> 0]]></exprreq>
    <prereq message="Aegis level 6+ required.">
      <validate><![CDATA[
        var classcheck as string
        var levels as number
        classcheck = "Aegis"
        call PUPreReqs
        validif (levels >= 6)]]></validate>
      </prereq>
    </thing>
  <thing id="rcPUaExtAr" name="Extra Arms" description="The extra arms on the aegis&apos;s astral suit gain improved functionality. The aegis gains a +2 circumstance bonus to Climb checks and CMD against grapple attempts for each extra arm that is not holding anything. In addition, one of the arms can wield and use a light or one-handed weapon, a shield, or any other item that can be used with one hand. Attacks made with this additional arm suffer a -2 penalty to attack rolls in addition to any penalties for using two weapons.{br}{br}These extra arms do not grant any additional attacks, only alternate arms with which to make the standard attacks. The aegis must be at least 5th level and have the Lesser Extra Arms customization before selecting this customization." compset="RaceCustom" uniqueness="useronce">
    <usesource source="pPsiUn"/>
    <tag group="Helper" tag="Secondary"/>
    <tag group="CustomCost" tag="2"/>
    <tag group="AllowRCust" tag="cfgPUAstSu"/>
    <exprreq message="Extra Arms, Lesser customization required."><![CDATA[#hasability[rcPUaExArL] <> 0]]></exprreq>
    <prereq message="Aegis level 5+ required.">
      <validate><![CDATA[
        var classcheck as string
        var levels as number
        classcheck = "Aegis"
        call PUPreReqs
        validif (levels >= 5)]]></validate>
      </prereq>
    </thing>
  <thing id="rcPUaFligh" name="Flight" description="The aegis uses psychokinetic energy to gain a fly speed equal to its base speed. The aegis&apos;s maneuverability depends on his size. Medium or smaller aegii have good maneuverability. Large aegii have average maneuverability, while Huge aegii have poor maneuverability. For 2 additional customization points, the aegis&apos;s maneuverability increases to perfect. The aegis&apos;s fly speed can be increased by spending additional customization points, gaining a 20-foot increase to fly speed for each additional point spent. The aegis must be at least 5th level before selecting this customization." compset="RaceCustom">
    <usesource source="pPsiUn"/>
    <tag group="Helper" tag="Secondary"/>
    <tag group="CustomCost" tag="2"/>
    <tag group="AllowRCust" tag="cfgPUAstSu"/>
    <tag group="Helper" tag="SpecUp"/>
    <eval phase="Final" priority="14000"><![CDATA[~ If we're not wearling the Astral Suit, get out now
doneif (hero.tagcount[Custom.WearAstS] = 0)

hero.child[xFly].field[abValue].value = maximum(hero.child[xFly].field[abValue].value, hero.child[Speed].field[tSpeed].value)

if (hero.tagis[Size.Medium] <> 0) then
   perform hero.child[xFly].assign[Maneuver.Good]
elseif (hero.tagis[Size.Large] <> 0) then
   perform hero.child[xFly].assign[Maneuver.Average]
elseif (hero.tagis[Size.Huge] <> 0) then
   perform hero.child[xFly].assign[Maneuver.Poor]
endif]]></eval>
    <prereq message="Aegis level 5+ required.">
      <validate><![CDATA[
        var classcheck as string
        var levels as number
        classcheck = "Aegis"
        call PUPreReqs
        validif (levels >= 5)]]></validate>
      </prereq>
    </thing>
  <thing id="rcPUaForti" name="Fortification" description="The aegis gains 25% chance to negate critical hits or sneak attacks (so damage is rolled normally instead). This does not stack with armor with the same special ability. This ability can be selected again starting at 8th level and at 12th level, increasing the chance to negate critical hits or sneak attacks by an additional 25% for every additional time it is taken." compset="RaceCustom">
    <usesource source="pPsiUn"/>
    <tag group="Helper" tag="Secondary"/>
    <tag group="CustomCost" tag="2"/>
    <tag group="AllowRCust" tag="cfgPUAstSu"/>
    <tag group="Helper" tag="SpecUp"/>
    <eval phase="PostLevel" priority="5000"><![CDATA[~ If we're not wearling the Astral Suit, get out now
doneif (hero.tagcount[Custom.WearAstS] = 0)

var crit as number

crit = 25 * hero.tagcount[Ability.rcPUaForti]

#applyfort[crit]

~ step through each armor equipped and add the fortification
~foreach pick in hero from BaseArmor where "fieldval:gIsEquip = 1"
~  #applyfort[crit]
~nexteach]]></eval>
    <prereq message="">
      <validate><![CDATA[var allowed as number
if (#levelcount[Aegis] <= 7 ) then
  allowed = 1
elseif (#levelcount[Aegis] <= 11) then
  allowed = 2
else
  allowed = 3
endif

~ if we're a pick, then there must be complevel/5 or fewer copies of
~ this ability
if (@ispick <> 0) then
  validif (tagcount[HasAbility.rcPUaForti] <= allowed)

~ otherwise, look for fewer, since we're adding this
else
  validif (tagcount[HasAbility.rcPUaForti] < allowed)
  endif

 @message = "You may not have more than " & allowed & " copies of this ability."]]></validate>
      </prereq>
    </thing>
  <thing id="rcPUaHardy" name="Hardy" description="The aegis gains a +2 enhancement bonus to Constitution while he is wearing his astral suit. This customization can be selected a second time beginning at 5th level, and a third time starting at 10th level. Each subsequent time it is taken, the enhancement bonus to Constitution is increased by +2." compset="RaceCustom">
    <usesource source="pPsiUn"/>
    <tag group="Helper" tag="Secondary"/>
    <tag group="CustomCost" tag="2"/>
    <tag group="AllowRCust" tag="cfgPUAstSu"/>
    <eval phase="PostLevel"><![CDATA[~ If we're not wearling the Astral Suit, get out now
doneif (hero.tagcount[Custom.WearAstS] = 0)

var Taken as number
Taken = hero.tagcount[Ability.rcPUaHardy] * 2

#enhancementbonus[hero.child[aCON], Taken]]]></eval>
    <prereq message="">
      <validate><![CDATA[var allowed as number
allowed = minimum(round(#levelcount[Aegis]/5,0,-1)+1,3)

~ if we're a pick, then there must be complevel/5 or fewer copies of
~ this ability
if (@ispick <> 0) then
  validif (tagcount[HasAbility.rcPUaHardy] <= allowed)

~ otherwise, look for fewer, since we're adding this
else
  validif (tagcount[HasAbility.rcPUaHardy] < allowed)
  endif

 @message = "You may not have more than " & allowed & " copies of this ability."]]></validate>
      </prereq>
    </thing>
  <thing id="rcPUaHaPSI" name="Harness Power Stone, Improved" description="The aegis is able to manifest a single 2nd level or lower power from a power stone in his repository as if it were a known power. The aegis&apos;s effective manifester level when manifesting powers from power stones in this fashion is increased by 3 (this stacks with the effective manifester level gained from Harness Power stone as well as any effective manifester level increases granted by any of the other Harness Power Stone customizations). If this customization is lost or removed, any applicable attuned power is flushed from the power stone. The aegis does not need to have taken any previous Harness Power Stone customizations to take this customization. The aegis must be at least 7th level and have the Power Stone Repository customization to take this customization. The aegis can take this customization a second time at 9th level; doing so does not increase his effective manifester level, but allows him to manifest a second 2nd level power from a power stone." compset="RaceCustom">
    <usesource source="pPsiUn"/>
    <tag group="Helper" tag="Secondary"/>
    <tag group="CustomCost" tag="2"/>
    <tag group="AllowRCust" tag="cfgPUAstSu"/>
    <exprreq message="Power Stone Repository customization required."><![CDATA[#hasability[rcPUaPwrSR] <> 0]]></exprreq>
    <prereq message="Aegis level 7+ required.">
      <validate><![CDATA[
        var classcheck as string
        var levels as number
        classcheck = "Aegis"
        call PUPreReqs
        validif (levels >= 7)]]></validate>
      </prereq>
    <prereq message="">
      <validate><![CDATA[
        var classcheck as string
        var levels as number
        classcheck = "Aegis"
        call PUPreReqs

        var allowed as number
        if (levels <= 8 ) then
          allowed = 1
        else
          allowed = 2
        endif

        ~ if we're a pick, then there must be complevel/5 or fewer copies of
        ~ this ability
        if (@ispick <> 0) then
          validif (tagcount[HasAbility.rcPUaHaPSI] <= allowed)
        ~ otherwise, look for fewer, since we're adding this
        else
          validif (tagcount[HasAbility.rcPUaHaPSI] < allowed)
        endif

        @message = "You may not have more than " & allowed & " copies of this ability."]]></validate>
      </prereq>
    </thing>
  <thing id="rcPUaImDmg" name="Improved Damage" description="The aegis&apos;s melee attacks deal additional damage. If wielding a two-handed weapon, the aegis deals 3 additional points of damage on a successful hit. If wielding a one-handed weapon, the aegis deals 2 additional points of damage on a successful hit. If wielding a light weapon, the aegis deals 1 additional point of damage on a successful hit. If dual-wielding, each weapon is affected separately." compset="RaceCustom" uniqueness="useronce">
    <usesource source="pPsiUn"/>
    <tag group="Helper" tag="Secondary"/>
    <tag group="CustomCost" tag="2"/>
    <tag group="AllowRCust" tag="cfgPUAstSu"/>
    <eval phase="PreLevel" priority="5000"><![CDATA[
      ~ If we're not wearing the Astral Suit, get out now
      doneif (hero.tagcount[Custom.WearAstS] = 0)

      foreach pick in hero from BaseWep where "fieldval:gIsEquip = 1|fieldval:wIs2nd = 1"
        if (eachpick.tagis[wClass.Light] <> 0) then
          eachpick.field[wDamMelee].value += 1
        elseif (eachpick.tagis[wClass.OneHanded] <> 0) then
          eachpick.field[wDamMelee].value += 2
        elseif (eachpick.tagis[wClass.TwoHanded] <> 0) then
          eachpick.field[wDamMelee].value += 3
        endif
      nexteach]]></eval>
    </thing>
  <thing id="rcPUaIDamR" name="Improved Damage Reduction" description="The aegis&apos;s damage reduction from his astral suit increases by 1. This customization can be taken once for every five levels the aegis possesses Its effects stack. The aegis must be at least 5th level before selecting this customization." compset="RaceCustom">
    <usesource source="pPsiUn"/>
    <tag group="Helper" tag="Secondary"/>
    <tag group="CustomCost" tag="2"/>
    <tag group="AllowRCust" tag="cfgPUAstSu"/>
    <eval phase="PostLevel" priority="1000"><![CDATA[
      ~ If we're not wearling the Astral Suit, get out now
      doneif (hero.tagcount[Custom.WearAstS] = 0)

      hero.childfound[cPUAegDR].field[abValue2].value += 1]]></eval>
    <prereq message="Aegis level 5+ required.">
      <validate><![CDATA[
        var classcheck as string
        var levels as number
        classcheck = "Aegis"
        call PUPreReqs
        validif (levels >= 5)]]></validate>
      </prereq>
    <prereq message="">
      <validate><![CDATA[
        var classcheck as string
        var levels as number
        classcheck = "Aegis"
        call PUPreReqs

        var allowed as number
        allowed = round(levels/5,0,-1)

        ~ if we're a pick, then there must be complevel/5 or fewer copies of
        ~ this ability
        if (@ispick <> 0) then
          validif (tagcount[HasAbility.rcPUaIDamR] <= allowed)
        ~ otherwise, look for fewer, since we're adding this
        else
          validif (tagcount[HasAbility.rcPUaIDamR] < allowed)
        endif

        @message = "You may not have more than " & allowed & " copies of this ability."]]></validate>
      </prereq>
    </thing>
  <thing id="rcPUaInSiz" name="Increased Size" description="The transformed body grows in size and the aegis and all of his equipment is treated as one size category larger as if affected by {i}expansion{/i}. The aegis must be at least 9th level to select this customization." compset="RaceCustom" uniqueness="useronce">
    <usesource source="pPsiUn"/>
    <tag group="Helper" tag="Secondary"/>
    <tag group="CustomCost" tag="2"/>
    <tag group="AllowRCust" tag="cfgPUAstSu"/>
    <tag group="DescInfo" tag="puExpand1"/>
    <prereq message="Aegis level 9+ required.">
      <validate><![CDATA[
        var classcheck as string
        var levels as number
        classcheck = "Aegis"
        call PUPreReqs
        validif (levels >= 9)]]></validate>
      </prereq>
    </thing>
  <thing id="rcPUaNimbl" name="Nimble" description="The aegis gains a +2 enhancement bonus to Dexterity while he is wearing his astral suit. This customization can be selected a second time beginning at 5th level, and a third time starting at 10th level. Each subsequent time it is taken, the enhancement bonus to Dexterity is increased by +2." compset="RaceCustom" uniqueness="unique">
    <usesource source="pPsiUn"/>
    <tag group="Helper" tag="Secondary"/>
    <tag group="CustomCost" tag="2"/>
    <tag group="AllowRCust" tag="cfgPUAstSu"/>
    <eval phase="PostLevel" priority="10000"><![CDATA[~ If we're not enabled, get out now
doneif (hero.tagcount[Custom.WearAstS] = 0)

var Taken as number
Taken = hero.tagcount[Ability.rcPUaNimbl] * 2

#enhancementbonus[hero.child[aDEX], Taken]]]></eval>
    <prereq message="">
      <validate><![CDATA[var allowed as number
allowed = minimum(round(#levelcount[Aegis]/5,0,-1)+1,3)

~ if we're a pick, then there must be complevel/5 or fewer copies of
~ this ability
if (@ispick <> 0) then
  validif (tagcount[HasAbility.rcPUaNimbl] <= allowed)

~ otherwise, look for fewer, since we're adding this
else
  validif (tagcount[HasAbility.rcPUaNimbl] < allowed)
  endif

 @message = "You may not have more than " & allowed & " copies of this ability."]]></validate>
      </prereq>
    </thing>
  <thing id="rcPUaPwrR" name="Power Resistance" description="The aegis gains power resistance 13. This customization may be selected up to 3 times. Each subsequent time increases the power resistance gained by 3. This ability can be selected again starting at 8th level and at 12th level, increasing the power resistance by 3 for every additional time it is taken." compset="RaceCustom">
    <usesource source="pPsiUn"/>
    <tag group="Helper" tag="Secondary"/>
    <tag group="CustomCost" tag="2"/>
    <tag group="AllowRCust" tag="cfgPUAstSu"/>
    <eval phase="PostLevel" priority="5000"><![CDATA[~ If we're not wearling the Astral Suit, get out now
doneif (hero.tagcount[Custom.WearAstS] = 0)

var res as number

res = 10 + (3 * hero.tagcount[Ability.rcPUaPwrR])

#value[xPwrRes] = maximum(res,#value[xPwrRes])]]></eval>
    <prereq message="">
      <validate><![CDATA[var allowed as number
if (#levelcount[Aegis] <= 7 ) then
  allowed = 1
elseif (#levelcount[Aegis] <= 11) then
  allowed = 2
else
  allowed = 3
endif

~ if we're a pick, then there must be complevel/5 or fewer copies of
~ this ability
if (@ispick <> 0) then
  validif (tagcount[HasAbility.rcPUaPwrR] <= allowed)

~ otherwise, look for fewer, since we're adding this
else
  validif (tagcount[HasAbility.rcPUaPwrR] < allowed)
  endif

 @message = "You may not have more than " & allowed & " copies of this ability."]]></validate>
      </prereq>
    </thing>
  <thing id="rcPUaPowBl" name="Powerful Build" description="The aegis gains the powerful build trait while wearing his astral suit. Whenever the aegis is subject to a size modifier or special size modifier for a Combat Maneuver Bonus or Combat Maneuver Defense (such as during grapple checks, bull rush attempts, and trip attempts), the aegis is treated as one size larger if doing so is advantageous to him. The aegis is also considered to be one size larger when determining whether a creature&apos;s special attacks based on size (such as grab or swallow whole) can affect him. The aegis can use weapons designed for a creature one size larger without penalty. However, his space and reach remain those of a creature of his actual size. The benefits of this trait stack with the effects of powers, abilities, and spells that change the subject&apos;s size category." compset="RaceCustom" uniqueness="useronce">
    <usesource source="pPsiUn"/>
    <tag group="Helper" tag="Secondary"/>
    <tag group="CustomCost" tag="2"/>
    <tag group="AllowRCust" tag="cfgPUAstSu"/>
    <bootstrap thing="xPowBuild">
      <containerreq phase="First" priority="500"><![CDATA[count:hero#Custom.WearAstS <> 0]]></containerreq>
      </bootstrap>
    </thing>
  <thing id="rcPUaRam" name="Ram" description="The astral suit forms a hardened shell over the aegis&apos;s head. If the aegis makes a bull rush or overrun attempt, he gains a +2 bonus to his CMB. Alternatively, he can make a single attack with this shell as part of a charge and deal 2d6 points of damage. This attack is treated as adamantine when used to attack an object.{br}{br}This customization can be taken once for every five levels the aegis possesses, each additional selection increasing the bonus to CMB by 1 and the damage on a charge by 1d6 points of damage. The aegis must be at least 5th level before selecting this customization." compset="RaceCustom" uniqueness="useronce">
    <usesource source="pPsiUn"/>
    <tag group="Helper" tag="Secondary"/>
    <tag group="CustomCost" tag="2"/>
    <tag group="AllowRCust" tag="cfgPUAstSu"/>
    <prereq message="Aegis level 5+ required.">
      <validate><![CDATA[
        var classcheck as string
        var levels as number
        classcheck = "Aegis"
        call PUPreReqs
        validif (levels >= 5)]]></validate>
      </prereq>
    </thing>
  <thing id="rcPUaIReta" name="Retaliate, Improved" description="As the Retaliate customization, except the triggering attack does not need to be successful.{br}{br}The aegis must have the Retaliate customization and be at least 16th level before selecting this customization." compset="RaceCustom" uniqueness="useronce">
    <usesource source="pPsiUn"/>
    <tag group="Helper" tag="Secondary"/>
    <tag group="CustomCost" tag="2"/>
    <tag group="AllowRCust" tag="cfgPUAstSu"/>
    <exprreq message="Retaliate customization required."><![CDATA[#hasability[rcPUaRetal] <> 0]]></exprreq>
    <prereq message="Aegis level 16+ required.">
      <validate><![CDATA[
        var classcheck as string
        var levels as number
        classcheck = "Aegis"
        call PUPreReqs
        validif (levels >= 16)]]></validate>
      </prereq>
    </thing>
  <thing id="rcPUaTrem" name="Tremorsense" description="The aegis gains tremorsense out to a range of 30 feet. This allows the aegis to pinpoint the location of creatures that it cannot see without having to make a Perception check as long as the creature and the aegis are in contact with the ground, but such creatures still have total concealment from the aegis. Visibility still affects the aegis&apos;s movement and he is still denied his Dexterity bonus to Armor Class against attacks from creatures he cannot see. The aegis must be at least 7th level before selecting this customization." compset="RaceCustom" uniqueness="useronce">
    <usesource source="pPsiUn"/>
    <tag group="Helper" tag="Secondary"/>
    <tag group="CustomCost" tag="2"/>
    <tag group="AllowRCust" tag="cfgPUAstSu"/>
    <tag group="Helper" tag="SpecUp"/>
    <bootstrap thing="xTremorsen">
      <containerreq phase="First" priority="500"><![CDATA[count:hero#Custom.WearAstS <> 0]]></containerreq>
      <assignval field="abValue" value="30"/>
      </bootstrap>
    <prereq message="Aegis level 7+ required.">
      <validate><![CDATA[
        var classcheck as string
        var levels as number
        classcheck = "Aegis"
        call PUPreReqs
        validif (levels >= 7)]]></validate>
      </prereq>
    </thing>
  <thing id="rcPUaUnloc" name="Unlock Psionics" description="The astral suit is able to emit energy that resonates with psionic items, helping the aegis use them. The aegis gains a +2 bonus to Use Magic Device checks while wearing his astral suit. If the aegis has 10 ranks in Use Magic Device, this bonus increases to +4." compset="RaceCustom" uniqueness="useronce">
    <fieldval field="abValue" value="2"/>
    <usesource source="pPsiUn"/>
    <tag group="CustomCost" tag="2"/>
    <tag group="AllowRCust" tag="cfgPUAstSu"/>
    <tag group="Helper" tag="Secondary"/>
    <eval phase="PostLevel" priority="15000"><![CDATA[
if (#skillranks[skUseMagic] >= 10) then
  field[abValue].value += 2
  endif

~ If we're not enabled, get out now
doneif (hero.tagcount[Custom.WearAstS] = 0)

#skillbonus[skUseMagic] += field[abValue].value]]></eval>
    </thing>
  <thing id="rcPUaBlind" name="Blindsense" description="The astral suit augments the aegis&apos;s senses, giving him blindsense out to a range of 30 feet.{br}{br}This ability allows the aegis to pinpoint the location of creatures that he cannot see without having to make a Perception check, but such creatures still have total concealment from the aegis. Visibility still affects the aegis&apos;s movement and he is still denied his Dexterity bonus to Armor Class against attacks from creatures he cannot see. The aegis must be at least 9th level before selecting this customization." compset="RaceCustom" uniqueness="useronce">
    <usesource source="pPsiUn"/>
    <tag group="Helper" tag="Secondary"/>
    <tag group="CustomCost" tag="3"/>
    <tag group="AllowRCust" tag="cfgPUAstSu"/>
    <tag group="Helper" tag="SpecUp"/>
    <bootstrap thing="rBlindsen">
      <containerreq phase="First" priority="500"><![CDATA[count:hero#Custom.WearAstS <> 0]]></containerreq>
      <assignval field="abValue" value="30"/>
      </bootstrap>
    <prereq message="Aegis level 9+ required.">
      <validate><![CDATA[
        var classcheck as string
        var levels as number
        classcheck = "Aegis"
        call PUPreReqs
        validif (levels >= 6)]]></validate>
      </prereq>
    </thing>
  <thing id="rcPUaBurro" name="Burrow" description="The aegis gains a burrow speed equal to 1/2 his base speed. He can use this speed to move through dirt, clay, sand, and earth. He does not leave a hole behind, nor is his passage marked on the surface. The aegis must be at least 9th level before selecting this customization." compset="RaceCustom" uniqueness="useronce">
    <usesource source="pPsiUn"/>
    <tag group="Helper" tag="Secondary"/>
    <tag group="CustomCost" tag="3"/>
    <tag group="AllowRCust" tag="cfgPUAstSu"/>
    <tag group="Helper" tag="SpecUp"/>
    <eval phase="Final" priority="14000"><![CDATA[
      ~ If we're not wearling the Astral Suit, get out now
      doneif (hero.tagcount[Custom.WearAstS] = 0)

      hero.child[xBurrow].field[abValue].value = maximum(hero.child[xBurrow].field[abValue].value, hero.child[Speed].field[tSpeed].value)]]></eval>
    <prereq message="Aegis level 9+ required.">
      <validate><![CDATA[
        var classcheck as string
        var levels as number
        classcheck = "Aegis"
        call PUPreReqs
        validif (levels >= 9)]]></validate>
      </prereq>
    </thing>
  <thing id="rcPUaDieha" name="Diehard" description="When the aegis&apos;s hit point total is below 0, but he is not dead, he automatically stabilizes. He does not need to make a Constitution check each round to avoid losing additional hit points. He may choose to act as if disabled, rather than dying. He must make this decision as soon as he is reduced to negative hit points (even if it isn&apos;t his turn). If he does not choose to act as if disabled, he immediately falls unconscious. When under this effect, the aegis is staggered. He can take a move action without further injuring himself, but if he performs any standard action (or any other action deemed as strenuous, including some swift actions, such as manifesting a quickened power) he takes 1 point of damage after completing the act. If his negative hit points are equal to or greater than his Constitution score, he immediately dies." compset="RaceCustom" uniqueness="useronce">
    <usesource source="pPsiUn"/>
    <tag group="Helper" tag="Secondary"/>
    <tag group="CustomCost" tag="3"/>
    <tag group="AllowRCust" tag="cfgPUAstSu"/>
    </thing>
  <thing id="rcPUaExArG" name="Extra Arms, Greater" description="The extra arms on the aegis&apos;s astral suit function at nearly the same capacity as his normal arms. Each arm can now wield or use a light or one-handed weapon, shield, or any other item that he could normally use. Alternatively, the aegis can use one or both arms when wielding a two-handed weapon, possibly allowing him to wield a pair of two-handed weapons. The circumstance bonus on Climb checks and CMD against grapple attempts increases to +3 per extra arm that is not holding anything. The aegis must be 8th level and have the Extra Arms and Lesser Extra Arms customizations before selecting this customization." compset="RaceCustom" uniqueness="useronce">
    <usesource source="pPsiUn"/>
    <tag group="Helper" tag="Secondary"/>
    <tag group="CustomCost" tag="3"/>
    <tag group="AllowRCust" tag="cfgPUAstSu"/>
    <exprreq message="Extra Arms, Lesser customization required."><![CDATA[#hasability[rcPUaEArL2] <> 0]]></exprreq>
    <exprreq message="Extra Arms customization required."><![CDATA[#hasability[rcPUaExtAr] <> 0]]></exprreq>
    <prereq message="Aegis level 8+ required.">
      <validate><![CDATA[
        var classcheck as string
        var levels as number
        classcheck = "Aegis"
        call PUPreReqs
        validif (levels >= 8)]]></validate>
      </prereq>
    </thing>
  <thing id="rcPUaFrigh" name="Frightful Presence" description="The aegis makes his astral suit unsettling to his foes, gaining the frightful presence ability. The aegis can activate this ability as part of an offensive action, such as a charge or attack. Opponents within 30 feet of the aegis must make a Will save or become shaken for 3d6 rounds. The DC of this save is equal to 10 + 1/2 the aegis&apos;s class level + the aegis&apos;s Charisma modifier. If the aegis has at least 4 more Hit Dice than an opponent, that opponent becomes frightened instead. Foes with more HD than the aegis are immune to this effect. The aegis must be at least 11th level before selecting this customization." compset="RaceCustom" uniqueness="useronce">
    <usesource source="pPsiUn"/>
    <tag group="Helper" tag="Secondary"/>
    <tag group="CustomCost" tag="3"/>
    <tag group="AllowRCust" tag="cfgPUAstSu"/>
    <tag group="StandardDC" tag="aCHA"/>
    <eval phase="PostLevel" priority="1000">var dcBonus as number
      dcBonus = round(#levelcount[Aegis]/2,0,-1)

      field[abDC].value += dcBonus</eval>
    <prereq message="Aegis level 11+ required.">
      <validate><![CDATA[
        var classcheck as string
        var levels as number
        classcheck = "Aegis"
        call PUPreReqs
        validif (levels >= 11)]]></validate>
      </prereq>
    </thing>
  <thing id="rcPUaHaPSG" name="Harness Power Stone, Greater" description="As Improved Harness Power Stone, except the power is 3rd level or lower, and the effective manifester level increase is +5. The aegis must be at least 11th level and have the Power Stone Repository customization to take this customization, and be 13th level to take this customization a second time." compset="RaceCustom">
    <usesource source="pPsiUn"/>
    <tag group="Helper" tag="Secondary"/>
    <tag group="CustomCost" tag="3"/>
    <tag group="AllowRCust" tag="cfgPUAstSu"/>
    <exprreq message="Power Stone Repository customization required."><![CDATA[#hasability[rcPUaPwrSR] <> 0]]></exprreq>
    <prereq message="Aegis level 11+ required.">
      <validate><![CDATA[
        var classcheck as string
        var levels as number
        classcheck = "Aegis"
        call PUPreReqs
        validif (levels >= 11)]]></validate>
      </prereq>
    <prereq message="">
      <validate><![CDATA[
        var classcheck as string
        var levels as number
        classcheck = "Aegis"
        call PUPreReqs
        var allowed as number
        if (levels <= 12 ) then
          allowed = 1
        else
          allowed = 2
        endif

        ~ if we're a pick, then there must be complevel/5 or fewer copies of
        ~ this ability
        if (@ispick <> 0) then
          validif (tagcount[HasAbility.rcPUaHaPSG] <= allowed)
        ~ otherwise, look for fewer, since we're adding this
        else
          validif (tagcount[HasAbility.rcPUaHaPSG] < allowed)
        endif

         @message = "You may not have more than " & allowed & " copies of this ability."]]></validate>
      </prereq>
    </thing>
  <thing id="rcPUaQuick" name="Quickened Attacks" description="When the aegis makes a full attack, he gains one additional attack at his highest attack bonus.{br}{br}This customization does not stack with other sources of extra attacks, such as {i}haste{/i}. The aegis must be at least 10th level before selecting this customization." compset="RaceCustom" uniqueness="useronce">
    <usesource source="pPsiUn"/>
    <tag group="Helper" tag="Secondary"/>
    <tag group="CustomCost" tag="3"/>
    <tag group="AllowRCust" tag="cfgPUAstSu"/>
    <eval phase="PostLevel" priority="10000"><![CDATA[~ If we're not enabled, get out now
doneif (hero.tagcount[Custom.WearAstS] = 0)

~ Give weapons an extra attack
foreach pick in hero from BaseWep where "!Helper.NatAttSpec & !wGroup.Natural"
   perform eachpick.assign[Helper.ExtraHigh]
   nexteach]]></eval>
    <prereq message="Aegis level 10+ required.">
      <validate><![CDATA[
        var classcheck as string
        var levels as number
        classcheck = "Aegis"
        call PUPreReqs
        validif (levels >= 10)]]></validate>
      </prereq>
    </thing>
  <thing id="rcPUaReach" name="Reach" description="The aegis&apos;s reach increases by 5 feet. The aegis must be at least 7th level before selecting this customization." compset="RaceCustom">
    <usesource source="pPsiUn"/>
    <tag group="Helper" tag="Secondary"/>
    <tag group="CustomCost" tag="3"/>
    <tag group="AllowRCust" tag="cfgPUAstSu"/>
    <prereq message="Aegis level 7+ required.">
      <validate><![CDATA[
        var classcheck as string
        var levels as number
        classcheck = "Aegis"
        call PUPreReqs
        validif (levels >= 7)]]></validate>
      </prereq>
    </thing>
  <thing id="rcPUaBlinS" name="Blindsight" description="The astral suit massively augments the aegis&apos;s senses, giving him blindsight out to a range of 30 feet. The aegis can maneuver and attack as normal, ignoring darkness, invisibility, and most forms of concealment as long as he has line of effect to the target.{br}{br}The aegis must possess the blindsense customization to take this customization. The aegis must be at least 11th level before selecting this customization." compset="RaceCustom" uniqueness="useronce">
    <usesource source="pPsiUn"/>
    <tag group="Helper" tag="Secondary"/>
    <tag group="CustomCost" tag="4"/>
    <tag group="AllowRCust" tag="cfgPUAstSu"/>
    <bootstrap thing="rBlindSi">
      <containerreq phase="First" priority="500"><![CDATA[count:hero#Custom.WearAstS <> 0]]></containerreq>
      <assignval field="abValue" value="30"/>
      </bootstrap>
    <prereq message="Aegis level 11+ required.">
      <validate><![CDATA[
        var classcheck as string
        var levels as number
        classcheck = "Aegis"
        call PUPreReqs
        validif (levels >= 11)]]></validate>
      </prereq>
    </thing>
  <thing id="rcPUaEnerI" name="Energy Immunity" description="The aegis gains immunity to his active energy type as long as he is wearing his astral suit.{br}{br}The aegis must be at least 15th level before selecting this customization." compset="RaceCustom">
    <usesource source="pPsiUn"/>
    <tag group="Helper" tag="Secondary"/>
    <tag group="CustomCost" tag="4"/>
    <tag group="AllowRCust" tag="cfgPUAstSu"/>
    <tag group="fShowWhat" tag="Energy"/>
    <prereq message="Aegis level 15+ required.">
      <validate><![CDATA[
        var classcheck as string
        var levels as number
        classcheck = "Aegis"
        call PUPreReqs
        validif (levels >= 15)]]></validate>
      </prereq>
    </thing>
  <thing id="rcPUaExPas" name="Extra Passenger" description="The aegis can carry one creature of the same size or smaller as the aegis&apos;s base size (powers and effects that increase the aegis&apos;s size do not allow him to carry larger creatures, although Increased Size and Improved Increased Size customizations do allow the aegis to carry larger passengers). The carried creature is treated as if it has total concealment and he gains the damage reduction of the astral suit, as well as any environmental customization options, such as that granted from the Energy Resistance or Underwater Breath customization. The creature carried using this ability remains adjacent to the aegis and moves with the aegis&apos;s move actions. A creature can be loaded and unloaded into the astral suit as a free action by the aegis, but the creature can take no actions until its next turn.{br}{br}The aegis must be at least 11th level before selecting this customization." compset="RaceCustom" uniqueness="useronce">
    <usesource source="pPsiUn"/>
    <tag group="Helper" tag="Secondary"/>
    <tag group="CustomCost" tag="4"/>
    <tag group="AllowRCust" tag="cfgPUAstSu"/>
    <prereq message="Aegis level 11+ required.">
      <validate><![CDATA[
        var classcheck as string
        var levels as number
        classcheck = "Aegis"
        call PUPreReqs
        validif (levels >= 11)]]></validate>
      </prereq>
    </thing>
  <thing id="rcPUaHaPSS" name="Harness Power Stone, Superior" description="As Improved Harness Power Stone, except the power is 4th level or lower, and the effective manifester level increase is +7. The aegis must be at least 16th level and have the Power Stone Repository customization to take this customization, and be 18th level to take this customization a second time." compset="RaceCustom">
    <usesource source="pPsiUn"/>
    <tag group="Helper" tag="Secondary"/>
    <tag group="CustomCost" tag="4"/>
    <tag group="AllowRCust" tag="cfgPUAstSu"/>
    <exprreq message="Power Stone Repositor customization required."><![CDATA[#hasability[rcPUaPwrSR] <> 0]]></exprreq>
    <prereq message="Aegis level 16+ required.">
      <validate><![CDATA[
        var classcheck as string
        var levels as number
        classcheck = "Aegis"
        call PUPreReqs
        validif (levels >= 16)]]></validate>
      </prereq>
    <prereq message="">
      <validate><![CDATA[
        var classcheck as string
        var levels as number
        classcheck = "Aegis"
        call PUPreReqs

        var allowed as number
        if (levels <= 17 ) then
          allowed = 1
        else
          allowed = 2
        endif

        ~ if we're a pick, then there must be complevel/5 or fewer copies of
        ~ this ability
        if (@ispick <> 0) then
          validif (tagcount[HasAbility.rcPUaHaPSS] <= allowed)
        ~ otherwise, look for fewer, since we're adding this
        else
          validif (tagcount[HasAbility.rcPUaHaPSS] < allowed)
        endif
        @message = "You may not have more than " & allowed & " copies of this ability."]]></validate>
      </prereq>
    </thing>
  <thing id="rcPUaIEvad" name="Improved Evasion" description="As long as the aegis is wearing the astral suit, if the aegis is subjected to an attack that normally allows a Reflex save for half damage, he takes no damage if he makes a successful saving throw and only half damage if the saving throw fails. The aegis must be at least 12th level before selecting this customization." compset="RaceCustom" uniqueness="useronce">
    <usesource source="pPsiUn"/>
    <tag group="Helper" tag="Secondary"/>
    <tag group="CustomCost" tag="4"/>
    <tag group="AllowRCust" tag="cfgPUAstSu"/>
    <bootstrap thing="raImpEvas">
      <containerreq phase="First" priority="500"><![CDATA[count:hero#Custom.WearAstS <> 0]]></containerreq>
      </bootstrap>
    <prereq message="Aegis level 12+ required.">
      <validate><![CDATA[
        var classcheck as string
        var levels as number
        classcheck = "Aegis"
        call PUPreReqs
        validif (levels >= 12)]]></validate>
      </prereq>
    </thing>
  <thing id="rcPUaIStal" name="Improved Stalwart" description="As long as the aegis is wearing the astral suit, if the aegis is subjected to an attack that normally allows a Fortitude or Will save for a reduced or partial effect, he can expend his psionic focus as an immediate action to ignore the effect if he makes a successful saving throw and suffers the reduced effect if the saving throw fails. The aegis must be at least 16th level before selecting this customization." compset="RaceCustom" uniqueness="useronce">
    <usesource source="pPsiUn"/>
    <tag group="Helper" tag="Secondary"/>
    <tag group="CustomCost" tag="4"/>
    <tag group="AllowRCust" tag="cfgPUAstSu"/>
    <prereq message="Aegis level 16+ required.">
      <validate><![CDATA[
        var classcheck as string
        var levels as number
        classcheck = "Aegis"
        call PUPreReqs
        validif (levels >= 16)]]></validate>
      </prereq>
    </thing>
  <thing id="rcPUaIISiz" name="Increased Size, Improved" description="The astral suit grows in size and the aegis is treated as two size categories larger as if affected by an augmented {i}expansion{/i}. The aegis must be at least 15th level and have selected the increased size customization to select this customization. This customization does not stack with the increased size customization." compset="RaceCustom" uniqueness="useronce">
    <usesource source="pPsiUn"/>
    <tag group="Helper" tag="Secondary"/>
    <tag group="CustomCost" tag="4"/>
    <tag group="AllowRCust" tag="cfgPUAstSu"/>
    <exprreq message="Increased Size customization required."><![CDATA[#hasability[rcPUaInSiz] <> 0]]></exprreq>
    <prereq message="Aegis level 15+ required.">
      <validate><![CDATA[
        var classcheck as string
        var levels as number
        classcheck = "Aegis"
        call PUPreReqs
        validif (levels >= 15)]]></validate>
      </prereq>
    </thing>
  <thing id="cPULessStr" name="Lesser Strategies" description="Tacticians learn minor powers they can use at will to aid them in coordination and tactics. The tactician gains 3 talents from the tactician talent list." compset="ClSpecial">
    <usesource source="pPsiUn"/>
    <tag group="Helper" tag="SpecUp"/>
    </thing>
  <thing id="cPUCoorStr" name="Coordinated Strike" description="The tactician is able to direct his allies to coordinating their attacks upon a single target to devastating effect. As a swift action, the tactician can declare one target within his line of sight as the primary foe. All members of the tactician&apos;s collective, including the tactician himself gain a +1 insight bonus to attacks against the primary foe until the beginning of the tactician&apos;s next turn. At 5th level and every four levels thereafter, this bonus increases by 1.{br}{br}This ability may be used a number of times per day equal to 3 + the tacticians Intelligence modifier." compset="ClSpecial">
    <usesource source="pPsiUn"/>
    <tag group="AbilType" tag="Super"/>
    <eval phase="Final" priority="10000"><![CDATA[var myBonus as number
var myTimes as number

myBonus = field[xIndex].value
myTimes = 3 + #attrbonus[aINT]

field[abValue].value += myBonus

field[listname].text = "Coordinated Strike (+" & field[abValue].value & ")"

~These calculations should only happen for the first copy
doneif (tagis[Helper.FirstCopy] = 0)

~ If we're not shown, just get out now
doneif (tagis[Helper.ShowSpec] = 0)

field[livename].text = "Coordinated Strike (+" & field[abValue].value & ")"]]></eval>
    </thing>
  <thing id="cPUFavBow" name="Favored Weapon (Bows)" description="Marksmen of 2nd level select a group of ranged weapons from the list below as their preferred weapons and gain a +1 competence bonus to ranged attack rolls made with any weapon of that group. Every four marksman levels thereafter, this bonus increases by 1.\n\n{i}Bows:{/i} composite longbow, composite shortbow, longbow,  and shortbow.\n\n{i}Crossbows:{/i} double crossbow, hand crossbow, heavy crossbow, light crossbow, repeating heavy crossbow, and repeating light crossbow.\n\n{i}Spears:{/i} javelin, lance, longspear, pilum, shortspear, spear, and trident.\n\n{i}Thrown:{/i} blowgun, bolas, boomerang, chakram, club, dagger, dart, halfling sling staff, javelin, light hammer, net, shortspear, shuriken, sling, spear, starknife, throwing axe, trident, wooden stake.\n\nNote: Additional weapons can be added to these groups or additional weapon groups can be created at your GMs discretion. Some weapons may belong to multiple weapon groups at your GMs discretion." compset="CustomSpec" summary="Competence bonus to ranged attacks any bow." uniqueness="unique">
    <comment>Note that the Weapon Group tag is assigned through the Fields button</comment>
    <usesource source="pPsiUn"/>
    <tag group="Helper" tag="Secondary"/>
    <tag group="SpecType" tag="Attack" name="Attack" abbrev="Attack"/>
    <tag group="SpecSource" tag="cHelpPU3"/>
    <eval phase="PostLevel" priority="10000" index="2"><![CDATA[~ If we're not shown, just get out now
doneif (tagis[Helper.ShowSpec] = 0)

~ Adjust our total bonus
var bonus as number
bonus = (#levelcount[Marksman] - 2) / 4
bonus = round(bonus, 0, -1) + 1
field[abValue].value += bonus

field[livename].text = "Favored Weapon (Bows) +" & field[abValue].value

field[abSumm].text = " +" & field[abValue].value & " competence bonus to ranged attack rolls made with any Bow."]]></eval>
    <eval phase="PostLevel" priority="10100" index="3"><![CDATA[var myWpn as string

myWpn = "IsWeapon.wShortbow|IsWeapon.wLongbow"

foreach pick in hero from BaseWep where myWpn
  eachpick.field[wAttBonus].value += field[abValue].value
~    #competencebonus[eachpick,field[abValue].value]
nexteach]]></eval>
    </thing>
  <thing id="cPUFavCro" name="Favored Weapon (Crossbows)" description="Marksmen of 2nd level select a group of ranged weapons from the list below as their preferred weapons and gain a +1 competence bonus to ranged attack rolls made with any weapon of that group. Every four marksman levels thereafter, this bonus increases by 1.\n\n{i}Crossbows:{/i} double crossbow, hand crossbow, heavy crossbow, light crossbow, repeating heavy crossbow, and repeating light crossbow.\n\nNote: Additional weapons can be added to these groups or additional weapon groups can be created at your GMs discretion. Some weapons may belong to multiple weapon groups at your GMs discretion." compset="CustomSpec" summary="Competence bonus to ranged attacks any bow." uniqueness="unique">
    <comment>Note that the Weapon Group tag is assigned through the Fields button</comment>
    <usesource source="pPsiUn"/>
    <tag group="Helper" tag="Secondary"/>
    <tag group="SpecType" tag="Attack" name="Attack" abbrev="Attack"/>
    <tag group="SpecSource" tag="cHelpPU3"/>
    <eval phase="PostLevel" priority="10000" index="2"><![CDATA[~ If we're not shown, just get out now
doneif (tagis[Helper.ShowSpec] = 0)

~ Adjust our total bonus
var bonus as number
bonus = (#levelcount[Marksman] - 2) / 4
bonus = round(bonus, 0, -1) + 1
field[abValue].value += bonus

field[livename].text = "Favored Weapon (Crossbows) +" & field[abValue].value

field[abSumm].text = " +" & field[abValue].value & " competence bonus to ranged attack rolls made with any Bow."]]></eval>
    <eval phase="PostLevel" priority="10100" index="3"><![CDATA[var myWpn as string

myWpn = "IsWeapon.wCrsDouble|IsWeapon.wCrsLight|IsWeapon.wCrsHeavy|IsWeapon.wCrsHand|IsWeapon.wCrsRpHvy|IsWeapon.wCrsRpLgt|IsWeapon.wCrsRpHand"

foreach pick in hero from BaseWep where myWpn
  eachpick.field[wAttRanged].value += field[abValue].value
  nexteach]]></eval>
    </thing>
  <thing id="cPUFavSpr" name="Favored Weapon (Spears)" description="Marksmen of 2nd level select a group of ranged weapons from the list below as their preferred weapons and gain a +1 competence bonus to ranged attack rolls made with any weapon of that group. Every four marksman levels thereafter, this bonus increases by 1.\n\n{i}Spears:{/i} javelin, lance, longspear, pilum, shortspear, spear, and trident.\n\nNote: Additional weapons can be added to these groups or additional weapon groups can be created at your GMs discretion. Some weapons may belong to multiple weapon groups at your GMs discretion." compset="CustomSpec" summary="Competence bonus to ranged attacks with spear-like weapons." uniqueness="unique">
    <comment>Note that the Weapon Group tag is assigned through the Fields button</comment>
    <usesource source="pPsiUn"/>
    <tag group="Helper" tag="Secondary"/>
    <tag group="SpecType" tag="Attack" name="Attack" abbrev="Attack"/>
    <tag group="SpecSource" tag="cHelpPU3"/>
    <eval phase="PostLevel" priority="10000" index="2"><![CDATA[~ If we're not shown, just get out now
doneif (tagis[Helper.ShowSpec] = 0)

~ Adjust our total bonus
var bonus as number
bonus = (#levelcount[Marksman] - 2) / 4
bonus = round(bonus, 0, -1) + 1
field[abValue].value += bonus

field[livename].text = "Favored Weapon (Spears) +" & field[abValue].value

field[abSumm].text = " +" & field[abValue].value & " competence bonus to ranged attack rolls made with any Bow."]]></eval>
    <eval phase="PostLevel" priority="10100" index="3"><![CDATA[var myWpn as string

myWpn = "IsWeapon.wJavelin|IsWeapon.wLance|isWeapon.wLongspear|IsWeapon.wPilum|IsWeapon.wShortspr|IsWeapon.wSpear|IsWeapon.wTrident"

foreach pick in hero from BaseWep where myWpn
  eachpick.field[wAttRanged].value += field[abValue].value
  nexteach]]></eval>
    </thing>
  <thing id="cPUFavThr" name="Favored Weapon (Thrown)" description="Marksmen of 2nd level select a group of ranged weapons from the list below as their preferred weapons and gain a +1 competence bonus to ranged attack rolls made with any weapon of that group. Every four marksman levels thereafter, this bonus increases by 1.\n\n{i}Thrown:{/i} blowgun, bolas, boomerang, chakram, club, dagger, dart, halfling sling staff, javelin, light hammer, net, shortspear, shuriken, sling, spear, starknife, throwing axe, trident, wooden stake.\n\nNote: Additional weapons can be added to these groups or additional weapon groups can be created at your GMs discretion. Some weapons may belong to multiple weapon groups at your GMs discretion." compset="CustomSpec" summary="Competence bonus to ranged attacks with thrown weapons" uniqueness="unique">
    <usesource source="pPsiUn"/>
    <tag group="Helper" tag="Secondary"/>
    <tag group="SpecType" tag="Attack" name="Attack" abbrev="Attack"/>
    <tag group="SpecSource" tag="cHelpPU3"/>
    <eval phase="PostLevel" priority="10000" index="2"><![CDATA[~ If we're not shown, just get out now
doneif (tagis[Helper.ShowSpec] = 0)

~ Adjust our total bonus
var bonus as number
bonus = (#levelcount[Marksman] - 2) / 4
bonus = round(bonus, 0, -1) + 1
field[abValue].value += bonus

field[livename].text = "Favored Weapon (Thrown) +" & field[abValue].value

field[abSumm].text = " +" & field[abValue].value & " competence bonus to ranged attack rolls made with any Bow."]]></eval>
    <eval phase="PostLevel" priority="10100" index="3"><![CDATA[var myWpn as string

myWpn = "IsWeapon.wBlowgun|IsWeapon.wBolas|IsWeapon.wBoomerang|IsWeapon.wChakram|IsWeapon.wClub|IsWeapon.wDagger|IsWeapon.wDart|IsWeapon.wSlingSt|IsWeapon.wJavelin|IsWeapon.wHammLight|IsWeapon.wNet|IsWeapon.wShortSpr|IsWeapon.wShurikenM|IsWeapon.wSling|IsWeapon.wSpear|IsWeapon.wStarknife|IsWeapon.wAxeThrow|IsWeapon.wTrident|IsWeapon.wWoodStake"

foreach pick in hero from BaseWep where myWpn
  eachpick.field[wAttRanged].value += field[abValue].value
  nexteach]]></eval>
    </thing>
  <thing id="cPUSpiMany" name="Spirit of Many" description="A tactician of 2nd level gains special abilities when manifesting powers with the Network descriptor. He can manifest these powers on any member of his collective, even if they are out of the power&apos;s range or would normally be immune to the power. Whenever a tactician manifests a power with the Network descriptor targeting only members of his collective, the power loses the mind-affecting descriptor (if it had it) and is treated as a supernatural ability (bypassing power resistance and becoming immune to dispel attempts), although it still provokes an attack of opportunity to manifest as normal. Network powers manifest only on members of the collective never allow saving throws -- their saving throw entry becomes &amp;quot;None,&amp;quot; although if the power specifies a subsequent saving throw, subjects attempt those saves normally. \n\nThe tactician also adds the following augment to all powers with the Network descriptor: {b}Augment:{/b} For every additional power point you spend, you can choose an additional target, so long as the target is a member of your collective." compset="ClSpecial">
    <usesource source="pPsiUn"/>
    <tag group="AbilType" tag="Super"/>
    </thing>
  <thing id="cPUTacTele" name="Telepathy" description="When a tactician reaches 3rd level, all willing members of his collective (including the tactician himself) can communicate with each other telepathically, even if they do not share a common language. Psionic creatures who are willing members in a tactician&apos;s collective (including the tactician himself) may manifest unknown powers from powers known by another willing psionic creature in the collective as if they were making physical contact." compset="ClSpecial">
    <usesource source="pPsiUn"/>
    <tag group="AbilType" tag="Super"/>
    </thing>
  <thing id="cPUTacStra" name="Strategy" description="At 4th level, and every three tactician levels thereafter, a tactician learns a new tactical strategy, granting him special abilities in combat. Unless specified otherwise, using a strategy is a swift action that does not provoke attacks of opportunity. Strategies are often orders or suggestions that the tactician issues to members of his collective. A tactician may not direct a strategy at himself unless a strategy specifies otherwise.{br}{br}Strategies may be used a number of times per day equal to 3 + the tactician&apos;s Charisma modifier." compset="ClSpecial">
    <usesource source="pPsiUn"/>
    <tag group="AbilType" tag="Super"/>
    <tag group="ChargeAttr" tag="aCHA"/>
    <tag group="ChargeCalc" tag="AttrUses3"/>
    <tag group="User" tag="Tracker"/>
    <eval phase="Final" priority="5000"><![CDATA[var myTimes as number

myTimes = field[trkMax].value

field[livename].text = "Strategy (" & myTimes & "/day)"]]></eval>
    </thing>
  <thing id="cPUImpShar" name="Improved Share" description="A tactician learns special techniques when manifesting powers with the Shared descriptor. Beginning at 5th level, the tactician may maintain two powers with the Shared descriptor at any time instead of only one. Should he manifest a third power with the Shared descriptor, the tactician can choose which of the maintained Shared powers ends immediately.{br}{br}Every six tactician levels thereafter (11th, 17th), the tactician may maintain an additional power with the Shared descriptor before a maintained power with the Shared descriptor expires." compset="ClSpecial">
    <usesource source="pPsiUn"/>
    <tag group="AbilType" tag="Super"/>
    <eval phase="Final" priority="10000"><![CDATA[field[listname].text = "Collective (" & field[xIndex].value & ")"]]></eval>
    </thing>
  <thing id="cPUTeamFt" name="Teamwork Feat" description="At 6th level, and every six levels thereafter, the tactician gains a bonus feat in addition to those gained from normal advancement. These bonus feats must be selected from those listed as teamwork feats. The tactician must meet the prerequisites of the selected bonus feat.{br}{br}By spending one hour in meditation, the tactician can change any one teamwork feat he has already learned for another teamwork feat whose prerequisites he meets. In effect, the tactician loses the bonus feat in exchange for the new one." compset="ClSpecial">
    <usesource source="pPsiUn"/>
    <tag group="Helper" tag="SpecUp"/>
    </thing>
  <thing id="cPUEchoEff" name="Echo Effect" description="At 8th level, the tactician gains the ability to copy non-permanent magical and psionic effects within his collective. If a member of the collective is affected by a magical or psionic effect with a duration greater than 1 round, the tactician can echo it onto another member of his collective. To do so, the tactician must first identify the power properly (see the Spellcraft skill description).\n\nEchoing a magical or psionic effect is a standard action that provokes attacks of opportunity and costs the tactician a number of power points equal to the original effect&apos;s caster or manifester level (whichever applies). As a supernatural ability, a tactician is permitted to spend more power points than his manifester level on this effect.\n\nThe new target must be legal for the effect in question (for instance, if you attempt to echo an unaugmented {i}empathic connection{/i} on a dog, the echo will fail). If the effect allows a saving throw, the new target is entitled to a saving throw when the effect is echoed (same DC as the original power).\n\nOnly the basic effect and augmentation are echoed; metamagic and metapsionic feats do not echo. The echo has all the same decisions made as the original. For example, {i}specified energy adaptation{/i} echoes would guard against the same energy type, while a 5pp {i}empathic connection{/i} (extended duration) could not be echoed as a 5pp {i}empathic connection{/i} (affects aberrations). The echo takes effect at the same caster or manifester level as the originator. When the original ends or leaves the collective, all echoes of it also end. An echo can be dispelled as normal without terminating the original.\n\nA tactician can spend power points to augment this supernatural ability. For every 4 additional power points spent, the echo may reach an additional target.\n\nIf this augment would raise the cost of the echo above the tactician&apos;s manifester level, the echo attempt fails (although he may still attempt to echo it onto a single target). The tactician knows if an effect is beyond his ability to echo this way when he identifies it." compset="ClSpecial">
    <usesource source="pPsiUn"/>
    <tag group="AbilType" tag="Super"/>
    </thing>
  <thing id="cPUPoolKno" name="Pooled Knowledge" description="Once a tactician has reached 14th level, he has learned to share not only strategic knowledge over the collective, but even knowledge of manifesting. By expending psionic focus, the tactician may attempt to manifest any power known by a member of his collective. If the power is not on the tactician power list, the tactician must make a successful Spellcraft check (DC 20 + the power&apos;s level) to see if he understands the power. If the Spellcraft check fails, the attempt fails and psionic focus is still expended, but no power points are spent. If the check is successful, the tactician may immediately manifest the power. Using this ability uses an action equal to the manifesting time of the power to be manifested. This ability may not be used to manifest powers with a manifesting time longer than one round." compset="ClSpecial">
    <usesource source="pPsiUn"/>
    <tag group="AbilType" tag="Super"/>
    <tag group="abAction" tag="PUExpFocus"/>
    </thing>
  <thing id="cPUMstStra" name="Master Strategist" description="Upon achieving 20th level, a tactician has learned how to turn his collective into a truly cohesive battle unit. The tactician may use two daily uses of his strategy ability and grant all of his allies an insight bonus on attack and damage rolls, armor class, and saving throws equal to his Intelligence modifier for two minutes. This ability may not be used if the tactician is not engaged in combat." compset="ClSpecial">
    <usesource source="pPsiUn"/>
    <tag group="AbilType" tag="Super"/>
    </thing>
  <thing id="cPUTacColD" name="Collective Defenses" description="The tactician is able to harness the sensory information available through his collective to bolster the defenses of members of his collective. For a number of rounds equal to the tactician&apos;s Charisma modifier, the tactician and all members of his collective within line of sight of the tactician gain an insight bonus to Armor Class equal to the tactician&apos;s Intelligence modifier (minimum 1)." compset="CustomSpec" uniqueness="unique">
    <usesource source="pPsiUn"/>
    <tag group="SpecSource" tag="cHelpPU4"/>
    </thing>
  <thing id="cPUTacCooD" name="Coordinated Distraction" description="The tactician can direct a member of his collective to attack a single enemy, granting the directed member a +1 competence bonus on the attack roll for a number of rounds equal to the tactician&apos;s Charisma modifier. If the directed member performs the attack, regardless of where the directed member is in relation to the tactician, the tactician treats the enemy as being flanked and the tactician may make a single melee attack against the targeted enemy as an immediate action. The tactician may only make one such attack per use of this strategy. Alternatively, the tactician may make the initial attack against the targeted enemy, gaining the +1 competence bonus instead of the directed member, and the directed member treats the target as being flanked, but using the strategy in this fashion makes it a full round action instead of a swift action. At 8th level and every four tactician levels thereafter, the competence bonus on the attack roll increases by 1." compset="CustomSpec" uniqueness="unique">
    <usesource source="pPsiUn"/>
    <tag group="SpecSource" tag="cHelpPU4"/>
    </thing>
  <thing id="cPUTacCooM" name="Coordinated Maneuvers" description="The tactician can sense when opponents have become vulnerable to different kinds of attack and direct his allies to capitalize on these weaknesses, granting members of his collective a +1 insight bonus on one type of combat maneuver attempts, such as bull rushes or repositions, for a number of rounds equaling his Charisma modifier. The tactician chooses the kind of maneuver this benefit applies to when he activates this strategy. At 8th level and every four levels thereafter, the insight bonus increases by 1." compset="CustomSpec" uniqueness="unique">
    <usesource source="pPsiUn"/>
    <tag group="SpecSource" tag="cHelpPU4"/>
    </thing>
  <thing id="cPUTacDirA" name="Directed Assault" description="The tactician directs a member of his collective to attack a particular target, granting the ally a +1 competence bonus on the attack roll for a number of rounds equal to the tactician&apos;s Charisma modifier. If the attack is made, the tactician may immediately make a single attack at any target within range as an immediate action. This attack does not count as an attack action, so does not qualify At 8th level and every four tactician levels thereafter, the competence bonus increases by 1." compset="CustomSpec" uniqueness="unique">
    <usesource source="pPsiUn"/>
    <tag group="SpecSource" tag="cHelpPU4"/>
    </thing>
  <thing id="cPUTacDisT" name="Disruptive Terrain" description="The tactician charges the terrain around him with psychokinetic energy. Any creature not in the tactician&apos;s collective treats the terrain as difficult terrain for a number of rounds equal to the tactician&apos;s Charisma modifier. The area of terrain affected is a burst effect centered on the tactician with a range of 5 feet per three tactician levels. The affected area does not change if the tactician moves after using this strategy.{br}{br}Selecting this strategy requires the tactician to be at least 10th level." compset="CustomSpec" uniqueness="unique">
    <usesource source="pPsiUn"/>
    <tag group="SpecSource" tag="cHelpPU4"/>
    <prereq message="Tactician level 10 or greater required">
      <validate><![CDATA[        var classcheck as string
        var levels as number

        classcheck = "Tactician"

        call PUPreReqs

        validif (levels >= 10)]]></validate>
      </prereq>
    </thing>
  <thing id="cPUTacDisG" name="Distracting Gaze" description="The tactician can target one enemy within 30 feet and make a ranged touch attack against that enemy. If the attack is successful, that enemy is treated as if the tactician was adjacent to him for the purposes of determining if he is flanked for a number of rounds equal to the tactician&apos;s Charisma modifier.{br}{br}Treat the direction for flanking as the direction of the tactician. Selecting this strategy requires the tactician to be at least 7th level." compset="CustomSpec" uniqueness="unique">
    <usesource source="pPsiUn"/>
    <tag group="SpecSource" tag="cHelpPU4"/>
    <prereq message="Tactician level 7 or greater required">
      <validate><![CDATA[        var classcheck as string
        var levels as number

        classcheck = "Tactician"

        call PUPreReqs

        validif (levels >= 7)]]></validate>
      </prereq>
    </thing>
  <thing id="cPUTacFocA" name="Focus Attack" description="The tactician can direct a member of his collective to attack a single enemy. If the directed member performs the attack, all subsequent attacks on that target for the next round by anyone in the collective deal an additional 1d6 points of damage. An individual gains this additional damage on only one successful attack per round, even if they make multiple successful attacks on the targeted enemy. At 8th level and every four tactician levels thereafter, this damage increases by 1d6." compset="CustomSpec" uniqueness="unique">
    <usesource source="pPsiUn"/>
    <tag group="SpecSource" tag="cHelpPU4"/>
    </thing>
  <thing id="cPUTacGuaT" name="Guard Target" description="The tactician directs a member of his collective to guard a specific target (which may be the tactician, but not the directed member), granting the directed member a +1 competence bonus to attack rolls.{br}{br}In addition, the directed member can spend an attack of opportunity to redirect an attack made at the target as if it was made at him, even if the attack itself would not normally have provoked an attack of opportunity.{br}{br}Any time the directed member redirects an attack in this fashion, the tactician gains a cumulative +1 bonus to his next attack against the source of the redirected attack.{br}{br}This effect lasts a number of rounds equal to the tactician&apos;s Charisma modifier, although the tactician&apos;s bonus resets at the end of his turn. If the directed member would not normally be able to make an attack of opportunity, for example, if they already made one and do not possess the Combat Reflexes feat, they may not redirect attacks.{br}{br}At 8th level and every four tactician levels thereafter, the competence bonus on attack rolls increases by 1." compset="CustomSpec" uniqueness="unique">
    <usesource source="pPsiUn"/>
    <tag group="SpecSource" tag="cHelpPU4"/>
    </thing>
  <thing id="cPUTacHold" name="Hold Position" description="The tactician can direct a member of his collective to hold their ground, granting the directed member a +1 dodge bonus to AC and a +1 competence bonus to attack rolls for a number of rounds equal to the tactician&apos;s Charisma modifier. For each round the directed member does not move from the spot, the tactician may immediately take a free move action on the same round, but must move toward the directed member in as direct a manner as possible. The tactician gains a +1 dodge bonus to his AC during this move. At 8th level and every four tactician levels thereafter, the dodge bonuses and the competence bonus to attack rolls increase by 1." compset="CustomSpec" uniqueness="unique">
    <usesource source="pPsiUn"/>
    <tag group="SpecSource" tag="cHelpPU4"/>
    </thing>
  <thing id="cPUTacInto" name="Into the Fray" description="The tactician directs a member of his collective to charge a particular enemy, granting the ally a +1 competence bonus on the damage roll. If the charge is performed, the tactician may charge the same enemy as an immediate action, gaining a +1 competence bonus on the damage roll. At 8th level and every four tactician levels thereafter, the competence bonus increases by 1." compset="CustomSpec" uniqueness="unique">
    <usesource source="pPsiUn"/>
    <tag group="SpecSource" tag="cHelpPU4"/>
    </thing>
  <thing id="cPUTacRepo" name="Reposition" description="The tactician directs each ally in his collective to take a 5-foot step as a free action immediately. The tactician may also immediately take a 5-foot step. This does not count against the number of 5-foot steps allowed in the tactician&apos;s or each ally&apos;s turn. If all directed allies take their 5-foot step, the tactician may immediately make a full attack against any target within range and gain a +1 competence bonus on the attack and damage rolls. Selecting this strategy requires the tactician to be at least a 13th level tactician. At 16th level and every four tactician levels thereafter, the competence bonus increases by 1." compset="CustomSpec" uniqueness="unique">
    <usesource source="pPsiUn"/>
    <tag group="SpecSource" tag="cHelpPU4"/>
    <prereq message="Tactician level 13 or greater required.">
      <validate><![CDATA[validif (#levelcount[Tactician] >= 13)
        var classcheck as string
        var levels as number

        classcheck = "Tactician"

        call PUPreReqs

        validif (levels >= 13)]]></validate>
      </prereq>
    </thing>
  <thing id="cPUTacTelR" name="Telempathic Resistance" description="The tactician shares not only thoughts, but also resilience to members of his collective. For a number of rounds equal to the tactician&apos;s Charisma modifier, all members of the tactician&apos;s collective gain a +1 insight bonus to saving throws. At 8th level and every four tactician levels thereafter, the insight bonus increases by 1." compset="CustomSpec" uniqueness="unique">
    <usesource source="pPsiUn"/>
    <tag group="SpecSource" tag="cHelpPU4"/>
    </thing>
  <thing id="cPUVitGuar" name="Guardian Method" description="A guardian vitalist focuses his skill on keeping his allies from suffering wounds. He develops psionic abilities that deflect, absorb, and reflect damage proactively, rather than healing wounds after they are suffered.{br}{br}{b}Guardian Power:{/b} A guardian vitalist adds {i}biofeedback{/i} to his list of powers known. This does not count against his number of powers known." compset="CustomSpec" uniqueness="unique">
    <usesource source="pPsiUn"/>
    <tag group="SpecSource" tag="cHelpPU5"/>
    <tag group="psiClass" tag="PUVitMetGu"/>
    <bootstrap thing="cPUGuTouch">
      <autotag group="ClSpecWhen" tag="2"/>
      </bootstrap>
    <bootstrap thing="cPUGuPulse">
      <autotag group="ClSpecWhen" tag="6"/>
      </bootstrap>
    <bootstrap thing="cPUGuSwift">
      <autotag group="ClSpecWhen" tag="8"/>
      </bootstrap>
    <bootstrap thing="cPUGuExper">
      <autotag group="ClSpecWhen" tag="11"/>
      </bootstrap>
    <bootstrap thing="cPUGuMaste">
      <autotag group="ClSpecWhen" tag="20"/>
      </bootstrap>
    <bootstrap thing="puBiofeed1">
      <autotag group="BonusSplAt" tag="1"/>
      <autotag group="SpellType" tag="cHelpPU5"/>
      <autotag group="Helper" tag="Free"/>
      </bootstrap>
    <eval phase="PostLevel" priority="10000">~ Forward the Guardian Method Psi-Class tag to the Knacks
~ class special so the gamer can select their bonus talent.
perform hero.child[cPUVitKnac].pushtags[psiClass.?]</eval>
    </thing>
  <thing id="cPUVitMend" name="Mender Method" description="A mender vitalist is the most common found, as he focuses on healing wounds more efficiently, even bringing back life to the dead. The mender vitalist learns how to boost the body&apos;s natural healing ability to unimaginable regenerative levels.{br}{br}{b}Mender Power:{/b} A mender vitalist adds {i}natural healing{/i} to his list of powers known. This does not count against his number of powers known." compset="CustomSpec" uniqueness="unique">
    <usesource source="pPsiUn"/>
    <tag group="SpecSource" tag="cHelpPU5"/>
    <tag group="psiClass" tag="PUVitMetMe"/>
    <bootstrap thing="puNatHeal1">
      <autotag group="BonusSplAt" tag="1"/>
      <autotag group="SpellType" tag="cHelpPU5"/>
      <autotag group="Helper" tag="Free"/>
      </bootstrap>
    <bootstrap thing="cPUMeTouch">
      <autotag group="ClSpecWhen" tag="2"/>
      </bootstrap>
    <bootstrap thing="cPUMePulse">
      <autotag group="ClSpecWhen" tag="6"/>
      </bootstrap>
    <bootstrap thing="cPUMeSwift">
      <autotag group="ClSpecWhen" tag="8"/>
      </bootstrap>
    <bootstrap thing="cPUMeExper">
      <autotag group="ClSpecWhen" tag="11"/>
      </bootstrap>
    <bootstrap thing="cPUMeMaste">
      <autotag group="ClSpecWhen" tag="20"/>
      </bootstrap>
    <eval phase="PostLevel" priority="10000">~ Forward the Guardian Method Psi-Class tag to the Knacks
~ class special so the gamer can select their bonus talent.
perform hero.child[cPUVitKnac].pushtags[psiClass.?]</eval>
    </thing>
  <thing id="cPUVitSoul" name="Soulthief Method" description="A soulthief vitalist develops techniques that focus on harnessing the energy of enemies, siphoning it off and using it to heal himself and his allies.{br}{br}{b}Soulthief Power:{/b} A soulthief vitalist adds {i}collapse{/i} to his list of powers known. This does not count against his number of powers known." compset="CustomSpec" uniqueness="unique">
    <usesource source="pPsiUn"/>
    <tag group="SpecSource" tag="cHelpPU5"/>
    <tag group="psiClass" tag="PUVitMetSo"/>
    <bootstrap thing="cPUSoTouch">
      <autotag group="ClSpecWhen" tag="2"/>
      </bootstrap>
    <bootstrap thing="cPUSoPulse">
      <autotag group="ClSpecWhen" tag="6"/>
      </bootstrap>
    <bootstrap thing="cPUSoSwift">
      <autotag group="ClSpecWhen" tag="8"/>
      </bootstrap>
    <bootstrap thing="cPUSoExper">
      <autotag group="ClSpecWhen" tag="11"/>
      </bootstrap>
    <bootstrap thing="cPUSoMaste">
      <autotag group="ClSpecWhen" tag="20"/>
      </bootstrap>
    <bootstrap thing="puColla1">
      <autotag group="BonusSplAt" tag="1"/>
      <autotag group="SpellType" tag="cHelpPU5"/>
      <autotag group="Helper" tag="Free"/>
      </bootstrap>
    <eval phase="PostLevel" priority="10000">~ Forward the Guardian Method Psi-Class tag to the Knacks
~ class special so the gamer can select their bonus talent.
perform hero.child[cPUVitKnac].pushtags[psiClass.?]</eval>
    </thing>
  <thing id="cPUVitColH" name="Collective Healing" description="Whenever a willing member of the vitalist&apos;s collective could regain lost hit points or ability damage, the vitalist may choose to redirect any or all of that healing to one or more other willing members of the collective as a free action. This can transfer instantaneous healing (such as a {i}body adjustment{/i} power), healing from ongoing healing effects, such as fast healing, and even hit points gained from rest (in which case, a member of the collective would rest for a period of time as normal, and the amount of hit points {i}A vitalist joins his allies into a collective so he can share healing energy{/i} {b}Psionics Expanded{/b} 59 and ability damage healed would go to another).{br}{br}In any case, the original recipient of the healing effect chooses whether to allow the diverted healing, and does not gain the benefits of any healing he grants to another.{br}{br}The type of healing (positive energy, negative energy, construct repair, etc.) is unchanged from the original source for determining who or what can be healed.{br}{br}{i}Example: Darius the soulknife is a willing member of Jorus the vitalist&apos;s collective. He drinks a potion of cure light wounds that would normally heal him for 6 hit points, but Jorus decides to redirect 4 of those points to himself. Darius agrees and, as a result, Darius is healed for 2 hit points, and Jorus is healed for 4. If there were more members in Jorus&apos;s collective, Jorus could spread the healing from that potion out even more as long as the sum of hit points healed was no greater than 6.{br}{br}{/i}A vitalist may even heal wounds through collective healing if at full health. This may only be used with healing effects such as potions, powers, or other such effects. Healing from long term care or natural healing cannot be transferred in this way." compset="ClSpecial">
    <usesource source="pPsiUn"/>
    <tag group="AbilType" tag="Super"/>
    </thing>
  <thing id="cPUVitKnac" name="Knacks" description="Vitalists of all forms learn to manipulate the energy of body and mind in minor ways. A vitalist gains two talents from the vitalist power list, as well as one talent from his method power list.\n\n{b}Note:{/b} After selecting your Method&apos;s talent power from the drop down you must still add the power on the class tab.  This is needed to correctly get the power onto your character and have it calculate all the values correctly. Until you add this power you will get a validation error." compset="ClSpecial">
    <tag group="Helper" tag="SpecUp"/>
    <tag group="ChooseSrc1" tag="Thing"/>
    <eval phase="Final" priority="1000"><![CDATA[
      ~ If not Psi Class tag then get out now!
      doneif (tagcount[psiClass.?] = 0)

      ~ Set the custom expression
      field[usrCandid1].text = "component.BasePower &  (" & tagids[psiClass.?] & ")"

      ~ If nothing chosen get out now
      doneif (field[usrChosen1].ischosen <> 1)

      ~ Add extra spell levels appropriately
      root.field[cKnowMax].arrayvalue[0] += 1

      ~ Give access to Selected Power
      root.field[cPsiExpr].text &= "|" & field[usrChosen1].chosen.tagids[thingid.?]]]></eval>
    <prereq message="You must choose your new power from your class tab.">
      <validate><![CDATA[
        ~ Valid if we are not a pick
        validif (@ispick = 0)
        ~ If nothing chosen then we are valid
        validif (altpick.field[usrChosen1].ischosen <> 1)

        ~ See if we can find the power live on hero
        perform hero.findchild[BasePower,altpick.field[usrChosen1].chosen.tagids[thingid.?]].setfocus
        ~ We are valid if we got a hit
        validif (state.isfocus <> 0)]]></validate>
      </prereq>
    </thing>
  <thing id="cPUVitMedP" name="Medic Powers" description="The vitalist gains special uses of some of his powers that are unavailable to other characters.{br}{br}The following powers gain the Network descriptor when manifested by a vitalist: all powers of the Healing subdiscipline, {i}animal affinity{/i}, {i}biofeedback{/i}, {i}body of iron{/i}, {i}endorphin surge*{/i}, {i}expansion{/i}, {i}oak body{/i}, {i}physical acceleration*{/i}, {i}sustenance{/i}, {i}suspend life{/i}, {i}timeless body{/i}, and {i}vigor.{/i}" compset="ClSpecial">
    <usesource source="pPsiUn"/>
    <tag group="Helper" tag="SpecUp"/>
    </thing>
  <thing id="cPUVitTraW" name="Transfer Wounds" description="All vitalists learn how to transfer wounds with but a touch. As a standard action that does not provoke attacks of opportunity, a vitalist may touch a target and heal it for 1d6 points of damage.{br}{br}The vitalist suffers the same number of points of nonlethal damage (up to the amount the target is actually healed) At 4th level and every 3 levels thereafter, the damage healed to the target and non-lethal damage taken by the vitalist increases by 1d6. A vitalist may use this ability a number of times per day equal to 3 + his Wisdom modifier. A vitalist may not use this ability upon himself." compset="ClSpecial">
    <fieldval field="abValue2" value="6"/>
    <tag group="AbilType" tag="Super"/>
    <tag group="User" tag="Tracker"/>
    <tag group="ChargeCalc" tag="AttrUses3"/>
    <tag group="ChargeAttr" tag="aWIS"/>
    <tag group="Usage" tag="Day"/>
    <tag group="abAction" tag="Standard"/>
    <eval phase="PostLevel" priority="10000"><![CDATA[
      ~ Set the list name
      field[listname].text = field[thingname].text & " (" & field[xIndex].value & "d" & field[abValue2].value & ")"

      ~ If we're not shown, just get out now
      doneif (tagis[Helper.ShowSpec] <> 1)
      ~ if we've been disabled, get out now
      doneif (tagis[Helper.SpcDisable] <> 0)

      field[abValue].value += field[xCount].value
      field[livename].text = field[thingname].text & " (" & field[abValue].value & "d" & field[abValue2].value & ")"]]></eval>
    </thing>
  <thing id="cPUGuTouch" name="Guardian&apos;s Touch" description="A guardian vitalist of 2nd level who utilizes transfer wounds grants the target a number of temporary hit points equal to his class level. These temporary hit points last a number of rounds equal to the vitalist&apos;s Wisdom modifier (minimum 1) and do not stack with any other temporary hit points." compset="ClSpecial">
    <usesource source="pPsiUn"/>
    <tag group="Usage" tag="Day"/>
    </thing>
  <thing id="cPUMeTouch" name="Mender&apos;s Touch" description="A mender vitalist of 2nd level who utilizes transfer wounds heals the target an additional number of hit points equal to his class level. This additional healing is not transferred to the mender like the normal amount healed." compset="ClSpecial">
    <usesource source="pPsiUn"/>
    <tag group="Usage" tag="Day"/>
    </thing>
  <thing id="cPUSoTouch" name="Soulthief&apos;s Touch" description="A soulthief vitalist of 2nd level who utilizes transfer wounds can choose to instead deal the amount of damage that transfer wounds would normally heal plus the soulthief&apos;s class level to the target, healing himself a number of hit points equal to the damage dealt.{br}{br}A soulthief may not heal more hit points than the touched creature had prior to using this ability.{br}{br}This ability may only be used on creatures with a Constitution score and may not be used against creatures in the soulthief&apos;s collective. Collective members may use this ability on creatures with a total number of hit dice less than half the vitalist&apos;s level, but they gain no healing from it." compset="ClSpecial">
    <usesource source="pPsiUn"/>
    <tag group="Usage" tag="Day"/>
    </thing>
  <thing id="cPUViTouch" name="Vitalist&apos;s Touch" description="Once a vitalist reaches 2nd level, he learns to apply the skills of his method to his transfer wounds ability, as detailed in the vitalist&apos;s method of choice." compset="ClSpecial">
    <usesource source="pPsiUn"/>
    <tag group="Usage" tag="Day"/>
    </thing>
  <thing id="cPUHealthS" name="Health Sense" description="Beginning at 2nd level, a vitalist may take a swift action to gauge the relative health level of collective members, determining the amount of damage, in hit points, that an ally has taken. In addition, the vitalist may make a Heal check as a standard action, with a DC of 15, to determine if any of the members of his collective are afflicted by a disease or poison.{br}{br}Starting at 7th level, the vitalist can make a Heal check over his collective to stabilize a dying target or treat a wound from a caltrop, {i}spike growth{/i}, {i}spike stones{/i}, or similar.{br}{br}This ability improves at 12th level, and the vitalist may make a Heal check over his collective to treat a poisoned creature.{br}{br}At 17th level, the vitalist is able to treat diseases in the same fashion, making a Heal check over his collective.{br}{br}When treating a target over a collective, the DC of the Heal check is the same as if the vitalist was treating the target normally." compset="ClSpecial">
    <usesource source="pPsiUn"/>
    <eval phase="Final" priority="10000"><![CDATA[if (field[xIndex].value = 1) then
  field[listname].text = "Health Sense (Identify)"
elseif (field[xIndex].value = 2) then
  field[listname].text = "Health Sense (Stabilize)"
elseif (field[xIndex].value = 3) then
  field[listname].text = "Health Sense (Treat Poison)"
elseif (field[xIndex].value = 4) then
  field[listname].text = "Health Sense (Diseases)"
  endif]]></eval>
    </thing>
  <thing id="cPUViSpiMa" name="Spirit of Many" description="A vitalist of 2nd level gains special abilities when manifesting powers with the Network descriptor. He can manifest these powers on any member of his collective, even if they are out of the power&apos;s range or would normally be immune to the power. Whenever a vitalist manifests a power with the Network descriptor targeting only members of his collective, the power loses the mind-affecting descriptor (if it had it) and bypasses any power resistance, although it still provokes an attack of opportunity to manifest as normal. Network powers manifest only on members of the collective never allow saving throws -- their saving throw entry becomes &amp;quot;None,&amp;quot; although if the power specifies a subsequent saving throw, subjects attempt those saves normally. The vitalist also adds the following augment to all powers with the Network descriptor: {b}Augment:{/b} For every additional power point you spend, you can choose an additional target, so long as the target is a member of your collective." compset="ClSpecial">
    <usesource source="pPsiUn"/>
    <tag group="AbilType" tag="Super"/>
    </thing>
  <thing id="cPUStealHT" name="Steal Health" description="At 3rd level, a vitalist has learned to siphon the health of a creature and use it for his own needs or the needs of his collective. As a touch attack, the vitalist may deal a number of hit points in damage to the target equal to his vitalist level + his Wisdom modifier and heal an equal amount of damage. The vitalist may share any healing from this effect over his collective, even if he himself would not be eligible for the healing.{br}{br}A vitalist may not heal more hit points than the touched creature had prior to using this ability.{br}{br}This ability may only be used on creatures with a Constitution score and may not be used against creatures in the vitalist&apos;s collective. A vitalist may use this ability on creatures with a total number of hit dice less than half his vitalist level, but he gains no healing from it.{br}{br}{i}For example, Jorus is a level 3 vitalist with a Wisdom of 16 and 15 hit points. Jorus has suffered 3 hit points of damage and uses Steal Health on a nearby 2 hit dice orc, dealing 6 hit points of damage (3 from his levels in vitalist, 3 from his Wisdom modifier). Although Jorus may only heal himself for 3 hit points, he may distribute the other 3 hit points over the collective to other members as needed. If Jorus was level 6, he would have dealt 9 points of damage, but would not have received any healing because the orc&apos;s total number of hit dice was too low.{br}{br}{/i}At 7th level, a vitalist is able to use steal health as a ranged touch attack with a range of 30 feet." compset="ClSpecial">
    <usesource source="pPsiUn"/>
    <tag group="AbilType" tag="Super"/>
    <eval phase="Final" priority="10000"><![CDATA[if (field[xIndex].value = 1) then
  field[listname].text = "Steal Health (Touch)"
elseif (field[xIndex].value = 2) then
  field[listname].text = "Steal Health (Ranged)"
  endif]]></eval>
    </thing>
  <thing id="cPUVitTele" name="Telepathy" description="When a vitalist reaches 3rd level, all willing members of his collective (including the vitalist himself) can communicate with each other telepathically, even if they do not share a common language. Psionic creatures who are willing members in a vitalist&apos;s collective (including the vitalist himself) may manifest unknown powers from powers known by another willing psionic creature in the collective as if they were making physical contact.{br}{br}A vitalist may temporarily deactivate, and reactivate, this ability as a swift action." compset="ClSpecial">
    <usesource source="pPsiUn"/>
    <tag group="AbilType" tag="Super"/>
    </thing>
  <thing id="cPUVitReqA" name="Request Aid" description="Starting at 5th level, members of a vitalist&apos;s collective are able to request aid from the vitalist, should he not realize such aid is needed. As a standard action, any member of the collective can request healing from the vitalist. The vitalist can grant this request by spending up to his level in power points as a free action, even if it is not his turn. Each power point spent in this fashion heals 3 hit points to the target. A vitalist can even initiate this healing himself should he realize someone needs healing, by spending a standard action. A vitalist can do this a number of times per day equal to 3 + his Wisdom modifier." compset="ClSpecial">
    <usesource source="pPsiUn"/>
    <tag group="AbilType" tag="Super"/>
    <tag group="User" tag="Tracker"/>
    <tag group="ChargeCalc" tag="AttrUses3"/>
    <tag group="ChargeAttr" tag="aWIS"/>
    </thing>
  <thing id="cPUGuPulse" name="Guardian&apos;s Pulse" description="As a free action, guardian of 6th level may project a pulse to all members of his collective by spending one power point, granting them DR 2/- for one round. Every three vitalist levels thereafter, this DR increases by 1." compset="ClSpecial">
    <usesource source="pPsiUn"/>
    <tag group="Usage" tag="Day"/>
    </thing>
  <thing id="cPUMePulse" name="Mender&apos;s Pulse" description="As a free action, a mender of 6th level may project a pulse to all members of his collective by spending one power point, granting fast healing 1 for one round. Every three vitalist levels thereafter, this fast healing increases by 1. This healing is not eligible to be redirected using Collective Healing." compset="ClSpecial">
    <usesource source="pPsiUn"/>
    <tag group="Usage" tag="Day"/>
    </thing>
  <thing id="cPUSoPulse" name="Soulthief&apos;s Pulse" description="As a free action, a soulthief of 6th level may project a pulse to all members of his collective by spending one power point, which empowers the attacks of the members of the collective for one round. Any successful damaging attack made with an attack roll made by a member of the collective heals the attacker for the damage dealt, up to 2 hit points of damage. Every three vitalist levels thereafter, the maximum healing granted by this aura increases by 1." compset="ClSpecial">
    <usesource source="pPsiUn"/>
    <tag group="Usage" tag="Day"/>
    </thing>
  <thing id="cPUGuSwift" name="Swift Aid" description="A guardian of 8th level may, as an immediate action and by expending his psionic focus, grant a member of his collective a +1 insight bonus to AC or saves (guardian&apos;s choice) that lasts until the beginning of the target&apos;s next turn. This insight bonus increases by +1 every four vitalist levels thereafter." compset="ClSpecial">
    <usesource source="pPsiUn"/>
    <tag group="Usage" tag="Day"/>
    <tag group="abAction" tag="PUExpFocus"/>
    <tag group="abAction" tag="Immediate"/>
    </thing>
  <thing id="cPUMeSwift" name="Swift Aid" description="A mender of 8th level may, as an immediate action and by expending his psionic focus, heal a member of his collective as if he had used transfer wounds." compset="ClSpecial">
    <usesource source="pPsiUn"/>
    <tag group="Usage" tag="Day"/>
    <tag group="abAction" tag="PUExpFocus"/>
    <tag group="abAction" tag="Immediate"/>
    </thing>
  <thing id="cPUSoSwift" name="Swift Aid" description="A soulthief of 8th level may, as an immediate action and by expending his psionic focus, transfer the wounds of a member of his collective to an enemy within 15 ft. of the ally for an amount of damage equal to the soulthief&apos;s transfer wounds ability. A successful Fortitude save (DC 10 + 1/2 class level + Wisdom modifier) negates the effect." compset="ClSpecial">
    <usesource source="pPsiUn"/>
    <tag group="Usage" tag="Day"/>
    <tag group="abAction" tag="PUExpFocus"/>
    <tag group="abAction" tag="Immediate"/>
    <tag group="abSave" tag="FortNeg"/>
    <tag group="StandardDC" tag="aWIS"/>
    </thing>
  <thing id="cPUVitExpK" name="Expanded Knowledge" description="Skilled vitalists understand that there is merit in expanding their arsenal. At 9th level, a vitalist gains Expanded Knowledge as a bonus feat. He gains this feat again at 18th level." compset="ClSpecial">
    <tag group="Helper" tag="SpecUp"/>
    <tag group="ProductId" tag="HLCommunit"/>
    <bootstrap thing="fPUExpKn">
      <containerreq phase="First" priority="500"><![CDATA[ !AbReplace.cPUVitExpK & count:Classes.Vitalist >= fieldVal:abValue]]></containerreq>
      </bootstrap>
    </thing>
  <thing id="cPUGuExper" name="Guardian&apos;s Expertise" description="Upon achieving 11th level, anytime a guardian manifests {i}empathic feedback{/i}, the power gains two additional augment options.{br}{br}3. If you spend 6 additional power points, this power may be manifested as an immediate action.{br}{br}4. If you spend 4 additional power points, the damage dealt to the attacker is subtracted from the damage you take.{br}{br}In addition, any time a guardian manifests a power on a member of his collective (including himself) with a range of You and a duration measured in rounds, the guardian may expend his psionic focus to treat that power as if affected by the Extend Power feat." compset="ClSpecial">
    <tag group="Usage" tag="Day"/>
    <tag group="abAction" tag="PUExpFocus"/>
    </thing>
  <thing id="cPUMeExper" name="Mender&apos;s Expertise" description="Upon achieving 11th level, a mender is skilled at restoring the psyche of the recently deceased and efficiently healing his collective members.{br}{br}Any time a mender manifests {i}psionic revivify{/i}, the maximum number of rounds after the target&apos;s death allowed increases by his Wisdom modifier (minimum 1) without the need to suffer additional negative levels.{br}{br}In addition, anytime a mender manifests a power with the Healing descriptor, it heals an additional 50% hit points (round down).\nIn addition, any time a guardian manifests a power on a member of his collective (including himself) with a range of You and a duration measured in rounds, the guardian may expend his psionic focus to treat that power as if affected by the Extend Power feat." compset="ClSpecial">
    <usesource source="pPsiUn"/>
    <tag group="Usage" tag="Day"/>
    </thing>
  <thing id="cPUSoExper" name="Soulthief&apos;s Expertise" description="Upon achieving 11th level, anytime a soulthief manifests {i}hostile empathic transfer{/i}, the attack can be made as a ranged touch attack with a range of 30 feet instead of as a melee touch attack. In addition, every additional power point spent augmenting hostile empathic transfer increases the additional damage transferred by 7, rather than by 5, and the maximum number of points of damage transferred increases to 85.{br}{br}In addition, any time a soulthief manifests a power or psi-like ability that deals hit point damage, it heals him for 50% of the damage dealt." compset="ClSpecial">
    <usesource source="pPsiUn"/>
    <tag group="Usage" tag="Day"/>
    </thing>
  <thing id="cPUStealLi" name="Steal Life" description="Beginning at 14th level, a vitalist can not only steal the health of a target, but steal their life itself. By making a successful melee touch attack and expending psionic focus, the vitalist can force the target to make a Fortitude save (DC 10 + half class level + Wisdom modifier) or die. A successful save negates this effect. Targets with more than 140 hit points are unaffected by this ability.{br}{br}If the target fails the save, the vitalist is able to channel the stolen life force through his collective, healing any number of the members of his collective for a combined total of 5 hit points per hit die the original target had.{br}{br}This ability may only be used on creatures with a Constitution score and may not be used against creatures in the vitalist&apos;s collective.{br}{br}{i}For example, Jorus is a level 14 vitalist and he uses steal life on a thought slayer, which has 11 hit dice.{br}{br}The thought slayer fails the Fortitude save, so Jorus can heal up to 55 hit points over his collective, divided among the members as he sees fit.{br}{br}{/i}A vitalist must wait 10 minutes after using this ability before he can attempt to use it again.{br}{br}This is considered a death effect." compset="ClSpecial">
    <usesource source="pPsiUn"/>
    <tag group="AbilType" tag="Super"/>
    </thing>
  <thing id="cPUGuMaste" name="Master Guardian" description="A guardian of 20th level can, as a full-round action and by expending his psionic focus, give one member of the collective a psionic bubble of protection. This protective bubble grants DR 6/-, PR 27, resistance 20 against any attack that deals acid, cold, electricity, fire, or sonic damage, and a +6 deflection bonus to AC. This protective bubble lasts for one minute.{br}{br}The guardian can use this ability once every 10 minutes." compset="ClSpecial">
    <usesource source="pPsiUn"/>
    <tag group="Usage" tag="Day"/>
    </thing>
  <thing id="cPUMeMaste" name="Master Mender" description="A mender of 20th level is capable of healing even the most grievous of injuries. As a fullround action and by expending his psionic focus, the mender can heal a member of his collective to full health, including restoring any ability drain, removing fatigue or exhaustion, and curing any poisons or diseases. The mender can use this ability once every 10 minutes." compset="ClSpecial">
    <usesource source="pPsiUn"/>
    <tag group="Usage" tag="Day"/>
    <tag group="abAction" tag="PUExpFocus"/>
    <tag group="abAction" tag="FullRd"/>
    </thing>
  <thing id="cPUSoMaste" name="Master Soulthief" description="A soulthief of 20th level learns how to siphon the life out of a creature. Once every 10 minutes, the soulthief can choose one target to which he has line of sight and, as a full-round action and by expending his psionic focus, begin draining the target of health (12d6 points of empathic damage) which is then transferred to the collective and heals an equal amount of damage. A successful Will save (DC 20 + Wis modifier) negates the effect. Each round, the target may attempt another Will save to negate the effect. The soulthief can maintain concentration to continue the damage each round, for up to one minute. Any damage done after all members of the collective are healed completely instead grants temporary hit points to any member of the collective (soulthief&apos;s choice) for 10 minutes. The soulthief may divide these temporary hit points as he so chooses among members of the collective." compset="ClSpecial">
    <usesource source="pPsiUn"/>
    <tag group="Usage" tag="Day"/>
    <tag group="abAction" tag="PUExpFocus"/>
    <tag group="abAction" tag="FullRd"/>
    <tag group="abSave" tag="WillNeg"/>
    <tag group="StandardDC" tag="aWIS"/>
    </thing>
  <thing id="cPUArcPPri" name="Archer&apos;s Path" description="Your focus is on ranged combat rather than wading into the thick of things.\n\n{b}Powers:{/b} {i}Force screen{/i}, {i}psychokinetic cannon{/i}* \n\n{b}Skills:{/b} Perception, Ride, Stealth \n\n{b}Bonus Class Skill:{/b} Stealth \n\n{b}Note:{/b} You need to correctly set one of the Path&apos;s selected as your Primary path and the 2nd one as the Secondary path to have everthing calc correctly." compset="CustomSpec" summary="You are a follower of the Archer&apos;s Path" uniqueness="unique">
    <comment><![CDATA[Add Psychokinetic Cannon power to list

    PathSkill - This tag group is used to setup the skills associated to the Path. These skills will only be allowed to be selection from the "PathSkill" class ability.

ClassSkill - This tag group is used to setup the skills that will become the Bonus Ckass Skills.

ClsAllowPs - This tag group is used to setup the Powers that this Path grants. You will also still need to bootstrap the same powers onto this Thing with the "Hide.Power" and "PsyWarrior.PathPower" tags.]]></comment>
    <arrayval field="usrArray" index="1" value="Secondary"/>
    <arrayval field="usrArray" index="0" value="Primary"/>
    <usesource source="pPsiUn"/>
    <tag group="SpecSource" tag="cHelpPWa"/>
    <tag group="ClassSkill" tag="skStealth"/>
    <tag group="Helper" tag="SpecUp"/>
    <tag group="PathSkill" tag="skStealth"/>
    <tag group="PathSkill" tag="skRide"/>
    <tag group="PathSkill" tag="skPercep"/>
    <tag group="ClsAllowPs" tag="puForcScr1"/>
    <tag group="ClsAllowPs" tag="puPsyCa1"/>
    <bootstrap thing="puForcScr1">
      <autotag group="Hide" tag="Power"/>
      <autotag group="PsyWarrior" tag="PathPower"/>
      <autotag group="SpellType" tag="cHelpPWa"/>
      <autotag group="Helper" tag="Free"/>
      </bootstrap>
    <bootstrap thing="puPsyCa1">
      <autotag group="Hide" tag="Power"/>
      <autotag group="PsyWarrior" tag="PathPower"/>
      <autotag group="SpellType" tag="cHelpPWa"/>
      <autotag group="Helper" tag="Free"/>
      </bootstrap>
    <bootstrap thing="cPWaManArc"></bootstrap>
    <bootstrap thing="cPWaTraArc"></bootstrap>
    <eval phase="First">~ Setup the Psychic Warrior Path
Call PsyWarPath</eval>
    </thing>
  <thing id="cPWaTraArc" name="Trance (Archer Path)" description="Beginning at 3rd level, while maintaining psionic focus, you gain a +1 competence bonus on attack rolls made with a ranged or thrown weapon (natural weapons do not count for this benefit). This bonus increases by 1 every four psychic warrior levels thereafter." compset="ClSpecial" summary="When psi-focused you gain a competence bonus to ranged or thrown weapons">
    <usesource source="pPsiUn"/>
    <tag group="abAction" tag="PUManFocus"/>
    <eval phase="First" priority="10000" index="2">~ Setup this Maneuver or Trance for the Psy Warrior
      Call PsyWarTrMa</eval>
    <eval phase="PostLevel" priority="10000"><![CDATA[
      ~ If we're not shown, just get out now
      doneif (tagis[Helper.ShowSpec] <> 1)
      ~ If we've been Disabled, get out now
      doneif (tagis[Helper.SpcDisable] <> 0)

      ~ Set the level bonus
      field[abValue].value += 1
      If (field[xTotalLev].value >= 7) Then
        field[abValue].value += 1
      Endif
      If (field[xTotalLev].value >= 11) Then
        field[abValue].value += 1
      Endif
      If (field[xTotalLev].value >= 15) Then
        field[abValue].value += 1
      Endif
      If (field[xTotalLev].value >= 19) Then
        field[abValue].value += 1
      Endif

      ~ Set live name
      field[livename].text = field[thingname].text & " " & signed(field[abValue].value)

      var v_focus as number
      call PUPsiFocus
      ~ If Not psionically focused get out now
      doneif (v_focus <> 1)

      ~ If not active get out now
      doneif (field[abilActive].value <> 1)

      ~ Give competence bonus to attack rolls for ranged weapons
      #applybonus[atrBonComp,hero.child[Attack],field[abValue].value]]]></eval>
    </thing>
  <thing id="cPWaTraSur" name="Trance (Survivor Path)" description="Beginning at 3rd level, while maintaining psionic focus, you gain DR 2/-. This damage reduction improves by 1 every four psychic warrior levels thereafter. In addition, you suffer no harm from being in a hot or cold environment. You can exist comfortably in conditions between 50 and 140 degrees Fahrenheit without having to make Fortitude saves. Your equipment is likewise protected. This doesnt provide any protection from fire or cold damage, nor does it protect against other environmental hazards such as smoke, lack of air, and so forth." compset="ClSpecial" summary="When psi-focused you gain DR and hot or cold environment endurance.">
    <usesource source="pPsiUn"/>
    <tag group="abAction" tag="PUManFocus"/>
    <bootstrap thing="xDamRd"></bootstrap>
    <eval phase="First" priority="10000" index="2">~ Setup this Maneuver or Trance for the Psy Warrior
      Call PsyWarTrMa</eval>
    <eval phase="PostLevel" priority="10000"><![CDATA[
      ~ If we're not shown, just get out now
      doneif (tagis[Helper.ShowSpec] <> 1)
      ~ If we've been Disabled, get out now
      doneif (tagis[Helper.SpcDisable] <> 0)

      ~ Set the level bonus
      field[abValue].value += 2
      If (field[xTotalLev].value >= 7) Then
        field[abValue].value += 1
      Endif
      If (field[xTotalLev].value >= 11) Then
        field[abValue].value += 1
      Endif
      If (field[xTotalLev].value >= 15) Then
        field[abValue].value += 1
      Endif
      If (field[xTotalLev].value >= 19) Then
        field[abValue].value += 1
      Endif

      ~ Set live name
      field[livename].text = field[thingname].text & " " & signed(field[abValue].value)

      var v_focus as number
      call PUPsiFocus
      ~ If Not psionically focused get out now
      doneif (v_focus <> 1)

      ~ Give bonus to DR
      #applydr[xDamRd,field[abValue].value]]]></eval>
    </thing>
  <thing id="cPWaManArc" name="Maneuver (Archer Path)" description="Beginning at 3rd level, you can expend your psionic focus and make a ranged trip attack as a standard action. If your target is flying, they are instead staggered for one round. At 7th level and every four psychic warrior levels thereafter, you gain a +1 bonus to your CMB when using this maneuver." compset="ClSpecial">
    <usesource source="pPsiUn"/>
    <tag group="abAction" tag="PUExpFocus"/>
    <eval phase="First" priority="10000">~ Setup this Maneuver or Trance for the Psy Warrior
Call PsyWarTrMa</eval>
    </thing>
  <thing id="cPWaManSur" name="Maneuver (Survivor Path)" description="Beginning at 3rd level, you can expend your psionic focus as an immediate action to be treated as having the Stalwart ability until the beginning of your next turn. At 7th level and every four psychic warrior levels beyond, you gain a +1 competence bonus to Will saves when using this maneuver. In addition, at 11th level, when using this maneuver, you are treated as having the Improved Stalwart ability." compset="ClSpecial">
    <usesource source="pPsiUn"/>
    <tag group="abAction" tag="PUExpFocus"/>
    <tag group="abAction" tag="Immediate"/>
    <eval phase="First" priority="10000">~ Setup this Maneuver or Trance for the Psy Warrior
Call PsyWarTrMa</eval>
    </thing>
  <thing id="cPWaTraDer" name="Trance (Dervish Path)" description="Beginning at 3rd level, while maintaining psionic focus, you gain a +1 competence bonus on attack rolls made when you wield two weapons. This bonus increases by 1 every four psychic warrior levels thereafter." compset="ClSpecial" summary="When psi-focused you gain a competence bonus to attack rolls when using two weapons.">
    <usesource source="pPsiUn"/>
    <tag group="abAction" tag="PUExpFocus"/>
    <eval phase="First" priority="10000" index="2">~ Setup this Maneuver or Trance for the Psy Warrior
      Call PsyWarTrMa</eval>
    <eval phase="PostLevel" priority="10000"><![CDATA[
      ~ If we're not shown, just get out now
      doneif (tagis[Helper.ShowSpec] <> 1)
      ~ If we've been Disabled, get out now
      doneif (tagis[Helper.SpcDisable] <> 0)

      ~ Set the level bonus
      field[abValue].value += 1
      If (field[xTotalLev].value >= 7) Then
        field[abValue].value += 1
      Endif
      If (field[xTotalLev].value >= 11) Then
        field[abValue].value += 1
      Endif
      If (field[xTotalLev].value >= 15) Then
        field[abValue].value += 1
      Endif
      If (field[xTotalLev].value >= 19) Then
        field[abValue].value += 1
      Endif

      ~ Set live name
      field[livename].text = field[thingname].text & " " & signed(field[abValue].value)

      var v_focus as number
      call PUPsiFocus
      ~ If Not psionically focused get out now
      doneif (v_focus <> 1)
      ~ If not duel wielding weapons get out now!
      doneif (tagexpr[(count:hero#Hero.EquipWep = 2) | hero#Hero.EquipDbl] = 0)

      #applybonus[atmBonComp,hero.child[Attack],field[abValue].value]]]></eval>
    </thing>
  <thing id="cPWaTraGla" name="Trance (Gladiator Path)" description="Beginning at 3rd level, while maintaining psionic focus, you gain a +1 competence bonus to your CMB and a +2 competence bonus to your CMD. These bonuses increase by 1 every four psychic warrior levels thereafter." compset="ClSpecial" summary="When psi-focused you gain a competence bonus to CMB and CMD.">
    <usesource source="pPsiUn"/>
    <tag group="abAction" tag="PUManFocus"/>
    <eval phase="First" priority="10000" index="2">~ Setup this Maneuver or Trance for the Psy Warrior
      Call PsyWarTrMa</eval>
    <eval phase="PostLevel" priority="10000"><![CDATA[
      ~ If we're not shown, just get out now
      doneif (tagis[Helper.ShowSpec] <> 1)
      ~ If we've been Disabled, get out now
      doneif (tagis[Helper.SpcDisable] <> 0)

      ~ Set the level bonus
      field[abValue].value += 1
      If (field[xTotalLev].value >= 7) Then
        field[abValue].value += 1
      Endif
      If (field[xTotalLev].value >= 11) Then
        field[abValue].value += 1
      Endif
      If (field[xTotalLev].value >= 15) Then
        field[abValue].value += 1
      Endif
      If (field[xTotalLev].value >= 19) Then
        field[abValue].value += 1
      Endif

      ~ Set live name
      field[livename].text = field[thingname].text & " " & signed(field[abValue].value)

      var v_focus as number
      call PUPsiFocus
      ~ If Not psionically focused get out now
      doneif (v_focus <> 1)

      ~ competence bonus to CMB/CMD
      #applybonus[BonComp,hero.child[Maneuver],field[abValue].value]]]></eval>
    </thing>
  <thing id="cPWaTraInf" name="Trance (Infiltrator Path)" description="Beginning at 3rd level, while maintaining psionic focus, you gain a +2 competence bonus on Disguise checks and a +1 competence bonus on damage rolls made with natural weapons. These bonuses increase by 1 every four psychic warrior levels thereafter." compset="ClSpecial" summary="When psi-focused you gain a competence bonus to Disguise checks and damage with natural weapons.">
    <usesource source="pPsiUn"/>
    <tag group="abAction" tag="PUManFocus"/>
    <eval phase="First" priority="10000" index="2">~ Setup this Maneuver or Trance for the Psy Warrior
      Call PsyWarTrMa</eval>
    <eval phase="PostLevel" priority="10000"><![CDATA[
      ~ If we're not shown, just get out now
      doneif (tagis[Helper.ShowSpec] <> 1)
      ~ If we've been Disabled, get out now
      doneif (tagis[Helper.SpcDisable] <> 0)

      ~ Set the level bonus
      field[abValue].value += 1
      If (field[xTotalLev].value >= 7) Then
        field[abValue].value += 1
      Endif
      If (field[xTotalLev].value >= 11) Then
        field[abValue].value += 1
      Endif
      If (field[xTotalLev].value >= 15) Then
        field[abValue].value += 1
      Endif
      If (field[xTotalLev].value >= 19) Then
        field[abValue].value += 1
      Endif

      ~ Set live name
      field[livename].text = field[thingname].text & " " & signed(field[abValue].value)

      var v_focus as number
      call PUPsiFocus
      ~ If Not psionically focused get out now
      doneif (v_focus <> 1)

      ~ Bonus to disguise skill
      #applybonus[ModCirc,hero.childfound[skDisguise],field[abValue].value]

      ~ Bonus to natural attack damage
      foreach pick in hero from BaseWep where "wGroup.Natural"
        #applybonus[dmmBonComp,eachpick,field[abValue].value]
        #applybonus[dmrBonComp,eachpick,field[abValue].value]
      nexteach]]></eval>
    </thing>
  <thing id="cPWaTraInt" name="Trance (Interceptor Path)" description="Beginning at 3rd level, while maintaining psionic focus, you gain a +1 competence bonus on attack and damage rolls made against any opponent that threatens any of your allies. This bonus increases by 1 every four psychic warrior levels thereafter." compset="ClSpecial" summary="When psi-focused you gain a competence bonus to attack and damage rolls against opponents who threaten your allies.">
    <fieldval field="actName" value="Threatens Ally"/>
    <usesource source="pPsiUn"/>
    <tag group="User" tag="Activation"/>
    <tag group="abAction" tag="PUManFocus"/>
    <eval phase="First" priority="10000" index="2">~ Setup this Maneuver or Trance for the Psy Warrior
      Call PsyWarTrMa</eval>
    <eval phase="PostLevel" priority="10000"><![CDATA[
      ~ If we're not shown, just get out now
      doneif (tagis[Helper.ShowSpec] <> 1)
      ~ If we've been Disabled, get out now
      doneif (tagis[Helper.SpcDisable] <> 0)

      ~ Set the level bonus
      field[abValue].value += 1
      If (field[xTotalLev].value >= 7) Then
        field[abValue].value += 1
      Endif
      If (field[xTotalLev].value >= 11) Then
        field[abValue].value += 1
      Endif
      If (field[xTotalLev].value >= 15) Then
        field[abValue].value += 1
      Endif
      If (field[xTotalLev].value >= 19) Then
        field[abValue].value += 1
      Endif

      ~ Set live name
      field[livename].text = field[thingname].text & " " & signed(field[abValue].value)

      var v_focus as number
      call PUPsiFocus
      ~ If Not psionically focused get out now
      doneif (v_focus <> 1)
      ~ If not activated get out now!
      doneif (field[abilActive].value = 0)

      ~ Competence bonus to attack & damage
      #applybonus[BonComp,hero.child[Attack],field[abValue].value]
      #applybonus[BonComp,hero.child[Damage],field[abValue].value]]]></eval>
    </thing>
  <thing id="cPWaManDer" name="Maneuver (Dervish Path)" description="Beginning at 3rd level, you can expend your psionic focus as part of a full attack when you fight with two weapons to take a 5-foot step between your attacks, even if you have already taken a 5-foot step, but not if you have moved normally (such as by using hustle). At 8th level and every five psychic warrior levels thereafter, you gain one additional 5-foot step, but each of these 5-foot steps must be made after an attack in your full attack." compset="ClSpecial">
    <usesource source="pPsiUn"/>
    <tag group="abAction" tag="PUExpFocus"/>
    <eval phase="First" priority="10000">~ Setup this Maneuver or Trance for the Psy Warrior
Call PsyWarTrMa</eval>
    </thing>
  <thing id="cPWaManGla" name="Maneuver (Gladiator Path)" description="Beginning at 3rd level, you can expend your psionic focus when using a combat maneuver to not provoke an attack of opportunity for using that combat maneuver. If you have a feat that already does this, such as Improved Bull Rush, your trance competence bonus on this specific maneuver check increases by 2 or you gain a +2 competence bonus on this check if you do not have the Gladiator trance active. Additionally at 8th level and every four psychic warrior levels thereafter, the bonus you gain on this specific maneuver check increases by 1." compset="ClSpecial">
    <usesource source="pPsiUn"/>
    <tag group="abAction" tag="PUExpFocus"/>
    <eval phase="First" priority="10000">~ Setup this Maneuver or Trance for the Psy Warrior
Call PsyWarTrMa</eval>
    </thing>
  <thing id="cPWaManInf" name="Maneuver (Infiltrator Path)" description="Beginning at 3rd level, you can expend your psionic focus when manifesting minor metamorphosis, metamorphosis, or major metamorphosis to gain an intimidating visage. For the duration of the manifestation, you may make a free Intimidate check against any creature that comes within 30 ft. of you. You must have line of sight to the creature and you may only make one such check against that creature per manifestation of minor metamorphosis, metamorphosis, or major metamorphosis. At 7th level and every four psychic warrior levels thereafter, you gain a +1 competence bonus to this Intimidate check." compset="ClSpecial">
    <usesource source="pPsiUn"/>
    <tag group="abAction" tag="PUExpFocus"/>
    <eval phase="First" priority="10000">~ Setup this Maneuver or Trance for the Psy Warrior
Call PsyWarTrMa</eval>
    </thing>
  <thing id="cPWaManInt" name="Maneuver (Interceptor Path)" description="Beginning at 3rd level, you can expend your psionic focus as an immediate action when an enemy you threaten attacks one of your allies to make a single melee attack or bull rush attempt against that enemy. Your attack or bull rush attempt is resolved before the enemys attack. If you made a melee attack and it is successful, the struck enemy takes a penalty equal to the competence bonus of the Interceptor trance on the attack and damage rolls of the attack that triggered this maneuver." compset="ClSpecial">
    <usesource source="pPsiUn"/>
    <tag group="abAction" tag="PUExpFocus"/>
    <tag group="abAction" tag="Immediate"/>
    <eval phase="First" priority="10000">~ Setup this Maneuver or Trance for the Psy Warrior
Call PsyWarTrMa</eval>
    </thing>
  <thing id="cPUDerPPri" name="Dervish&apos;s Path" description="You are a whirlwind in combat. Your blades strike out faster than the eye can perceive, sending enemies reeling from your twin-bladed attacks.\n\n{b}Powers:{/b} {i}Force screen{/i}, {i}metaphysical weapon{/i} \n{b}Skills:{/b} Acrobatics, Bluff, Perform \n\n{b}Bonus Class Skill:{/b} Bluff\n\n{b}Note:{/b} You need to correctly set one of the Path&apos;s selected as your Primary path and the 2nd one as the Secondary path to have everthing calc correctly." compset="CustomSpec" summary="You are a follower of the Dervish&apos;s Path" uniqueness="unique">
    <arrayval field="usrArray" index="1" value="Secondary"/>
    <arrayval field="usrArray" index="0" value="Primary"/>
    <usesource source="pPsiUn"/>
    <tag group="SpecSource" tag="cHelpPWa"/>
    <tag group="ClassSkill" tag="skBluff"/>
    <tag group="Helper" tag="SpecUp"/>
    <tag group="PathSkill" tag="skBluff"/>
    <tag group="PathSkill" tag="Perform"/>
    <tag group="PathSkill" tag="skAcrobat"/>
    <tag group="ClsAllowPs" tag="puForcScr1"/>
    <tag group="ClsAllowPs" tag="puMetaPhW1"/>
    <bootstrap thing="cPWaTraDer"></bootstrap>
    <bootstrap thing="cPWaManDer"></bootstrap>
    <bootstrap thing="puMetaPhW1">
      <autotag group="Hide" tag="Power"/>
      <autotag group="SpellType" tag="cHelpPWa"/>
      <autotag group="PsyWarrior" tag="PathPower"/>
      <autotag group="Helper" tag="Free"/>
      </bootstrap>
    <bootstrap thing="puForcScr1">
      <autotag group="Hide" tag="Power"/>
      <autotag group="SpellType" tag="cHelpPWa"/>
      <autotag group="PsyWarrior" tag="PathPower"/>
      <autotag group="Helper" tag="Free"/>
      </bootstrap>
    <eval phase="First">~ Setup the Psychic Warrior Path
Call PsyWarPath</eval>
    </thing>
  <thing id="cPUGlaPPri" name="Gladiator&apos;s Path" description="Your tactic is not to simply attack, but to maneuver your enemies into the most optimal position, forcibly if necessary.\n\n{b}Bonus Skill:{/b} Bluff\n\n{b}Skills:{/b} Acrobatics, Bluff, Perception\n\n{b}Note:{/b} You need to correctly set one of the Path&apos;s selected as your Primary path and the 2nd one as the Secondary path to have everthing calc correctly." compset="CustomSpec" summary="You are a follower of the Gladiator&apos;s Path" uniqueness="useronce">
    <comment><![CDATA[PathSkill - This tag group is used to setup the skills associated to the Path. These skills will only be allowed to be selection from the "PathSkill" class ability.

ClassSkill - This tag group is used to setup the skills that will become the Bonus Ckass Skills.

ClsAllowPs - This tag group is used to setup the Powers that this Path grants. You will also still need to bootstrap the same powers onto this Thing with the "Hide.Power" and "PsyWarrior.PathPower" tags.]]></comment>
    <arrayval field="usrArray" index="1" value="Secondary"/>
    <arrayval field="usrArray" index="0" value="Primary"/>
    <usesource source="pPsiUn"/>
    <tag group="SpecSource" tag="cHelpPWa"/>
    <tag group="ClassSkill" tag="skBluff"/>
    <tag group="PathSkill" tag="skBluff"/>
    <tag group="PathSkill" tag="skAcrobat"/>
    <tag group="PathSkill" tag="skPercep"/>
    <tag group="ClsAllowPs" tag="puGripIrn1"/>
    <tag group="ClsAllowPs" tag="puPrevenm1"/>
    <tag group="Helper" tag="SpecUp"/>
    <bootstrap thing="puGripIrn1">
      <autotag group="Hide" tag="Power"/>
      <autotag group="PsyWarrior" tag="PathPower"/>
      <autotag group="SpellType" tag="cHelpPWa"/>
      <autotag group="Helper" tag="Free"/>
      </bootstrap>
    <bootstrap thing="puPreTa1">
      <autotag group="Hide" tag="Power"/>
      <autotag group="PsyWarrior" tag="PathPower"/>
      <autotag group="SpellType" tag="cHelpPWa"/>
      <autotag group="Helper" tag="Free"/>
      </bootstrap>
    <bootstrap thing="cPWaTraGla"></bootstrap>
    <bootstrap thing="cPWaManGla"></bootstrap>
    <eval phase="First">~ Setup the Psychic Warrior Path
      Call PsyWarPath</eval>
    </thing>
  <thing id="arPUTraceu" name="Traceur" description="You are a mobile fighter and you use techniques that allow you to make the most out of your momentum and your speed. Where many psychic warriors rely on their physical power or agility, you have learned that motion is just as powerful a tool at your disposal." compset="ClassVary" uniqueness="unique">
    <fieldval field="srcPageNum" value="277"/>
    <fieldval field="srcBookInf" value="Ultimate Psionics"/>
    <arrayval field="cvBonFtMod" index="1" value="-1"/>
    <arrayval field="cvBonFtMod" index="7" value="-1"/>
    <usesource source="pPsiUn"/>
    <tag group="fDisable" tag="fArmLight"/>
    <tag group="fDisable" tag="fArmHeavy"/>
    <tag group="ClVaryName" tag="AppParen"/>
    <tag group="fDisable" tag="fArmMedium"/>
    <tag group="AbReplace" tag="cPWaPathSk"/>
    <tag group="ProductId" tag="HLCommunit"/>
    <bootstrap thing="cPUChargeT">
      <autotag group="ClSpecWhen" tag="2"/>
      </bootstrap>
    <bootstrap thing="cPUQuickSt">
      <autotag group="ClSpecWhen" tag="1"/>
      </bootstrap>
    <link linkage="varies" thing="cHelpPWa"/>
    </thing>
  <thing id="cPUQuickSt" name="Quickened Strides" description="As long as you maintain psionic focus, you gain a +5 ft. enhancement bonus to base speed. This ability only works if you are carrying a light load and not wearing any armor. At 5th level and every four psychic warrior levels thereafter, the bonus to base speed improves by +5 ft. This replaces all armor proficiencies normally gained as a 1st level psychic warrior." compset="ClSpecial" summary="When focused, a bonus to movement if light load and no armor.">
    <comment>need to limit to light load/no armor</comment>
    <usesource source="pPsiUn"/>
    <tag group="AbilType" tag="Super"/>
    <tag group="abAction" tag="PUManFocus"/>
    <eval phase="PostLevel" priority="10001"><![CDATA[      var v_focus as number
      call PUPsiFocus
      ~ If Not psionically focused get out now
      doneif (v_focus <> 1)

      ~ If not active get out now
      doneif (field[abilActive].value <> 1)

      ~ Bonus to Speed
      hero.child[Speed].field[tSpeed].value += (field[abValue].value * 5)]]></eval>
    <eval phase="PostLevel" priority="10000" index="2"><![CDATA[~ add to our value based on level
var mylevel as number
var mybonus as number
mybonus += 1

mylevel = #levelcount[PsychicWar]

if (mylevel >= 5) then
  mybonus += 1
endif
if (mylevel >= 9) then
  mybonus += 1
endif
if (mylevel >= 13) then
  mybonus += 1
endif
if (mylevel >= 17) then
  mybonus += 1
endif

field[abValue].value += 1]]></eval>
    </thing>
  <thing id="cPUChargeT" name="Charge Through" description="Starting at 2nd level, you are able to make charges through difficult terrain or through squares occupied by allies. This ability can be used in conjunction with the Psionic Charge feat. This replaces the bonus feat normally gained as a 2nd level psychic warrior." compset="ClSpecial" summary="You can make charges through difficult terrain or through ally-occupied squares.">
    <comment>need to limit to light load/no armor</comment>
    <usesource source="pPsiUn"/>
    <tag group="AbilType" tag="Extra"/>
    </thing>
  <thing id="cPUInfPPri" name="Infiltrator&apos;s Path" description="You are adept at changing your form and altering your physiology to meet any situation and strike fear into your enemies.\n\n{b}Powers:{/b} {i}Chameleon{/i}, {i}minor metamorphosis{/i}\n\n{b}Skills:{/b} Disguise, Escape Artist, Intimidate \n\n{b}Bonus Class Skill:{/b} Disguise\n\n{b}Note:{/b} You need to correctly set one of the Path&apos;s selected as your Primary path and the 2nd one as the Secondary path to have everthing calc correctly." compset="CustomSpec" summary="You are a follower of the Infiltrator&apos;s Path" uniqueness="useronce">
    <comment><![CDATA[PathSkill - This tag group is used to setup the skills associated to the Path. These skills will only be allowed to be selection from the "PathSkill" class ability.

ClassSkill - This tag group is used to setup the skills that will become the Bonus Ckass Skills.

ClsAllowPs - This tag group is used to setup the Powers that this Path grants. You will also still need to bootstrap the same powers onto this Thing with the "Hide.Power" and "PsyWarrior.PathPower" tags.]]></comment>
    <arrayval field="usrArray" index="1" value="Secondary"/>
    <arrayval field="usrArray" index="0" value="Primary"/>
    <usesource source="pPsiUn"/>
    <tag group="SpecSource" tag="cHelpPWa"/>
    <tag group="ClassSkill" tag="skDisguise"/>
    <tag group="PathSkill" tag="skDisguise"/>
    <tag group="PathSkill" tag="skEscape"/>
    <tag group="PathSkill" tag="skIntim"/>
    <tag group="ClsAllowPs" tag="puMetamor1"/>
    <tag group="ClsAllowPs" tag="puChamele1"/>
    <tag group="Helper" tag="SpecUp"/>
    <bootstrap thing="puMetamor1">
      <autotag group="Hide" tag="Power"/>
      <autotag group="PsyWarrior" tag="PathPower"/>
      <autotag group="SpellType" tag="cHelpPWa"/>
      <autotag group="Helper" tag="Free"/>
      </bootstrap>
    <bootstrap thing="puChamele1">
      <autotag group="Hide" tag="Power"/>
      <autotag group="PsyWarrior" tag="PathPower"/>
      <autotag group="SpellType" tag="cHelpPWa"/>
      <autotag group="Helper" tag="Free"/>
      </bootstrap>
    <bootstrap thing="cPWaTraInf"></bootstrap>
    <bootstrap thing="cPWaManInf"></bootstrap>
    <eval phase="First">~ Setup the Psychic Warrior Path
      Call PsyWarPath</eval>
    </thing>
  <thing id="cPUIntPPri" name="Interceptor&apos;s Path" description="You are adept at engaging enemies, guarding your allies, and blocking interlopers. Speed and maneuverability are not your only tools; you know how stop a foe in his tracks.\n\n{b}Powers{/b}: {i}Burst, expansion{/i} \n\n{b}Skills:{/b} Acrobatics, Intimidate, Perception \n\n{b}Bonus class skill:{/b} Intimidate\n{b}Note:{/b} You need to correctly set one of the Path&apos;s selected as your Primary path and the 2nd one as the Secondary path to have everthing calc correctly." compset="CustomSpec" summary="You are a follower of the Interceptor&apos;s Path" uniqueness="useronce">
    <comment><![CDATA[PathSkill - This tag group is used to setup the skills associated to the Path. These skills will only be allowed to be selection from the "PathSkill" class ability.

ClassSkill - This tag group is used to setup the skills that will become the Bonus Ckass Skills.

ClsAllowPs - This tag group is used to setup the Powers that this Path grants. You will also still need to bootstrap the same powers onto this Thing with the "Hide.Power" and "PsyWarrior.PathPower" tags.]]></comment>
    <arrayval field="usrArray" index="1" value="Secondary"/>
    <arrayval field="usrArray" index="0" value="Primary"/>
    <usesource source="pPsiUn"/>
    <tag group="SpecSource" tag="cHelpPWa"/>
    <tag group="ClassSkill" tag="skIntim"/>
    <tag group="PathSkill" tag="skAcrobat"/>
    <tag group="PathSkill" tag="skPercep"/>
    <tag group="PathSkill" tag="skIntim"/>
    <tag group="ClsAllowPs" tag="puExpand1"/>
    <tag group="ClsAllowPs" tag="puBurst1"/>
    <tag group="Helper" tag="SpecUp"/>
    <bootstrap thing="puExpand1">
      <autotag group="Hide" tag="Power"/>
      <autotag group="PsyWarrior" tag="PathPower"/>
      <autotag group="SpellType" tag="cHelpPWa"/>
      <autotag group="Helper" tag="Free"/>
      </bootstrap>
    <bootstrap thing="puBurst1">
      <autotag group="Hide" tag="Power"/>
      <autotag group="PsyWarrior" tag="PathPower"/>
      <autotag group="SpellType" tag="cHelpPWa"/>
      <autotag group="Helper" tag="Free"/>
      </bootstrap>
    <bootstrap thing="cPWaTraInt"></bootstrap>
    <bootstrap thing="cPWaManInt"></bootstrap>
    <eval phase="First">~ Setup the Psychic Warrior Path
      Call PsyWarPath</eval>
    </thing>
  <thing id="cPUSickTou" name="Sickening Touch" description="A miasmic can cause a living creature to be sickened with just a touch. As a melee touch attack, the creature touched must make a Fortitude save (DC 10 + 1/2 the miasmic&apos;s class level + the miasmic&apos;s Wisdom modifier) or be sickened for a number of rounds equal to the miasmic&apos;s Wisdom modifier. A successful save negates this effect. A miasmic may use this ability a number of times per day equal to 3 + his Wisdom modifier.{br}{br}At 5th level, this touch nauseates the creature touched instead of sickens.{br}{br}At 9th level, the creature touched is sickened even on a successful save, or nauseated on a failed save.{br}{br}At 13th level, if the miasmic absorbs a disease through his disease mastery ability (see below), for a number of rounds after absorbing the disease equal to his Wisdom modifier, the miasmic can transfer the disease through this ability, infecting the touched creature with the disease absorbed. The touched creature can make a saving throw against the disease as normal based upon the disease being transferred.{br}{br}This ability replaces transfer wounds and the accompanying benefits from the vitalist&apos;s selected method." compset="ClSpecial">
    <usesource source="pPsiUn"/>
    <tag group="AbilType" tag="Super"/>
    <tag group="User" tag="Tracker"/>
    <tag group="ChargeCalc" tag="AttrUses3"/>
    <tag group="ChargeAttr" tag="aWIS"/>
    <tag group="Usage" tag="Day"/>
    <tag group="StandardDC" tag="aWIS"/>
    <tag group="abSave" tag="FortNeg"/>
    <tag group="ProductId" tag="HLCommunit"/>
    <eval phase="PostLevel" priority="10000"><![CDATA[var myCnt as number
var myTimes as number

myCnt = field[xIndex].value

field[listname].text = "Sickening Touch ("

if (myCnt = 1) then
  field[listname].text &= "sicken)"
elseif (myCnt = 2) then
  field[listname].text &= "nauseate)"
elseif (myCnt = 3) then
  field[listname].text &= "nauseate/sicken)"
elseif (myCnt = 4) then
  field[listname].text &= "transfer disease)"
  endif

~These calculations should only happen for the first copy
~doneif (tagis[Helper.FirstCopy] = 0)

~ If we're not shown, just get out now
~doneif (tagis[Helper.ShowSpec] = 0)

~field[abValue].value += field[xCount].value

~field[CustDesc].text = "Transfer Wounds (" & field[abValue].value & "d6)"]]></eval>
    </thing>
  <thing id="arPUEnlMnk" name="Enlightened Monk" description="A monk&apos;s ki and psionic power have long thought to be linked. Enlightened monks learn how to use their ki to fuel their psionic abilities and ways to harness their psionic power.{br}{br}{b}Class Skills:{/b} The enlightened monk adds Autohypnosis (Wis) as a class skill." compset="ClassVary" uniqueness="unique">
    <fieldval field="srcPageNum" value="292"/>
    <fieldval field="srcBookInf" value="Ultimate Psionics"/>
    <arrayval field="cvBonFtMod" index="1" value="-1"/>
    <arrayval field="cvBonFtMod" index="5" value="-2"/>
    <arrayval field="cvBonFtMod" index="9" value="-2"/>
    <arrayval field="cvBonFtMod" index="13" value="-2"/>
    <arrayval field="cvBonFtMod" index="17" value="-2"/>
    <arrayval field="cvBonFtMod" index="0" value="-1"/>
    <usesource source="pPsiUn"/>
    <tag group="ClVaryName" tag="AppParen"/>
    <tag group="AbReplace" tag="cMnkSlow"/>
    <tag group="ClassSkill" tag="skPUAhypno"/>
    <tag group="ProductId" tag="HLCommunit"/>
    <bootstrap thing="cPUKiPsion">
      <autotag group="ClSpecWhen" tag="4"/>
      </bootstrap>
    <bootstrap thing="cPUPsiTra">
      <autotag group="ClSpecWhen" tag="1"/>
      </bootstrap>
    <bootstrap thing="cPUAugStFi">
      <autotag group="ClSpecWhen" tag="6"/>
      </bootstrap>
    <link linkage="varies" thing="cHelpMnk"/>
    <eval phase="PreLevel" priority="10000"><![CDATA[~ Append additional text onto the Monk's Stunning Fist
#appenddesc[fStunFist,"{b}Enlightened Monk:{/b} When an enlightened monk uses his Stunning Fist ability, he can choose to expend his psionic focus to gain a +1 bonus to the save DC of that Stunning Fist attack. If the enlightened monk expends his psionic focus for the Psionic Fist feat as part of a stunning fist attack, he gains this bonus in addition to the bonus damage from Psionic Fist."]]]></eval>
    </thing>
  <thing id="cPUPsiTra" name="Psionic Training" description="An enlightened monk unlocks his psionic power and learns to use it in combat. The enlightened monk gains the Wild Talent and Psionic Fist feats as bonus feats. If the hero already has Psionic ability, then he gains the Psionic Talent feat instead of Wild Talent.\n\nThis ability replaces the bonus feat gained at 1st level." compset="ClSpecial">
    <usesource source="pPsiUn"/>
    <bootstrap thing="fPUPsiFist">
      <autotag group="thing" tag="skipprereq"/>
      </bootstrap>
    <bootstrap thing="fPUWildTal">
      <containerreq phase="First" priority="499">!Hero.Psionic</containerreq>
      <autotag group="thing" tag="skipprereq"/>
      </bootstrap>
    <bootstrap thing="fPUPsiTal">
      <containerreq phase="First" priority="499">Hero.Psionic</containerreq>
      </bootstrap>
    </thing>
  <thing id="cPUKiPsion" name="Ki Psionics" description="An enlightened monk can use his {i}ki{/i} points in place of power points for special abilities including manifesting powers (such as those that might be gained from multiclassing) or racial abilities like the elan&apos;s resilience ability. In addition, the enlightened monk can spend 1 {i}ki{/i} point to use {i}catfall{/i} as a psi-like ability with a manifester level equal to his class level. This ability replaces the slow fall ability." compset="ClSpecial">
    <usesource source="pPsiUn"/>
    <bootstrap thing="puCatfall1">
      <containerreq phase="First" priority="500"><![CDATA[count:Classes.Monk >= 4]]></containerreq>
      </bootstrap>
    </thing>
  <thing id="cPUAugStFi" name="Augmented Stunning Fist" description="An enlightened monk of 6th level can channel power points into his stunning fist attacks to make them more devastating. When the enlightened monk uses his stunning fist attack, he may choose to spend up to his class level in power points on the attack. If he does, he gains an insight bonus to the damage if the attack is successful equal to the number of power points spent. For every two power points spent adding damage, the save DC of the stunning fist attack increases by 1. The enlightened monk cannot spend more power points on this ability than his monk level.{br}{br}This ability the bonus feat gained at 6th level." compset="ClSpecial">
    <usesource source="pPsiUn"/>
    </thing>
  <thing id="arPUCerInf" name="Cerebral Infiltrator" description="Tapping into psionic power can give rogues insight into the behavior of others as well as the ability to assault the sensory input of their opponents. Cerebral infiltrators focus more on dealing with people and less on dealing with traps and mechanical devices.\n\n{b}Class Skills:{/b} The cerebral infiltrator adds Autohypnosis (Wis) as a class skill.\n\n{b}Recommended Talents:{/b} Major psionics*, minor psionics*, psionic feat* \n\n{b}Recommended Advanced Talents:{/b} Slippery mind, vanish*" compset="ClassVary" uniqueness="unique">
    <fieldval field="srcPageNum" value="291"/>
    <fieldval field="srcBookInf" value="Ultimate Psionics"/>
    <arrayval field="cvBonFtMod" index="0" value="-1"/>
    <arrayval field="cvBonFtMod" index="6" value="-1"/>
    <usesource source="pPsiUn"/>
    <tag group="AbReplace" tag="cTrapSense"/>
    <tag group="ClVaryName" tag="AppParen"/>
    <tag group="ClassSkill" tag="skPUAhypno"/>
    <tag group="AbReplace" tag="cRogTrapfn"/>
    <tag group="ProductId" tag="HLCommunit"/>
    <bootstrap thing="cPUCripSen">
      <autotag group="ClSpecWhen" tag="12"/>
      </bootstrap>
    <bootstrap thing="cPUCripSen">
      <autotag group="ClSpecWhen" tag="18"/>
      </bootstrap>
    <bootstrap thing="cPUEnSeRog">
      <autotag group="ClSpecWhen" tag="1"/>
      </bootstrap>
    <bootstrap thing="cPUCripSen">
      <autotag group="ClSpecWhen" tag="3"/>
      </bootstrap>
    <bootstrap thing="cPUCripSen">
      <autotag group="ClSpecWhen" tag="6"/>
      </bootstrap>
    <link linkage="varies" thing="cHelpRog"/>
    </thing>
  <thing id="cPUEnSeRog" name="Enhanced Senses" description="A cerebral infiltrator unlocks his psionic talent and gains additional insight into interactions with others. The cerebral infiltrator gains the Wild Talent feat as a bonus feat and gains a bonus on Sense Motive checks equal to half his class level (minimum +1). This ability replaces trap finding." compset="ClSpecial">
    <usesource source="pPsiUn"/>
    <bootstrap thing="fPUWildTal">
      <autotag group="thing" tag="skipprereq"/>
      </bootstrap>
    <eval phase="PostLevel" priority="10000"><![CDATA[~ If we're not shown, just get out now
doneif (tagis[Helper.ShowSpec] <> 1)
~ If we've been Disabled, get out now
doneif (tagis[Helper.SpcDisable] <> 0)

~ Calculate bonus of half our character level
field[abValue].value += round(field[xTotalLev].value/2,0,-1)]]></eval>
    <eval phase="PostLevel" priority="15000" index="2">#skillbonus[skSenseMot] += field[abValue].value</eval>
    <eval phase="Render" priority="99999" index="3"><![CDATA[field[abSumm].text = signed(field[abValue].value) & " bonus to Sense Motive checks."]]></eval>
    </thing>
  <thing id="cPUCripSen" name="Cripple Senses" description="A cerebral infiltrator of 3rd level gains the ability when making a sneak attack to blind and deafen the struck creature for a number of rounds equal to the cerebral infiltrator&apos;s Intelligence modifier once per day. At 6th level and every six levels thereafter, the cerebral infiltrator gains an additional daily use of this ability. This ability replaces trapsense.\n\nTrap sense bonuses gained from multiple classes stack." compset="ClSpecial">
    <usesource source="pPsiUn"/>
    <tag group="SpecType" tag="SneakAtt"/>
    <tag group="Usage" tag="Day"/>
    <tag group="User" tag="Tracker"/>
    <eval phase="PostLevel" priority="10000"><![CDATA[
      ~if we're not shown, just get out now
      doneif (tagis[Helper.ShowSpec] = 0)

      field[abValue2].value += field[xCount].value]]></eval>
    <eval phase="Render" priority="10000" index="2"><![CDATA[
field[listname].text = "Cripple Senses (" & field[xIndex].value & "/day)"

~if we're not shown, just get out now
doneif (tagis[Helper.ShowSpec] = 0)

~only do the rest if we're the first copy
doneif (tagis[Helper.FirstCopy] = 0)

field[livename].text = "Cripple Senses (" & field[abValue2].value & "/day)"
field[abSumm].text = "Blind and deafen target of Sneak Attack for " & field[abValue].value & " round(s), " & field[abValue2].value & "x/day."]]></eval>
    <eval phase="PostAttr" index="3"><![CDATA[
      ~if we're not shown, just get out now
      doneif (tagis[Helper.ShowSpec] = 0)

      field[abValue].value += #attrmod[aINT]]]></eval>
    </thing>
  <thing id="cPURogMiPs" name="Minor Psionics" description="A rogue with this talent gains the ability to manifest a 0-level power from the psion/wilder power list. This spell can be cast three times a day as a psi-like ability. The manifester level for this ability is equal to the rogue&apos;s level. The save DC for this power is 10 + the rogue&apos;s Intelligence modifier. The rogue must have an Intelligence of at least 10 to select this talent." compset="CustomSpec" summary="Gain the chosen talent as a psi-like ability." uniqueness="unique">
    <fieldval field="usrCandid1" value="component.BasePower &amp; sLevel.0 "/>
    <fieldval field="trkMax" value="3"/>
    <usesource source="pPsiUn"/>
    <tag group="SpecSource" tag="cHelpRog" name="Rogue" abbrev="Rogue"/>
    <tag group="SpecType" tag="PsiLike" name="Psi-Like Ability" abbrev="Psi-Like Ability"/>
    <tag group="Usage" tag="Day" name="/day" abbrev="/day"/>
    <tag group="User" tag="Tracker" name="Modern Action Points" abbrev="Modern Action Points"/>
    <tag group="ChooseSrc1" tag="Thing" name="All Things" abbrev="All Things"/>
    <tag group="SpecSource" tag="cHelpInv" name="Investigator" abbrev="Investigator"/>
    <tag group="AbilType" tag="PsiLike"/>
    <eval phase="Render" priority="10000">doneif (field[usrChosen1].ischosen = 0)

      ~ Pull the tag to see the info for our chosen spell
      perform field[usrChosen1].chosen.pulltags[DescInfo.?]</eval>
    <exprreq message="Psionics required."><![CDATA[hero.tagcount[Hero.Psionic] >= 1]]></exprreq>
    <exprreq message="Intelligence 10 required." iserror="no"><![CDATA[#attrvalue[aINT] >= 10]]></exprreq>
    </thing>
  <thing id="cPURogMaPs" name="Major Psionics" description="A rogue with this talent gains the ability to manifest a 1st-level power from the psion/wilder power list two times a day as a psi-like ability. The manifester level for this ability is equal to the rogue&apos;s level. The save DC for this power is 11 + the rogue&apos;s Intelligence modifier. The rogue must have an Intelligence of at least 11 to select this talent. A rogue must have the minor psionics rogue talent before choosing this talent." compset="CustomSpec" summary="Gain the chosen 1st-level power as a psi-like ability." uniqueness="unique">
    <fieldval field="usrCandid1" value="component.BasePower &amp; sLevel.1"/>
    <fieldval field="trkMax" value="2"/>
    <usesource source="pPsiUn"/>
    <tag group="SpecType" tag="SpellLike" name="Spell-Like Ability" abbrev="Spell-Like Ability"/>
    <tag group="Usage" tag="Day" name="/day" abbrev="/day"/>
    <tag group="User" tag="Tracker" name="Modern Action Points" abbrev="Modern Action Points"/>
    <tag group="ChooseSrc1" tag="Thing" name="All Things" abbrev="All Things"/>
    <tag group="SpecSource" tag="cHelpInv" name="Investigator" abbrev="Investigator"/>
    <tag group="Helper" tag="SpecUp"/>
    <tag group="AbilType" tag="PsiLike"/>
    <tag group="SpecSource" tag="cHelpRog" name="Rogue" abbrev="Rogue"/>
    <eval phase="Render" priority="10000">doneif (field[usrChosen1].ischosen = 0)

      ~ Pull the tag to see the info for our chosen spell
      perform field[usrChosen1].chosen.pulltags[SpInfo.?]</eval>
    <exprreq message="Intelligence 11 required." iserror="no"><![CDATA[#attrvalue[aINT] >= 11]]></exprreq>
    <exprreq message="Minor Psionics required."><![CDATA[#hasability[cPURogMiPs] <> 0]]></exprreq>
    <exprreq message="Psionics required."><![CDATA[hero.tagcount[Hero.Psionic] >= 1]]></exprreq>
    </thing>
  <thing id="cPURogPsFt" name="Psionic Feat" description="Select any psionic feat whose prerequisites you meet." compset="CustomSpec" summary="You gain a bonus psionics feat.">
    <usesource source="pPsiUn"/>
    <tag group="SpecSource" tag="cHelpRog" name="Rogue" abbrev="Rogue"/>
    <tag group="SpecSource" tag="cHelpSla" name="Slayer" abbrev="Slayer"/>
    <tag group="Helper" tag="SpecUp" name="SpecUp" abbrev="SpecUp"/>
    <bootstrap thing="cfgPUPsFtR"></bootstrap>
    <eval phase="PreLevel" priority="10000">~ Add to psionic feats allowed
~Add 5 talents available
hero.childfound[cfgPUPsFtR].field[cfgMaxF1].value += 1</eval>
    <exprreq message="Psionics Required."><![CDATA[hero.tagcount[Hero.Psionic] >= 1]]></exprreq>
    </thing>
  <thing id="cfgPUPsFtR" name="Psionic Feat Talent" compset="Configure" uniqueness="unique">
    <usesource source="pPsiUn" parent="pDscar" name="Ultimate Psionics v2.4"/>
    <tag group="fCategory" tag="Psionic"/>
    <tag group="ProductId" tag="HLCommunit"/>
    </thing>
  <thing id="cPURgDazSh" name="Dazing Shot" description="A rogue with this talent can expend his psionic focus to daze the target when he makes a successful sneak attack on a ranged attack. The rogue must have the Psionic Shot feat to select this talent." compset="CustomSpec" summary="Expend psionic focus to daze target of successful ranged Sneak Attack." uniqueness="unique">
    <usesource source="pPsiUn"/>
    <tag group="SpecSource" tag="cHelpRog" name="Rogue" abbrev="Rogue"/>
    <tag group="SpecType" tag="Defense" name="Defense" abbrev="Defense"/>
    <tag group="AbilType" tag="Super"/>
    <tag group="Helper" tag="SpecUp" name="SpecUp" abbrev="SpecUp"/>
    <tag group="abAction" tag="PUExpFocus"/>
    <exprreq message="Psionics required."><![CDATA[hero.tagcount[Hero.Psionic] >= 1]]></exprreq>
    <exprreq message="Psionic Shot feat required."><![CDATA[#hasfeat[fPUPsiShot] <> 0]]></exprreq>
    <prereq message="Rogue level 10 required.">
      <validate><![CDATA[
        var classcheck as string
        var levels as number

        classcheck = "Rogue"

        call LevPreReqs

        validif (levels >= 10)]]></validate>
      </prereq>
    </thing>
  <thing id="cPURogVan" name="Vanish" description="As long as a rogue with this ability is maintaining psionic focus, as a swift action he can become invisible as long as he does not move from his location. If the rogue moves while under this effect, he instead is treated as having 50% concealment if he moves less than half his movement, or 20% concealment if he moves more than half his movement. The rogue can use this ability for a number of rounds per day equal to his rogue level. These rounds do not need to be consecutive." compset="CustomSpec" summary="Become invisible as long as you stay psi-focused and you don&apos;t move" uniqueness="unique">
    <usesource source="pPsiUn"/>
    <tag group="SpecSource" tag="cHelpRog" name="Rogue" abbrev="Rogue"/>
    <tag group="SpecType" tag="Defense" name="Defense" abbrev="Defense"/>
    <tag group="AbilType" tag="Super"/>
    <tag group="Helper" tag="SpecUp" name="SpecUp" abbrev="SpecUp"/>
    <tag group="Usage" tag="Day"/>
    <tag group="ChargeCalc" tag="LevelFull"/>
    <tag group="abAction" tag="PUManFocus"/>
    <tag group="abAction" tag="Swift"/>
    <exprreq message="Psionics required."><![CDATA[hero.tagcount[Hero.Psionic] >= 1]]></exprreq>
    <prereq message="Rogue level 10 required.">
      <validate><![CDATA[
        var classcheck as string
        var levels as number

        classcheck = "Rogue"

        call LevPreReqs

        validif (levels >= 10)]]></validate>
      </prereq>
    </thing>
  <thing id="arPUGaean" name="Gaean" description="Tapping into psionic power can give rogues insight into the behavior of others as well as the ability to assault the sensory input of their opponents. Cerebral infiltrators focus more on dealing with people and less on dealing with traps and mechanical devices.\n\n{b}Class Skills:{/b} The cerebral infiltrator adds Autohypnosis (Wis) as a class skill.\n\n{b}Recommended Talents:{/b} Major psionics*, minor psionics*, psionic feat* \n\n{b}Recommended Advanced Talents:{/b} Slippery mind, vanish*" compset="ClassVary" uniqueness="unique">
    <fieldval field="srcPageNum" value="292"/>
    <fieldval field="srcBookInf" value="Ultimate Psionics"/>
    <arrayval field="cvBonFtMod" index="0" value="-1"/>
    <arrayval field="cvBonFtMod" index="6" value="-1"/>
    <usesource source="pPsiUn"/>
    <tag group="AbReplace" tag="cDrdThous"/>
    <tag group="AbReplace" tag="cDrdResNat"/>
    <tag group="AbReplace" tag="cWildEmp"/>
    <tag group="ClassSkill" tag="skPUAhypno"/>
    <tag group="ClVaryName" tag="AppParen"/>
    <tag group="ProductId" tag="HLCommunit"/>
    <bootstrap thing="cPUDrWildT">
      <autotag group="ClSpecWhen" tag="1"/>
      </bootstrap>
    <bootstrap thing="cPUGaeComm">
      <autotag group="ClSpecWhen" tag="1"/>
      </bootstrap>
    <bootstrap thing="cPUGaeaRev">
      <autotag group="ClSpecWhen" tag="13"/>
      </bootstrap>
    <bootstrap thing="cPUStrGaea">
      <autotag group="ClSpecWhen" tag="4"/>
      </bootstrap>
    <link linkage="varies" thing="cHelpDrd"/>
    </thing>
  <thing id="cPUDrWildT" name="Wild Talent" description="The gaean gains the Wild Talent feat as a bonus feat at 1st." compset="ClSpecial">
    <usesource source="pPsiUn"/>
    <tag group="Helper" tag="SpecUp" name="SpecUp" abbrev="SpecUp"/>
    <bootstrap thing="fPUWildTal">
      <containerreq phase="First" priority="499">!Hero.Psionic</containerreq>
      </bootstrap>
    <bootstrap thing="fPUPsiTal">
      <containerreq phase="First" priority="499">Hero.Psionic</containerreq>
      </bootstrap>
    </thing>
  <thing id="cPUGaeComm" name="Gaean Communion" description="While maintaining psionic focus, the gaean is in communion with the dormant earthmind and gains the ability to telepathically communicate with any animal or magical beast with an intelligence of 1 or 2 within 100 ft. Any time the gaean casts {i}summon nature&apos;s ally{/i}, she can communicate telepathically with all of the creatures summoned by the spell. This ability replaces wild empathy." compset="ClSpecial">
    <usesource source="pPsiUn"/>
    <tag group="AbilType" tag="Super"/>
    <tag group="abAction" tag="PUManFocus"/>
    </thing>
  <thing id="cPUStrGaea" name="Strength of Gaea" description="At 4th level, while the gaean is in physical contact with nature, such as being barefoot on the ground or touching a tree, once per day the gaean can draw strength from the earthmind, allowing her to augment her spells in one of the following ways.{br}{br}{b}Augment:{/b} You can augment your spells in one of the following ways.{br}{br}By spending 1 power point and expending your psionic focus, the duration of the spell is doubled.{br}{br}By spending 1 power point and expending your psionic focus, the range of the spell is doubled.{br}{br}By spending 1 power point and expending your psionic focus, the spell can be cast without verbal components.{br}{br}By spending 2 power points and expending your psionic focus, the spell can be cast without somatic components.{br}{br}By spending 2 power points and expending your psionic focus, the spell is treated as if under the effect of the Empower Spell feat.{br}{br}This ability replaces resist nature&apos;s lure." compset="ClSpecial">
    <usesource source="pPsiUn"/>
    <tag group="AbilType" tag="Super"/>
    <tag group="abAction" tag="PUExpFocus"/>
    </thing>
  <thing id="cPUGaeaRev" name="Gaean Revivification" description="At 13th level, if the gaean is maintaining psionic focus when reduced to 0 or fewer hit points and is in physical contact with nature, she can choose as a free action to submerge into whatever part of nature she is in contact with, typically the ground. While submerged, the gaean cannot be targeted by attacks or effects (even if the attacker has a burrow speed or similar ability), she immediately stops bleeding and gains fast healing 5. She is ejected from the earthmind&apos;s embrace once she returns to positive hit points, although she can choose to stay submerged as a free action by expending spell slots. Each level of the spell slot expended extends the effect by 1 round. While submerged the gaean can take no actions other than expending spell slots to remain submerged. This ability replaces a thousand faces." compset="ClSpecial">
    <usesource source="pPsiUn"/>
    <tag group="AbilType" tag="Super"/>
    <tag group="abAction" tag="PUManFocus"/>
    </thing>
  <thing id="cfgPUTranB" name="Transformed Body" compset="Configure" uniqueness="unique">
    <fieldval field="cfgObject1" value="Customization"/>
    <fieldval field="cfgMax1" value="1"/>
    <usesource source="pPsiUn"/>
    <tag group="ProductId" tag="HLCommunit"/>
    <bootstrap thing="raDarkVis">
      <containerreq phase="First" priority="500"><![CDATA[count:Classes.Aegis >= 2]]></containerreq>
      <autotag group="CustTaken" tag="cfgPUTranB"/>
      </bootstrap>
    <bootstrap thing="rcPUaIDaR2">
      <containerreq phase="First" priority="500"><![CDATA[count:Classes.Aegis >= 10]]></containerreq>
      <autotag group="CustTaken" tag="cfgPUTranB"/>
      </bootstrap>
    <bootstrap thing="rcPUaBraw2">
      <autotag group="CustTaken" tag="cfgPUTranB"/>
      </bootstrap>
    <bootstrap thing="rcPUaHarS2">
      <autotag group="CustTaken" tag="cfgPUTranB"/>
      </bootstrap>
    <eval phase="PostLevel" priority="1000">~Set cfgLevel and configurable points from Aegis Helper
field[cfgLevel].value = hero.childfound[cPUAegHelp].field[abValue].value

field[cfgMax1].value = hero.childfound[cPUAegHelp].field[abValue2].value</eval>
    </thing>
  <thing id="cPUTranBod" name="Transformed Body" description="An aberrant learns to modify his own form, rather than covering himself in an ectoplasmic suit. The aberrant gains a +1 natural armor bonus to his AC. At 5th level and every 5 levels thereafter (10th, 15th, and 20th), the natural armor bonus increases by 1.{br}{br}An aberrant can modify his form in a fashion similar to the aegis&apos;s customization, but his options are more limited. He can choose customizations from the customization list below, as well as new customizations exclusive to the aberrant. Because the aberrant is modifying his own body, he can wear armor as normal.{br}{br}The aberrant gains hardened strikes and brawn as a free customization. At 2nd level, the aberrant gains darkvision as a free customization. At 10th level, the aberrant gains improved damage reduction as a free customization.{br}{br}This ability replaces astral suit." compset="ClSpecial">
    <fieldval field="actName" value="Transformed"/>
    <tag group="User" tag="Activation"/>
    <tag group="AbilType" tag="Super"/>
    <tag group="SpecType" tag="Defense"/>
    <bootstrap thing="cfgPUTranB"></bootstrap>
    <eval phase="PostLevel" priority="10000"><![CDATA[
      ~ Set the list name
      field[listname].text = field[thingname].text & " " & signed(field[xIndex].value)

      ~ If we're not shown, just get out now
      doneif (tagis[Helper.ShowSpec] <> 1)
      ~ if we've been disabled, get out now
      doneif (tagis[Helper.SpcDisable] <> 0)

      field[abValue].value += field[xCount].value
      field[livename].text = field[thingname].text & " " & signed(field[abValue].value)

      ~ The following should only happen once on the first copy
      doneif (tagis[Helper.FirstCopy] = 0)

      hero.child[ArmorClass].field[tACNatural].value += field[abValue].value]]></eval>
    <eval phase="First" priority="500" index="2"><![CDATA[
      ~ if we've been disabled, get out now
      doneif (tagis[Helper.SpcDisable] <> 0)
      ~ If not active get out now!
      doneif (field[abilActive].value = 0)

      ~ Being transformed is the same as wearing our Astral Suite
      ~ so set tag on hero.
      perform hero.assign[Custom.WearAstS]]]></eval>
    </thing>
  <thing id="arPUAberra" name="Aberrant" description="Using ectoplasm is the way a typical aegis protects and enhances the physical body. Others have discovered that by directly altering the body, they can achieve similar results, although they might have a more grisly appearance. These aberrants often have misshapen or twisted forms, yet they are equally deadly." compset="ClassVary" uniqueness="unique">
    <fieldval field="srcPageNum" value="261"/>
    <fieldval field="srcBookInf" value="Ultimate Psionics"/>
    <usesource source="pPsiUn"/>
    <tag group="AbReplace" tag="cPUMastCr"/>
    <tag group="ClVaryName" tag="AppParen"/>
    <tag group="AbReplace" tag="cPUAstSuit"/>
    <tag group="AbReplace" tag="cPUAstrRep"/>
    <tag group="AbReplace" tag="cPUCraftsm"/>
    <tag group="ProductId" tag="HLCommunit"/>
    <bootstrap thing="cPUVim">
      <autotag group="ClSpecWhen" tag="1"/>
      </bootstrap>
    <bootstrap thing="cPUTranBod">
      <autotag group="ClSpecWhen" tag="1"/>
      </bootstrap>
    <bootstrap thing="cPUIntim">
      <autotag group="ClSpecWhen" tag="2"/>
      </bootstrap>
    <bootstrap thing="cPUPsiForm">
      <autotag group="ClSpecWhen" tag="5"/>
      </bootstrap>
    <bootstrap thing="cPUTranBod">
      <autotag group="ClSpecWhen" tag="5"/>
      </bootstrap>
    <bootstrap thing="cPUTranBod">
      <autotag group="ClSpecWhen" tag="10"/>
      </bootstrap>
    <bootstrap thing="cPUTranBod">
      <autotag group="ClSpecWhen" tag="15"/>
      </bootstrap>
    <bootstrap thing="cPUTranBod">
      <autotag group="ClSpecWhen" tag="20"/>
      </bootstrap>
    <link linkage="varies" thing="cHelpPU0"/>
    </thing>
  <thing id="cPUVim" name="Vim" description="The aberrant gains {i}vim{/i} as a psi-like ability usable at will at first level as long as he maintains psionic focus. This ability replaces astral repair." compset="ClSpecial">
    <usesource source="pPsiUn"/>
    <tag group="AbilType" tag="PsiLike"/>
    <bootstrap thing="puVim0"></bootstrap>
    </thing>
  <thing id="cPUIntim" name="Intimidate" description="Beginning at 2nd level, an aberrant gains a +1 bonus to Intimidate checks. At 6th level and every four levels thereafter, this bonus increases by 1. This ability replaces craftsman." compset="ClSpecial">
    <tag group="Helper" tag="SpecUp" name="SpecUp" abbrev="SpecUp"/>
    <tag group="AbilType" tag="Extra" name="Extraordinary Ability" abbrev=" (Ex)"/>
    <tag group="ChooseSrc1" tag="Hero"/>
    <tag group="SpecType" tag="Skill"/>
    <eval phase="PostLevel" priority="10000"><![CDATA[field[listname].text = "Intimidate (" & signed(field[xIndex].value) & ")"

~ If we're not shown, just get out now
doneif (tagis[Helper.ShowSpec] = 0)

field[abValue].value += field[xCount].value
field[CustDesc].text = "+" & field[abValue].value & " bonus to Intimidate checks."

hero.childfound[skIntim].field[Bonus].value += field[abValue].value]]></eval>
    </thing>
  <thing id="cPUPsiForm" name="Psionic Form" description="At 5th level, the aberrant gains 1 hit point for each psionic feat he has. Whenever he takes a new psionic feat, he gains 1 more hit point. These bonus hit points stack with those gained from the Psionic Body feat. This ability replaces Master Craftsman." compset="ClSpecial">
    <usesource source="pPsiUn"/>
    <eval phase="PreLevel" priority="10000"><![CDATA[~ Add 1 * (number of psionic feats on the hero) to our hit points.
field[abValue].value = hero.tagcount[fCategory.Psionic]

~ Give the bonus HP to the character
herofield[tHP].value += field[abValue].value

~ Give a note on the summary about this
field[abSumm].text &= " Bonus HP " & signed(field[abValue].value)]]></eval>
    </thing>
  <thing id="cPUAegHelp" name="Aegis Helper" compset="ClSpecial">
    <usesource source="pPsiUn"/>
    <tag group="Helper" tag="SpcDisable"/>
    <tag group="Hide" tag="Special"/>
    <tag group="Helper" tag="Helper"/>
    </thing>
  <thing id="rcPUaAdFt2" name="Adhesive Feet" description="The aegis gains a +4 bonus to CMD against bull rush, trip, and any combat maneuvers that attempt to move him from his current location. He also gains a +4 circumstance bonus to Climb checks." compset="RaceCustom" uniqueness="useronce">
    <usesource source="pPsiUn"/>
    <tag group="CustomCost" tag="2"/>
    <tag group="AllowRCust" tag="cfgPUTranB"/>
    <eval phase="PreLevel" priority="1000"><![CDATA[#situational[hero.child[ManeuvDef], "+4 bonus to CMD against bull rush, trip, and any combat maneuvers that attempt to move from current location",field[thingname].text]

#skillbonus[skClimb] += 4]]></eval>
    </thing>
  <thing id="rcPUaBlin2" name="Blindsense" description="The astral suit augments the aegis&apos;s senses, giving him blindsense out to a range of 30 feet.{br}{br}This ability allows the aegis to pinpoint the location of creatures that he cannot see without having to make a Perception check, but such creatures still have total concealment from the aegis. Visibility still affects the aegis&apos;s movement and he is still denied his Dexterity bonus to Armor Class against attacks from creatures he cannot see. The aegis must be at least 9th level before selecting this customization." compset="RaceCustom" uniqueness="useronce">
    <usesource source="pPsiUn"/>
    <tag group="CustomCost" tag="3"/>
    <tag group="AllowRCust" tag="cfgPUTranB"/>
    <bootstrap thing="rBlindsen">
      <containerreq phase="First" priority="500"><![CDATA[count:hero#Custom.WearAstS <> 0]]></containerreq>
      <assignval field="abValue" value="30"/>
      </bootstrap>
    <prereq message="Aegis level 9+ required">
      <validate><![CDATA[
        var classcheck as string
        var levels as number
        classcheck = "Aegis"
        call PUPreReqs
        validif (levels >= 9)]]></validate>
      </prereq>
    </thing>
  <thing id="rcPUaBliS2" name="Blindsight" description="The astral suit massively augments the aegis&apos;s senses, giving him blindsight out to a range of 30 feet. The aegis can maneuver and attack as normal, ignoring darkness, invisibility, and most forms of concealment as long as he has line of effect to the target.{br}{br}The aegis must possess the blindsense customization to take this customization. The aegis must be at least 11th level before selecting this customization." compset="RaceCustom" uniqueness="useronce">
    <usesource source="pPsiUn"/>
    <tag group="CustomCost" tag="4"/>
    <tag group="AllowRCust" tag="cfgPUTranB"/>
    <prereq message="Aegis level 11+ required.">
      <validate><![CDATA[
        var classcheck as string
        var levels as number
        classcheck = "Aegis"
        call PUPreReqs
        validif (levels >= 11)]]></validate>
      </prereq>
    </thing>
  <thing id="rcPUaBraw2" name="Brawn" description="The aegis gains a +2 enhancement bonus to Strength while he is transformed. This customization can be selected a second time beginning at 5th level, and a third time starting at 10th level. Each subsequent time it is taken, the enhancement bonus to Strength is increased by +2." compset="RaceCustom" maxlimit="">
    <usesource source="pPsiUn"/>
    <tag group="CustomCost" tag="2"/>
    <tag group="AllowRCust" tag="cfgPUTranB"/>
    <eval phase="PostLevel"><![CDATA[
      ~ If we're not wearling the Astral Suit, get out now
      doneif (hero.tagcount[Custom.WearAstS] = 0)

      var Taken as number
      Taken = hero.tagcount[Ability.rcPUaBraw2] * 2

      #enhancementbonus[hero.child[aSTR], Taken]]]></eval>
    <prereq message="">
      <validate><![CDATA[
        var classcheck as string
        var levels as number
        classcheck = "Aegis"
        call PUPreReqs

        var allowed as number
        allowed = minimum(round(levels/5,0,-1)+1,3)

        ~ if we're a pick, then there must be complevel/5 or fewer copies of
        ~ this ability
        if (@ispick <> 0) then
          validif (tagcount[HasAbility.rcPUaBraw2] <= allowed)
        ~ otherwise, look for fewer, since we're adding this
        else
          validif (tagcount[HasAbility.rcPUaBraw2] < allowed)
        endif]]></validate>
      </prereq>
    </thing>
  <thing id="rcPUaBurr2" name="Burrow" description="The aegis gains a burrow speed equal to 1/2 his base speed. He can use this speed to move through dirt, clay, sand, and earth. He does not leave a hole behind, nor is his passage marked on the surface. The aegis must be at least 9th level before selecting this customization." compset="RaceCustom" uniqueness="useronce">
    <usesource source="pPsiUn"/>
    <tag group="CustomCost" tag="3"/>
    <tag group="AllowRCust" tag="cfgPUTranB"/>
    <tag group="Helper" tag="SpecUp"/>
    <eval phase="Final" priority="14000"><![CDATA[~ If we're not wearling the Astral Suit, get out now
doneif (hero.tagcount[Custom.WearAstS] = 0)

hero.child[xBurrow].field[abValue].value = maximum(hero.child[xBurrow].field[abValue].value, hero.child[Speed].field[tSpeed].value)]]></eval>
    <prereq message="Aegis level 9+ required.">
      <validate><![CDATA[
        var classcheck as string
        var levels as number
        classcheck = "Aegis"
        call PUPreReqs
        validif (levels >= 9)]]></validate>
      </prereq>
    </thing>
  <thing id="rcPUaCha2" name="Chameleon" description="The aegis gains a +4 circumstance bonus to Stealth checks. The aegis must be at least 5th level before selecting this customization and this customization can be taken once for every five levels the aegis possesses." compset="RaceCustom">
    <usesource source="pPsiUn"/>
    <tag group="CustomCost" tag="2"/>
    <tag group="AllowRCust" tag="cfgPUTranB"/>
    <eval phase="PreLevel" priority="1000"><![CDATA[
      ~ If we're not wearling the Astral Suit, get out now
      doneif (hero.tagcount[Custom.WearAstS] = 0)

      #skillbonus[skStealth] += 4]]></eval>
    <prereq message="Aegis level 5+ required.">
      <validate><![CDATA[
        var classcheck as string
        var levels as number
        classcheck = "Aegis"
        call PUPreReqs
        validif (levels >= 5)]]></validate>
      </prereq>
    <prereq message="">
      <validate><![CDATA[
        var classcheck as string
        var levels as number
        classcheck = "Aegis"
        call PUPreReqs

        var allowed as number
        allowed = round(levels/5,0,-1)

        ~ if we're a pick, then there must be complevel/5 or fewer copies of
        ~ this ability
        if (@ispick <> 0) then
          validif (tagcount[HasAbility.rcPUaCha2] <= allowed)
        ~ otherwise, look for fewer, since we're adding this
        else
          validif (tagcount[HasAbility.rcPUaCha2] < allowed)
        endif

       @message = "You may not have more than " & allowed & " copies of this ability."]]></validate>
      </prereq>
    </thing>
  <thing id="rcPUaClim2" name="Climb" description="The aegis gains a climb speed equal to 1/2 of his base land speed." compset="RaceCustom" uniqueness="useronce">
    <usesource source="pPsiUn"/>
    <tag group="CustomCost" tag="2"/>
    <tag group="AllowRCust" tag="cfgPUTranB"/>
    <eval phase="Final" priority="14000"><![CDATA[
      ~ If we're not wearling the Astral Suit, get out now
      doneif (hero.tagcount[Custom.WearAstS] = 0)

      hero.child[xClimb].field[abValue].value = maximum(hero.child[xClimb].field[abValue].value, hero.child[Speed].field[tSpeed].value)]]></eval>
    </thing>
  <thing id="rcPUaDieh2" name="Diehard" description="When the aegis&apos;s hit point total is below 0, but he is not dead, he automatically stabilizes. He does not need to make a Constitution check each round to avoid losing additional hit points. He may choose to act as if disabled, rather than dying. He must make this decision as soon as he is reduced to negative hit points (even if it isn&apos;t his turn). If he does not choose to act as if disabled, he immediately falls unconscious. When under this effect, the aegis is staggered. He can take a move action without further injuring himself, but if he performs any standard action (or any other action deemed as strenuous, including some swift actions, such as manifesting a quickened power) he takes 1 point of damage after completing the act. If his negative hit points are equal to or greater than his Constitution score, he immediately dies." compset="RaceCustom" uniqueness="useronce">
    <usesource source="pPsiUn"/>
    <tag group="CustomCost" tag="3"/>
    <tag group="AllowRCust" tag="cfgPUTranB"/>
    </thing>
  <thing id="rcPuaEneI2" name="Energy Immunity" description="The aegis gains immunity to his active energy type as long as he is wearing his astral suit.{br}{br}The aegis must be at least 15th level before selecting this customization." compset="RaceCustom">
    <usesource source="pPsiUn"/>
    <tag group="CustomCost" tag="4"/>
    <tag group="AllowRCust" tag="cfgPUTranB"/>
    <tag group="fShowWhat" tag="Energy"/>
    <prereq message="Aegis level 15+ required.">
      <validate><![CDATA[
        var classcheck as string
        var levels as number
        classcheck = "Aegis"
        call PUPreReqs
        validif (levels >= 15)]]></validate>
      </prereq>
    </thing>
  <thing id="rcPUaEneR2" name="Energy Resistance" description="The aegis gains resist 5 against his active energy type. This resistance increases by 5 for every 5 levels the aegis possesses, to a maximum of 15 at 10th level. This customization can be selected multiple times. Each time beyond the first, the aegis selects an energy type (cold, electricity, fire, or sonic) to gain resistance to, in addition to his active energy type. If the aegis&apos;s active energy type is the same as one he has selected, the effects do not stack." compset="RaceCustom">
    <fieldval field="usrCandid1" value="component.SelectHelp &amp; Selection.Energy &amp; (BloodEner.Cold|BloodEner.Elec|BloodEner.Fire|BloodEner.Sonic)"/>
    <usesource source="pPsiUn"/>
    <tag group="AllowRCust" tag="cfgPUTranB"/>
    <tag group="SpecType" tag="Resist"/>
    <tag group="Helper" tag="SpecUp"/>
    <tag group="CustomCost" tag="1"/>
    <tag group="ChooseSrc1" tag="Thing"/>
    <eval phase="PostLevel" priority="1000"><![CDATA[
    ~ If we're not wearling the Astral Suit, get out now
    doneif (hero.tagcount[Custom.WearAstS] = 0)
    ~ if nothing's been selected, there's nothing we can do
    doneif (field[usrChosen1].ischosen = 0)

    var res as number
    res = round(#levelcount[Aegis]/5,0,-1)*5
    res = minimum(res,10)
    res += 5

    if (field[usrChosen1].chosen.tagis[BloodEner.Cold] <> 0) then
      #applyresist[xDamRsCold, res]
    elseif (field[usrChosen1].chosen.tagis[BloodEner.Elec] <> 0) then
      #applyresist[xDamRsElec, res]
    elseif (field[usrChosen1].chosen.tagis[BloodEner.Fire] <> 0) then
      #applyresist[xDamRsFire, res]
    elseif (field[usrChosen1].chosen.tagis[BloodEner.Sonic] <> 0) then
      #applyresist[xDamRsSoni, res]
      endif]]></eval>
    </thing>
  <thing id="rcPUaIEnR2" name="Energy Resistance, Improved" description="The energy resistance gained from the Energy Resistance customization doubles. The aegis must have the Energy Resistance customization and be at least 6th level to select this customization." compset="RaceCustom">
    <usesource source="pPsiUn"/>
    <tag group="CustomCost" tag="2"/>
    <tag group="AllowRCust" tag="cfgPUTranB"/>
    <eval phase="PostLevel" priority="950"><![CDATA[
      ~ If we're not wearling the Astral Suit, get out now
      doneif (hero.tagcount[Custom.WearAstS] = 0)

      var val as number
      val = hero.child[rcPUaEneR2].field[abValue].value
      hero.child[rcPUaEneR2].field[abValue].value += val]]></eval>
    <exprreq message="Energy Resistence cstomization required."><![CDATA[#hasability[rcPUaEneR2] <> 0]]></exprreq>
    <prereq message="Aegis level 6+ required.">
      <validate><![CDATA[
        var classcheck as string
        var levels as number
        classcheck = "Aegis"
        call PUPreReqs
        validif (levels >= 6)]]></validate>
      </prereq>
    </thing>
  <thing id="rcPUaEvad2" name="Evasion" description="As long as the aegis is wearing the astral suit, if the aegis is subjected to an attack that normally allows a Reflex save for half damage, he takes no damage if he makes a successful saving throw. The aegis must be at least 2nd level before selecting this customization." compset="RaceCustom" uniqueness="useronce">
    <usesource source="pPsiUn"/>
    <tag group="CustomCost" tag="1"/>
    <tag group="AllowRCust" tag="cfgPUTranB"/>
    <tag group="SpecType" tag="Defense"/>
    <tag group="Helper" tag="SpecUp"/>
    <bootstrap thing="cEvasion">
      <containerreq phase="First" priority="500"><![CDATA[count:hero#Custom.WearAstS <> 0]]></containerreq>
      </bootstrap>
    <prereq message="Aegis level 2+">
      <validate><![CDATA[
        var classcheck as string
        var levels as number
        classcheck = "Aegis"
        call PUPreReqs
        validif (levels >= 2)]]></validate>
      </prereq>
    </thing>
  <thing id="rcPUaExAr2" name="Extra Arms" description="The extra arms on the aegis&apos;s astral suit gain improved functionality. The aegis gains a +2 circumstance bonus to Climb checks and CMD against grapple attempts for each extra arm that is not holding anything. In addition, one of the arms can wield and use a light or one-handed weapon, a shield, or any other item that can be used with one hand. Attacks made with this additional arm suffer a -2 penalty to attack rolls in addition to any penalties for using two weapons.{br}{br}These extra arms do not grant any additional attacks, only alternate arms with which to make the standard attacks. The aegis must be at least 5th level and have the Lesser Extra Arms customization before selecting this customization." compset="RaceCustom" uniqueness="useronce">
    <usesource source="pPsiUn"/>
    <tag group="CustomCost" tag="2"/>
    <tag group="AllowRCust" tag="cfgPUTranB"/>
    <exprreq message="Extra Arms, Lesser customization required."><![CDATA[#hasability[rcPUaEArL2] <> 0]]></exprreq>
    <prereq message="Aegis level 5+ required.">
      <validate><![CDATA[
        var classcheck as string
        var levels as number
        classcheck = "Aegis"
        call PUPreReqs
        validif (levels >= 5)]]></validate>
      </prereq>
    </thing>
  <thing id="rcPUaEArG2" name="Extra Arms, Greater" description="The extra arms on the aegis&apos;s astral suit function at nearly the same capacity as his normal arms. Each arm can now wield or use a light or one-handed weapon, shield, or any other item that he could normally use. Alternatively, the aegis can use one or both arms when wielding a two-handed weapon, possibly allowing him to wield a pair of two-handed weapons. The circumstance bonus on Climb checks and CMD against grapple attempts increases to +3 per extra arm that is not holding anything. The aegis must be 8th level and have the Extra Arms and Lesser Extra Arms customizations before selecting this customization." compset="RaceCustom" uniqueness="useronce">
    <usesource source="pPsiUn"/>
    <tag group="CustomCost" tag="3"/>
    <tag group="AllowRCust" tag="cfgPUTranB"/>
    <exprreq message="Extra Arms, Lesser customization required."><![CDATA[#hasability[rcPUaEArL2] <> 0]]></exprreq>
    <exprreq message="Extra Arms customization required."><![CDATA[#hasability[rcPUaExAr2] <> 0]]></exprreq>
    <prereq message="Aegis level 8+ required.">
      <validate><![CDATA[
        var classcheck as string
        var levels as number
        classcheck = "Aegis"
        call PUPreReqs
        validif (levels >= 8)]]></validate>
      </prereq>
    </thing>
  <thing id="rcPUaEArL2" name="Extra Arms, Lesser" description="The aegis&apos;s astral suit has an extra pair of arms with limited function. Each arm can hold, but not use, any one item that can normally be held in one hand. Items held in this way count toward the aegis&apos;s carrying capacity. The aegis can retrieve any item held by his extra arms as a swift action. The aegis does not gain any mechanical benefit from items held by these arms, such as a shield bonus to armor class." compset="RaceCustom" uniqueness="useronce">
    <usesource source="pPsiUn"/>
    <tag group="CustomCost" tag="1"/>
    <tag group="AllowRCust" tag="cfgPUTranB"/>
    </thing>
  <thing id="rcPUaFlig2" name="Flight" description="The aegis uses psychokinetic energy to gain a fly speed equal to its base speed. The aegis&apos;s maneuverability depends on his size. Medium or smaller aegii have good maneuverability. Large aegii have average maneuverability, while Huge aegii have poor maneuverability. For 2 additional customization points, the aegis&apos;s maneuverability increases to perfect. The aegis&apos;s fly speed can be increased by spending additional customization points, gaining a 20-foot increase to fly speed for each additional point spent. The aegis must be at least 5th level before selecting this customization." compset="RaceCustom" uniqueness="useronce">
    <usesource source="pPsiUn"/>
    <tag group="CustomCost" tag="2"/>
    <tag group="AllowRCust" tag="cfgPUTranB"/>
    <eval phase="Final" priority="14000"><![CDATA[
      ~ If we're not wearling the Astral Suit, get out now
      doneif (hero.tagcount[Custom.WearAstS] = 0)

      #applybonus[abValue,hero.child[xFly],hero.child[Speed].field[tSpeed].value]

      if (hero.tagis[Size.Small] <> 0) then
         perform hero.child[xFly].assign[Maneuver.Good]
      elseif (hero.tagis[Size.Medium] <> 0) then
         perform hero.child[xFly].assign[Maneuver.Good]
      elseif (hero.tagis[Size.Large] <> 0) then
         perform hero.child[xFly].assign[Maneuver.Average]
      elseif (hero.tagis[Size.Huge] <> 0) then
         perform hero.child[xFly].assign[Maneuver.Poor]
      endif]]></eval>
    <prereq message="Aegis level 5+ required.">
      <validate><![CDATA[
        var classcheck as string
        var levels as number
        classcheck = "Aegis"
        call PUPreReqs
        validif (levels >= 5)]]></validate>
      </prereq>
    </thing>
  <thing id="rcPUaFort2" name="Fortification" description="The aegis gains 25% chance to negate critical hits or sneak attacks (so damage is rolled normally instead). This does not stack with armor with the same special ability. This ability can be selected again starting at 8th level and at 12th level, increasing the chance to negate critical hits or sneak attacks by an additional 25% for every additional time it is taken." compset="RaceCustom">
    <usesource source="pPsiUn"/>
    <tag group="CustomCost" tag="2"/>
    <tag group="AllowRCust" tag="cfgPUTranB"/>
    <eval phase="PostLevel" priority="5000"><![CDATA[
      ~ If we're not wearling the Astral Suit, get out now
      doneif (hero.tagcount[Custom.WearAstS] = 0)

      var crit as number

      crit = 25 * hero.tagcount[Ability.rcPUaFort2]

      #applyfort[crit]

      ~ step through each armor equipped and add the fortification
      ~foreach pick in hero from BaseArmor where "fieldval:gIsEquip = 1"
      ~  #applyfort[crit]
      ~nexteach]]></eval>
    <prereq message="">
      <validate><![CDATA[
        var classcheck as string
        var levels as number
        classcheck = "Aegis"
        call PUPreReqs

        var allowed as number
        if (levels <= 7 ) then
          allowed = 1
        elseif (levels <= 11) then
          allowed = 2
        else
          allowed = 3
        endif

        ~ if we're a pick, then there must be complevel/5 or fewer copies of
        ~ this ability
        if (@ispick <> 0) then
          validif (tagcount[HasAbility.rcPUaFort2] <= allowed)
        ~ otherwise, look for fewer, since we're adding this
        else
          validif (tagcount[HasAbility.rcPUaFort2] < allowed)
        endif
        @message = "You may not have more than " & allowed & " copies of this ability."]]></validate>
      </prereq>
    </thing>
  <thing id="rcPUaFrig2" name="Frightful Presence" description="The aegis makes his astral suit unsettling to his foes, gaining the frightful presence ability. The aegis can activate this ability as part of an offensive action, such as a charge or attack. Opponents within 30 feet of the aegis must make a Will save or become shaken for 3d6 rounds. The DC of this save is equal to 10 + 1/2 the aegis&apos;s class level + the aegis&apos;s Charisma modifier. If the aegis has at least 4 more Hit Dice than an opponent, that opponent becomes frightened instead. Foes with more HD than the aegis are immune to this effect. The aegis must be at least 11th level before selecting this customization." compset="RaceCustom" uniqueness="useronce">
    <usesource source="pPsiUn"/>
    <tag group="CustomCost" tag="3"/>
    <tag group="AllowRCust" tag="cfgPUTranB"/>
    <tag group="StandardDC" tag="aCHA"/>
    <eval phase="PostLevel" priority="1000">field[abDC].value += round(#levelcount[Aegis]/2,0,-1)</eval>
    <prereq message="Aegis level 11+ required.">
      <validate><![CDATA[
        var classcheck as string
        var levels as number
        classcheck = "Aegis"
        call PUPreReqs
        validif (levels >= 11)]]></validate>
      </prereq>
    </thing>
  <thing id="rcPUaHarS2" name="Hardened Strikes" description="The aegis is considered to be armed even when unarmed, does not provoke attacks of opportunity when making unarmed strikes, and his unarmed strikes deal lethal damage. In addition, the aegis&apos;s unarmed strikes can deal slashing or piercing damage, chosen at the time the customization is selected, instead of bludgeoning damage." compset="RaceCustom" uniqueness="useronce">
    <arrayval field="usrArray" index="0" value="Slashing"/>
    <arrayval field="usrArray" index="1" value="Piercing"/>
    <usesource source="pPsiUn"/>
    <tag group="AllowRCust" tag="cfgPUTranB"/>
    <tag group="CustomCost" tag="2"/>
    <eval phase="First" priority="1000"><![CDATA[
      ~ If we're not wearing the Astral Suit, get out now
      doneif (hero.tagcount[Custom.WearAstS] = 0)

      perform hero.childfound[wUnarmed].setfocus
      doneif (state.isfocus = 0)

      ~ Unarmed strikes do lethal damage
      perform focus.delete[wSpecial.Nonlethal]

      ~ Remove bludgeoning damage type
      perform focus.delete[wType.?]

      ~ Slashing
      if (field[usrIndex].value = 0) then
        perform focus.assign[wType.S]

      ~..Piercing
      elseif (field[usrIndex].value = 1) then
        perform focus.assign[wType.P]
      endif]]></eval>
    </thing>
  <thing id="rcPUaHard2" name="Hardy" description="The aegis gains a +2 enhancement bonus to Constitution while he is wearing his astral suit. This customization can be selected a second time beginning at 5th level, and a third time starting at 10th level. Each subsequent time it is taken, the enhancement bonus to Constitution is increased by +2." compset="RaceCustom">
    <usesource source="pPsiUn"/>
    <tag group="CustomCost" tag="2"/>
    <tag group="AllowRCust" tag="cfgPUTranB"/>
    <eval phase="PostLevel"><![CDATA[~ If we're not wearling the Astral Suit, get out now
doneif (hero.tagcount[Custom.WearAstS] = 0)

var Taken as number
Taken = hero.tagcount[Ability.rcPUaHard2] * 2

#enhancementbonus[hero.child[aCON], Taken]]]></eval>
    <prereq message="">
      <validate><![CDATA[var allowed as number
allowed = minimum(round(#levelcount[Aegis]/5,0,-1)+1,3)

~ if we're a pick, then there must be complevel/5 or fewer copies of
~ this ability
if (@ispick <> 0) then
  validif (tagcount[HasAbility.rcPUaHard2] <= allowed)

~ otherwise, look for fewer, since we're adding this
else
  validif (tagcount[HasAbility.rcPUaHard2] < allowed)
  endif

 @message = "You may not have more than " & allowed & " copies of this ability."]]></validate>
      </prereq>
    </thing>
  <thing id="rcPUaImDm2" name="Improved Damage" description="The aegis&apos;s melee attacks deal additional damage. If wielding a two-handed weapon, the aegis deals 3 additional points of damage on a successful hit. If wielding a one-handed weapon, the aegis deals 2 additional points of damage on a successful hit. If wielding a light weapon, the aegis deals 1 additional point of damage on a successful hit. If dual-wielding, each weapon is affected separately." compset="RaceCustom" uniqueness="useronce">
    <usesource source="pPsiUn"/>
    <tag group="CustomCost" tag="2"/>
    <tag group="AllowRCust" tag="cfgPUTranB"/>
    <eval phase="PreLevel" priority="5000"><![CDATA[~ If we're not wearing the Astral Suit, get out now
doneif (hero.tagcount[Custom.WearAstS] = 0)

foreach pick in hero from BaseWep where "fieldval:gIsEquip = 1|fieldval:wIs2nd = 1"
  if (eachpick.tagis[wClass.Light] <> 0) then
    eachpick.field[wDamMelee].value += 1
  elseif (eachpick.tagis[wClass.OneHanded] <> 0) then
    eachpick.field[wDamMelee].value += 2
  elseif (eachpick.tagis[wClass.TwoHanded] <> 0) then
    eachpick.field[wDamMelee].value += 3
  endif
nexteach]]></eval>
    </thing>
  <thing id="rcPUaIDaR2" name="Improved Damage Reduction" description="The aegis&apos;s damage reduction from his transformed body increases by 1. This customization can be taken once for every five levels the aegis possesses Its effects stack. The aegis must be at least 5th level before selecting this customization." compset="RaceCustom">
    <usesource source="pPsiUn"/>
    <tag group="CustomCost" tag="2"/>
    <tag group="AllowRCust" tag="cfgPUTranB"/>
    <eval phase="PostLevel" priority="1000"><![CDATA[
      ~ If we're not wearling the Astral Suit, get out now
      doneif (hero.tagcount[Custom.WearAstS] = 0)

      #value2[cPUAegDR] += 1]]></eval>
    <prereq message="">
      <validate><![CDATA[
        var classcheck as string
        var levels as number
        classcheck = "Aegis"
        call PUPreReqs
        validif (levels >= 5)

        var allowed as number
        allowed = round(levels/5,0,-1) + 1

        ~ if we're a pick, then there must be complevel/5 or fewer copies of
        ~ this ability
        if (@ispick <> 0) then
          validif (tagcount[HasAbility.rcPUaIDaR2] <= allowed)
        ~ otherwise, look for fewer, since we're adding this
        else
          validif (tagcount[HasAbility.rcPUaIDaR2] < allowed)
        endif
        @message = "You may not have more than " & allowed & " copies of this ability."]]></validate>
      </prereq>
    <prereq message="Aegis level 5+ required.">
      <validate><![CDATA[
        var classcheck as string
        var levels as number
        classcheck = "Aegis"
        call PUPreReqs
        validif (levels >= 5)]]></validate>
      </prereq>
    </thing>
  <thing id="rcPUaIEva2" name="Improved Evasion" description="As long as the aegis is wearing the astral suit, if the aegis is subjected to an attack that normally allows a Reflex save for half damage, he takes no damage if he makes a successful saving throw and only half damage if the saving throw fails. The aegis must be at least 12th level before selecting this customization." compset="RaceCustom" uniqueness="useronce">
    <usesource source="pPsiUn"/>
    <tag group="CustomCost" tag="4"/>
    <tag group="AllowRCust" tag="cfgPUTranB"/>
    <bootstrap thing="raImpEvas">
      <containerreq phase="First" priority="500"><![CDATA[count:hero#Custom.WearAstS <> 0]]></containerreq>
      </bootstrap>
    <prereq message="Aegis level 12+ required.">
      <validate><![CDATA[
        var classcheck as string
        var levels as number
        classcheck = "Aegis"
        call PUPreReqs
        validif (levels >= 12)]]></validate>
      </prereq>
    </thing>
  <thing id="rcPUaISta2" name="Improved Stalwart" description="As long as the aegis is wearing the astral suit, if the aegis is subjected to an attack that normally allows a Fortitude or Will save for a reduced or partial effect, he can expend his psionic focus as an immediate action to ignore the effect if he makes a successful saving throw and suffers the reduced effect if the saving throw fails. The aegis must be at least 16th level before selecting this customization." compset="RaceCustom" uniqueness="useronce">
    <usesource source="pPsiUn"/>
    <tag group="CustomCost" tag="4"/>
    <tag group="AllowRCust" tag="cfgPUTranB"/>
    <prereq message="Aegis level 16+ required.">
      <validate><![CDATA[
        var classcheck as string
        var levels as number
        classcheck = "Aegis"
        call PUPreReqs
        validif (levels >= 16)]]></validate>
      </prereq>
    </thing>
  <thing id="rcPUaIncS2" name="Increased Size" description="The transformed body grows in size and the aegis and all of his equipment is treated as one size category larger as if affected by {i}expansion{/i}. The aegis must be at least 9th level to select this customization." compset="RaceCustom" uniqueness="useronce">
    <usesource source="pPsiUn"/>
    <tag group="CustomCost" tag="2"/>
    <tag group="AllowRCust" tag="cfgPUTranB"/>
    <tag group="DescInfo" tag="puExpand1"/>
    <prereq message="Aegis level 9+ required.">
      <validate><![CDATA[
        var classcheck as string
        var levels as number
        classcheck = "Aegis"
        call PUPreReqs
        validif (levels >= 9)]]></validate>
      </prereq>
    </thing>
  <thing id="rcPUaIISi2" name="Increased Size, Improved" description="The astral suit grows in size and the aegis is treated as two size categories larger as if affected by an augmented {i}expansion{/i}. The aegis must be at least 15th level and have selected the increased size customization to select this customization. This customization does not stack with the increased size customization." compset="RaceCustom" uniqueness="useronce">
    <usesource source="pPsiUn"/>
    <tag group="CustomCost" tag="4"/>
    <tag group="AllowRCust" tag="cfgPUTranB"/>
    <exprreq message="Increased Size customization required."><![CDATA[#hasability[rcPUaIncS2] <> 0]]></exprreq>
    <prereq message="Aegis level 15+ required.">
      <validate><![CDATA[
        var classcheck as string
        var levels as number
        classcheck = "Aegis"
        call PUPreReqs
        validif (levels >= 15)]]></validate>
      </prereq>
    </thing>
  <thing id="rcPUaNimb2" name="Nimble" description="The aegis gains a +2 enhancement bonus to Dexterity while he is wearing his astral suit. This customization can be selected a second time beginning at 5th level, and a third time starting at 10th level. Each subsequent time it is taken, the enhancement bonus to Dexterity is increased by +2." compset="RaceCustom" uniqueness="unique">
    <usesource source="pPsiUn"/>
    <tag group="CustomCost" tag="2"/>
    <tag group="AllowRCust" tag="cfgPUTranB"/>
    <eval phase="PostLevel" priority="10000"><![CDATA[
        ~ If we're not enabled, get out now
        doneif (hero.tagcount[Custom.WearAstS] = 0)

        var Taken as number
        Taken = hero.tagcount[Ability.rcPUaNimb2] * 2

        #enhancementbonus[hero.child[aDEX], Taken]]]></eval>
    <prereq message="">
      <validate><![CDATA[
        var classcheck as string
        var levels as number
        classcheck = "Aegis"
        call PUPreReqs

        var allowed as number
        allowed = minimum(round(levels/5,0,-1)+1,3)

        ~ if we're a pick, then there must be complevel/5 or fewer copies of
        ~ this ability
        if (@ispick <> 0) then
          validif (tagcount[HasAbility.rcPUaNimb2] <= allowed)
        ~ otherwise, look for fewer, since we're adding this
        else
          validif (tagcount[HasAbility.rcPUaNimb2] < allowed)
        endif

       @message = "You may not have more than " & allowed & " copies of this ability."]]></validate>
      </prereq>
    </thing>
  <thing id="rcPUaPwR2" name="Power Resistance" description="The aegis gains power resistance 13. This customization may be selected up to 3 times. Each subsequent time increases the power resistance gained by 3. This ability can be selected again starting at 8th level and at 12th level, increasing the power resistance by 3 for every additional time it is taken." compset="RaceCustom">
    <usesource source="pPsiUn"/>
    <tag group="CustomCost" tag="2"/>
    <tag group="AllowRCust" tag="cfgPUTranB"/>
    <eval phase="PostLevel" priority="5000"><![CDATA[
      ~ If we're not wearling the Astral Suit, get out now
      doneif (hero.tagcount[Custom.WearAstS] = 0)

      var res as number

      res = 10 + (3 * hero.tagcount[Ability.rcPUaPwR2])

      #value[xPwrRes] = maximum(res,#value[xPwrRes])]]></eval>
    <prereq message="">
      <validate><![CDATA[
        var classcheck as string
        var levels as number
        classcheck = "Aegis"
        call PUPreReqs

        var allowed as number
        if (levels <= 7 ) then
          allowed = 1
        elseif (levels <= 11) then
          allowed = 2
        else
          allowed = 3
        endif

        ~ if we're a pick, then there must be complevel/5 or fewer copies of
        ~ this ability
        if (@ispick <> 0) then
          validif (tagcount[HasAbility.rcPUaPwR2] <= allowed)
        ~ otherwise, look for fewer, since we're adding this
        else
          validif (tagcount[HasAbility.rcPUaPwR2] < allowed)
        endif
        @message = "You may not have more than " & allowed & " copies of this ability."]]></validate>
      </prereq>
    </thing>
  <thing id="rcPUaPoBu2" name="Powerful Build" description="The aegis gains the powerful build trait while wearing his astral suit. Whenever the aegis is subject to a size modifier or special size modifier for a Combat Maneuver Bonus or Combat Maneuver Defense (such as during grapple checks, bull rush attempts, and trip attempts), the aegis is treated as one size larger if doing so is advantageous to him. The aegis is also considered to be one size larger when determining whether a creature&apos;s special attacks based on size (such as grab or swallow whole) can affect him. The aegis can use weapons designed for a creature one size larger without penalty. However, his space and reach remain those of a creature of his actual size. The benefits of this trait stack with the effects of powers, abilities, and spells that change the subject&apos;s size category." compset="RaceCustom">
    <usesource source="pPsiUn"/>
    <tag group="CustomCost" tag="2"/>
    <tag group="AllowRCust" tag="cfgPUTranB"/>
    <bootstrap thing="xPowBuild">
      <containerreq phase="First" priority="500"><![CDATA[count:hero#Custom.WearAstS <> 0]]></containerreq>
      </bootstrap>
    </thing>
  <thing id="rcPUaPull2" name="Pull" description="The aegis&apos;s astral suit envelopes his weapon and grants him the ability to pull creatures closer with a successful melee attack. Whenever the aegis makes a successful melee attack, he can attempt a free combat maneuver check. If successful, the target of the attack is pulled 5 feet closer to the aegis. This ability only works on creatures of a size equal to or smaller than the aegis.{br}{br}Creatures pulled in this way do not provoke attacks of opportunity. The aegis must have a reach of 10 feet or more to select this customization. If there is insufficient room for the target to move closer to the aegis, the attempt automatically fails." compset="RaceCustom" uniqueness="useronce">
    <usesource source="pPsiUn"/>
    <tag group="CustomCost" tag="1"/>
    <tag group="AllowRCust" tag="cfgPUTranB"/>
    </thing>
  <thing id="rcPUaPush2" name="Push" description="The aegis gains the ability to push creatures away with a successful attack. Whenever the aegis makes a successful melee attack, he can attempt a free combat maneuver check. If successful, the target of the attack is pushed 5 feet directly away from the aegis.{br}{br}This ability only works on creatures of a size equal to or smaller than the aegis. Creatures pushed in this way do not provoke attacks of opportunity. If there is insufficient room for the target to be pushed away, the attempt automatically fails." compset="RaceCustom" uniqueness="useronce">
    <usesource source="pPsiUn"/>
    <tag group="CustomCost" tag="1"/>
    <tag group="AllowRCust" tag="cfgPUTranB"/>
    </thing>
  <thing id="rcPUaQuiA2" name="Quickened Attacks" description="When the aegis makes a full attack, he gains one additional attack at his highest attack bonus.{br}{br}This customization does not stack with other sources of extra attacks, such as {i}haste{/i}. The aegis must be at least 10th level before selecting this customization." compset="RaceCustom" uniqueness="useronce">
    <usesource source="pPsiUn"/>
    <tag group="CustomCost" tag="3"/>
    <tag group="AllowRCust" tag="cfgPUTranB"/>
    <eval phase="PostLevel" priority="10000"><![CDATA[
      ~ If we're not enabled, get out now
      doneif (hero.tagcount[Custom.WearAstS] = 0)

      ~ Give weapons an extra attack
      foreach pick in hero from BaseWep where "!Helper.NatAttSpec & !wGroup.Natural"
        perform eachpick.assign[Helper.ExtraHigh]
      nexteach]]></eval>
    <prereq message="Aegis level 10+ required.">
      <validate><![CDATA[
        var classcheck as string
        var levels as number
        classcheck = "Aegis"
        call PUPreReqs
        validif (levels >= 10)]]></validate>
      </prereq>
    </thing>
  <thing id="rcPUaRam2" name="Ram" description="The astral suit forms a hardened shell over the aegis&apos;s head. If the aegis makes a bull rush or overrun attempt, he gains a +2 bonus to his CMB. Alternatively, he can make a single attack with this shell as part of a charge and deal 2d6 points of damage. This attack is treated as adamantine when used to attack an object.{br}{br}This customization can be taken once for every five levels the aegis possesses, each additional selection increasing the bonus to CMB by 1 and the damage on a charge by 1d6 points of damage. The aegis must be at least 5th level before selecting this customization." compset="RaceCustom" uniqueness="useronce">
    <usesource source="pPsiUn"/>
    <tag group="CustomCost" tag="2"/>
    <tag group="AllowRCust" tag="cfgPUTranB"/>
    <prereq message="Aegis level 5+ required.">
      <validate><![CDATA[
        var classcheck as string
        var levels as number
        classcheck = "Aegis"
        call PUPreReqs
        validif (levels >= 5)]]></validate>
      </prereq>
    </thing>
  <thing id="rcPUaReac2" name="Reach" description="The aegis&apos;s reach increases by 5 feet. The aegis must be at least 7th level before selecting this customization." compset="RaceCustom" uniqueness="useronce">
    <usesource source="pPsiUn"/>
    <tag group="CustomCost" tag="3"/>
    <tag group="AllowRCust" tag="cfgPUTranB"/>
    <prereq message="Aegis level 7+ required.">
      <validate><![CDATA[
        var classcheck as string
        var levels as number
        classcheck = "Aegis"
        call PUPreReqs
        validif (levels >= 7)]]></validate>
      </prereq>
    </thing>
  <thing id="rcPUaSpd2" name="Speed" description="The aegis&apos;s base land speed is increased by 5 feet. This customization can be selected up to five times.{br}{br}Its effects stack." compset="RaceCustom">
    <usesource source="pPsiUn"/>
    <tag group="CustomCost" tag="1"/>
    <tag group="SpecType" tag="Movement"/>
    <tag group="AllowRCust" tag="cfgPUTranB"/>
    <eval phase="PostLevel" priority="10000"><![CDATA[
      ~ see if a quickfind has been created by another copy of this ability
      perform quickfind.setfocus

      ~ if we didn't find a redirction, we're the first copy of this ability to run this script, so we'll make ourselves the FirstCopy.
      if (state.isfocus = 0) then
        perform quickadd
        perform assign[Helper.FirstCopy]
        ~ add +1 to our value
        field[abValue].value += 1

      ~ otherwise, redirct hero.child[] to the FirstCopy, and make us an upgrade
      else
        perform focus.redirect
        perform assign[Helper.SpecUp]
        ~ add +10 to the focus's value
        focus.field[abValue].value += 1
        endif]]></eval>
    <eval phase="Render" index="2"><![CDATA[
      if (field[abValue].value > 1) then
        field[livename].text = field[thingname].text & " (" & field[abValue].value & ")"
        endif]]></eval>
    <eval phase="PostLevel" priority="10001" index="3"><![CDATA[~ If we're not enabled, get out now
doneif (hero.tagcount[Custom.WearAstS] = 0)

~ Bonus to Dexterity
hero.child[Speed].field[tSpeed].value += (field[abValue].value * 5)]]></eval>
    <prereq message="">
      <validate><![CDATA[if (@ispick <> 0) then
  validif (tagcount[HasAbility.rcPUaSpd2] <= 5)

~ otherwise, look for fewer, since we're adding this
else
  validif (tagcount[HasAbility.rcPUaSpd2] < 5)
  endif

 @message = "You may not have more than 5 copies of this ability."]]></validate>
      </prereq>
    </thing>
  <thing id="rcPUaSpiC2" name="Spiked Carapace" description="The astral suit is covered in sharp spikes as if equipped with armor spikes." compset="RaceCustom" uniqueness="useronce">
    <usesource source="pPsiUn"/>
    <tag group="CustomCost" tag="1"/>
    <tag group="AllowRCust" tag="cfgPUTranB"/>
    </thing>
  <thing id="rcPUaStal2" name="Stalwart" description="As long as the aegis is wearing the astral suit, if the aegis is subjected to an attack that normally allows a Fortitude or Will save for a reduced or partial effect, he ignores the effect if he makes a successful saving throw.{br}{br}The aegis must be at least 2nd level before selecting this customization." compset="RaceCustom" uniqueness="useronce">
    <usesource source="pPsiUn"/>
    <tag group="CustomCost" tag="1"/>
    <tag group="AllowRCust" tag="cfgPUTranB"/>
    <prereq message="Aegis level 2+ required.">
      <validate><![CDATA[
        var classcheck as string
        var levels as number
        classcheck = "Aegis"
        call PUPreReqs
        validif (levels >= 2)]]></validate>
      </prereq>
    </thing>
  <thing id="rcPUaSwim2" name="Swim" description="The aegis gains a swim speed equal to his base speed." compset="RaceCustom">
    <usesource source="pPsiUn"/>
    <tag group="CustomCost" tag="1"/>
    <tag group="AllowRCust" tag="cfgPUTranB"/>
    <eval phase="Final" priority="14000"><![CDATA[~ If we're not wearling the Astral Suit, get out now
doneif (hero.tagcount[Custom.WearAstS] = 0)

hero.child[xSwim].field[abValue].value = maximum(hero.child[xSwim].field[abValue].value, hero.child[Speed].field[tSpeed].value)]]></eval>
    </thing>
  <thing id="rcPUaTrem2" name="Tremorsense" description="The aegis gains tremorsense out to a range of 30 feet. This allows the aegis to pinpoint the location of creatures that it cannot see without having to make a Perception check as long as the creature and the aegis are in contact with the ground, but such creatures still have total concealment from the aegis. Visibility still affects the aegis&apos;s movement and he is still denied his Dexterity bonus to Armor Class against attacks from creatures he cannot see. The aegis must be at least 7th level before selecting this customization." compset="RaceCustom" uniqueness="useronce">
    <usesource source="pPsiUn"/>
    <tag group="CustomCost" tag="2"/>
    <tag group="AllowRCust" tag="cfgPUTranB"/>
    <tag group="Helper" tag="SpecUp"/>
    <bootstrap thing="xTremorsen">
      <containerreq phase="First" priority="500"><![CDATA[count:hero#Custom.WearAstS <> 0]]></containerreq>
      <assignval field="abValue" value="30"/>
      </bootstrap>
    <prereq message="Aegis level 7+ required.">
      <validate><![CDATA[
        var classcheck as string
        var levels as number
        classcheck = "Aegis"
        call PUPreReqs
        validif (levels >= 7)]]></validate>
      </prereq>
    </thing>
  <thing id="rcPUaUndB2" name="Underwater Breath" description="The aegis can safely breathe underwater as long as he is wearing his astral suit." compset="RaceCustom" uniqueness="useronce">
    <usesource source="pPsiUn"/>
    <tag group="CustomCost" tag="1"/>
    <tag group="AllowRCust" tag="cfgPUTranB"/>
    </thing>
  <thing id="rcPUaDisjo" name="Disjointed" description="The aberrant gains a +2 bonus on Escape Artist checks." compset="RaceCustom" uniqueness="useronce">
    <usesource source="pPsiUn"/>
    <tag group="CustomCost" tag="1"/>
    <tag group="AllowRCust" tag="cfgPUTranB"/>
    <eval phase="PreLevel" priority="1000"><![CDATA[~ If we're not wearing the Astral Suit, get out now
doneif (hero.tagcount[Custom.WearAstS] = 0)

#skillbonus[skEscape] += 2]]></eval>
    </thing>
  <thing id="rcPUaEyest" name="Eyestalks" description="The aberrant&apos;s eyes extend out on a pair of stacks, giving a +2 bonus on Perception checks and low-light vision. The aberrant is also capable of looking around corners while still maintaining cover." compset="RaceCustom" uniqueness="useronce">
    <usesource source="pPsiUn"/>
    <tag group="CustomCost" tag="1"/>
    <tag group="AllowRCust" tag="cfgPUTranB"/>
    <bootstrap thing="raLowLight">
      <containerreq phase="First" priority="500"><![CDATA[count:hero#Custom.WearAstS  <> 0]]></containerreq>
      </bootstrap>
    <eval phase="PreLevel" priority="1000"><![CDATA[~ If we're not wearling the Astral Suit, get out now
doneif (hero.tagcount[Custom.WearAstS] = 0)

#skillbonus[skPercep] += 2]]></eval>
    </thing>
  <thing id="rcPUaSting" name="Stinger" description="The aberrant gains a stinger that resembles a scorpion&apos;s as a secondary natural attack that deals 1d4 points of piercing damage." compset="RaceCustom" uniqueness="useronce">
    <usesource source="pPsiUn"/>
    <tag group="CustomCost" tag="1"/>
    <tag group="AllowRCust" tag="cfgPUTranB"/>
    <bootstrap thing="wSting">
      <autotag group="wMain" tag="1d4_4"/>
      <autotag group="Helper" tag="NatSecond"/>
      </bootstrap>
    </thing>
  <thing id="rcPUaTearS" name="Tearing Sting" description="When the aberrant makes a successful attack with his stinger, it rips the flesh of the target, causing the target to bleed, taking 1 point of damage each round. The aberrant must have the stinger customization before selecting this customization." compset="RaceCustom" uniqueness="useronce">
    <usesource source="pPsiUn"/>
    <tag group="CustomCost" tag="1"/>
    <tag group="AllowRCust" tag="cfgPUTranB"/>
    <eval phase="PreLevel" priority="1000">#skillbonus[skPercep] += 2</eval>
    <exprreq message="Stinger customization required."><![CDATA[#hasability[rcPUaSting] <> 0]]></exprreq>
    </thing>
  <thing id="rcPUaTenta" name="Tentacle" description="The aberrant grows a tentacle and gains a secondary natural attack with the tentacle that deals 1d4 points of damage. The aberrant also gains the grab ability and gets a +2 bonus to grab for every tentacle beyond the first he has. This customization can be selected up to 4 times; its benefits stack." compset="RaceCustom" maxlimit="4">
    <usesource source="pPsiUn"/>
    <tag group="CustomCost" tag="1"/>
    <tag group="AllowRCust" tag="cfgPUTranB"/>
    <bootstrap thing="wTentacle">
      <autotag group="wMain" tag="1d4_4"/>
      <autotag group="Helper" tag="NatSecond"/>
      </bootstrap>
    <bootstrap thing="raGrab"></bootstrap>
    <prereq message="">
      <validate><![CDATA[if (@ispick <> 0) then
  validif (tagcount[HasAbility.rcPUaTenta] <= 4)

~ otherwise, look for fewer, since we're adding this
else
  validif (tagcount[HasAbility.rcPUaTenta] < 4)
  endif

 @message = "You may not have more than 4 copies of this ability."]]></validate>
      </prereq>
    </thing>
  <thing id="rcPUaObese" name="Obese" description="The aberrant&apos;s base movement is reduced as if wearing heavy armor (for example, 30 ft. becomes 15 ft), but the aberrant gains extra hit points equal to his aberrant level and the aberrant&apos;s damage reduction gained from his transformed body improves by 1." compset="RaceCustom" uniqueness="useronce">
    <usesource source="pPsiUn"/>
    <tag group="CustomCost" tag="2"/>
    <tag group="AllowRCust" tag="cfgPUTranB"/>
    <eval phase="PostLevel" priority="10000">perform hero.assign[Hero.ArmorSpeed]

~HP Bonus for Aegis levels
var efflevel as number
efflevel = #levelcount[Aegis]
hero.child[Totals].field[tBonusHP].value += efflevel</eval>
    </thing>
  <thing id="rcPUaPoiso" name="Poison" description="The aberrants stinger attacks deal 1 point of Strength damage (Fortitude negates, DC 10 + 1/2 the aberrants level + the aberrants Charisma modifier) on a successful attack. The aberrant must have the stinger customization before selecting this customization." compset="RaceCustom" uniqueness="useronce">
    <usesource source="pPsiUn"/>
    <tag group="CustomCost" tag="2"/>
    <tag group="AllowRCust" tag="cfgPUTranB"/>
    <eval phase="PreLevel" priority="1000">#skillbonus[skPercep] += 2</eval>
    <exprreq message="Stinger customization required."><![CDATA[#hasability[rcPUaSting] <> 0]]></exprreq>
    </thing>
  <thing id="rcPUaINatA" name="Improved Natural Armor" description="The aberrant&apos;s natural armor bonus increases by 1. This customization can be taken once for every five levels the aberrant possesses.{br}{br}The aberrant must be at least 5th level before selecting this customization." compset="RaceCustom">
    <usesource source="pPsiUn" parent="pDscar" name="Ultimate Psionics v2.4"/>
    <tag group="CustomCost" tag="2" name="2" abbrev="2"/>
    <tag group="AllowRCust" tag="cfgPUTranB" name="Transformed Body" abbrev="Transformed Body"/>
    <eval phase="PostLevel" priority="10000">~apply a natural armor bonus
hero.child[ArmorClass].field[tACNatural].value += 1</eval>
    <prereq message="">
      <validate><![CDATA[var allowed as number
allowed = round(herofield[tHitDice].value/5,0,-1) + 1

~if we're a pick, then there must be complevel/5 or fewer copies of
~ this ability
if (@ispick <> 0) then
  validif (hero.tagcount[HasAbility.rcPUaINatA] <= allowed)

~otherwise, look for fewer, since we're adding this
else
  validif (hero.tagcount[HasAbility.rcPUaINatA] < allowed)
  endif

@message = "You may not have more than " & allowed & " copies of this ability."]]></validate>
      </prereq>
    </thing>
  <thing id="cPUInsFasS" name="Fast Stealth" description="This ability allows a crptic to move at full speed using the Stealth skill without penalty." compset="CustomSpec" summary="You may move at full speed while using the Stealth skill without penalty." uniqueness="unique">
    <usesource source="pPsiUn"/>
    <tag group="SpecSource" tag="cHelpPU1"/>
    <tag group="AbilType" tag="Extra" name="Extraordinary Ability" abbrev=" (Ex)"/>
    </thing>
  <thing id="rcPUaSpike" name="Spikes" description="The aberrant gains the ability to loose a volley of two spikes as a standard action (make an attack roll for each spike). This attack has a range of 180 feet with no range increment and deals 1d6 points of damage plus the aberrant&apos;s Strength modifier (if the aberrant is Medium sized; adjust the damage accordingly if the aberrant is a size other than Medium). All targets must be within 30 feet of each other. The aberrant can launch only 24 spikes in any 24-hour period." compset="RaceCustom" uniqueness="useronce">
    <usesource source="pPsiUn"/>
    <tag group="CustomCost" tag="2"/>
    <tag group="AllowRCust" tag="cfgPUTranB"/>
    </thing>
  <thing id="rcPUaTearF" name="Tear Flesh" description="When the aberrant has successfully grabbed a creature with its tentacles, he deals 1d6 damage per attached tentacle when target breaks free, The aberrant must have the tentacles customization before selecting this customization." compset="RaceCustom" uniqueness="useronce">
    <usesource source="pPsiUn"/>
    <tag group="CustomCost" tag="2"/>
    <tag group="AllowRCust" tag="cfgPUTranB"/>
    <eval phase="PreLevel" priority="1000">#skillbonus[skPercep] += 2</eval>
    <exprreq message="Tentacle customization required."><![CDATA[#hasability[rcPUaTenta] <> 0]]></exprreq>
    </thing>
  <thing id="rcPUaToxic" name="Toxic" description="A number of times per day equal to the aberrant&apos;s Constitution modifier (minimum 1/day), the aberrant can envenom a weapon that he wields or one natural attack with toxic saliva. Applying venom in this way is a swift action and the aberrant is immune to this poison.{br}{br}{b}Aberrant Saliva:{/b} Injury; save Fort DC 10 + 1/2 aberrant level + the aberrant&apos;s Constitution modifier; frequency 1/ round for 6 rounds; effect 1d2 Dex; cure 1 save." compset="RaceCustom" uniqueness="useronce">
    <usesource source="pPsiUn"/>
    <tag group="CustomCost" tag="3"/>
    <tag group="AllowRCust" tag="cfgPUTranB"/>
    <tag group="Usage" tag="Day"/>
    <tag group="ChargeCalc" tag="AttrOnly"/>
    <tag group="ChargeCalc" tag="Minimum1"/>
    <tag group="ChargeAttr" tag="aCON"/>
    </thing>
  <thing id="rcPUaProSh" name="Protective Shell" description="The aberrant gains the ability to form a protective shell around his entire body, but loses his ability to move while it is active. As a full-round action, the aberrant gains heavy fortification and doubles his damage reduction from transformed body, but he cannot make attacks of opportunity. The aberrant must be at least 12th level before selecting this customization." compset="RaceCustom" uniqueness="useronce">
    <usesource source="pPsiUn"/>
    <tag group="CustomCost" tag="4"/>
    <tag group="AllowRCust" tag="cfgPUTranB"/>
    <tag group="User" tag="Activation"/>
    <prereq message="Aegis level 12+ required.">
      <validate><![CDATA[
        var classcheck as string
        var levels as number
        classcheck = "Aegis"
        call PUPreReqs
        validif (levels >= 12)]]></validate>
      </prereq>
    </thing>
  <thing id="arPUCryWar" name="Crystal Warrior" description="Some aegii have learned to form a psicrystal and shape their astral suit around the small creature, creating a sentient suit of armor that grants them many benefits at the cost of some flexibility." compset="ClassVary" uniqueness="unique">
    <fieldval field="srcPageNum" value="262"/>
    <fieldval field="srcBookInf" value="Ultimate Psionics"/>
    <usesource source="pPsiUn"/>
    <tag group="AbReplace" tag="cPUInvigSu"/>
    <tag group="AbReplace" tag="cPUCanniSu"/>
    <tag group="ClVaryName" tag="AppParen"/>
    <tag group="AbReplace" tag="cPUAstrRep"/>
    <tag group="ProductId" tag="HLCommunit"/>
    <bootstrap thing="cPUEneBlst">
      <autotag group="ClSpecWhen" tag="4"/>
      </bootstrap>
    <bootstrap thing="cPUPsCShot">
      <autotag group="ClSpecWhen" tag="7"/>
      </bootstrap>
    <bootstrap thing="cPUTacSuit">
      <autotag group="ClSpecWhen" tag="12"/>
      </bootstrap>
    <bootstrap thing="cPUTacSuit">
      <autotag group="ClSpecWhen" tag="14"/>
      </bootstrap>
    <bootstrap thing="cPUTacSuit">
      <autotag group="ClSpecWhen" tag="16"/>
      </bootstrap>
    <bootstrap thing="cPUTacSuit">
      <autotag group="ClSpecWhen" tag="18"/>
      </bootstrap>
    <bootstrap thing="cPUTacSuit">
      <autotag group="ClSpecWhen" tag="20"/>
      </bootstrap>
    <bootstrap thing="cPUPsiAff">
      <autotag group="ClSpecWhen" tag="1"/>
      </bootstrap>
    <bootstrap thing="cPUMissive">
      <autotag group="ClSpecWhen" tag="1"/>
      </bootstrap>
    <bootstrap thing="cPUPsicryC">
      <autotag group="ClSpecWhen" tag="3"/>
      </bootstrap>
    <link linkage="varies" thing="cHelpPU0"/>
    <eval phase="Final" priority="9999"><![CDATA[#appenddesc[cPUAstSuit,"{b}Modification from Crystal Warrior{/b}: To gain the benefits of some of the additional class features detailed below, the aegis's psicrystal must be physically touching the aegis when the aegis forms his astral suit, and the psicrystal is consumed by the astral suit while the astral suit is active.{br}{br}When the psicrystal is consumed in this fashion, it still grants all the normal benefits for being within 5 ft. of the aegis (Alertness, etc), but the aegis does not gain any of the psicrystal's special abilities (natural armor, hardness, etc.) The aegis may still form his astral suit normally, but he loses those abilities detailed below that rely upon the psicrystal being consumed by the astral suit.{br}{br}In addition, the aegis gains the ranged attack customization as a bonus customization."]

hero.childfound[cPUPerfMer].field[CustDesc].text = "An aegis of 20th level has learned to become one with his suit. His suit cannot be dispelled or removed against his will by any means, although his astral suit ability still does not function within areas where psionics do not work, such as a null psionics field.{br}{br}In addition, the aegis can spend two daily uses of his reconfigure ability, to alter all of the customizations on his astral suit."]]></eval>
    <eval phase="PreLevel" priority="100000" index="2"><![CDATA[~ Disable the 7th level Reconfigure only
perform hero.findchild[BaseClSpec,"thingid.cPUReconfi & SpecSource.cHelpPU0 & ClSpecWhen.7"].assign[Helper.SpcDisable]
perform hero.findchild[BaseClSpec,"thingid.cPUReconfi & SpecSource.cHelpPU0 & ClSpecWhen.7"].assign[Helper.SpcReplace]]]></eval>
    </thing>
  <thing id="cPUPsiAff" name="Psicrystal Affinity" description="The aegis gains the Psicrystal Affinity feat as a bonus feat at 1st level. For the purposes of his psicrystal&apos;s abilities and the feat&apos;s prerequisites, the aegis&apos;s class level counts as his manifester level. This ability replaces one of the customization points gained at 1st level." compset="ClSpecial">
    <fieldval field="actName" value="Psicrystal Subsumed"/>
    <usesource source="pPsiUn"/>
    <tag group="AbilType" tag="Super"/>
    <tag group="SpecType" tag="Defense"/>
    <tag group="Helper" tag="SpecUp"/>
    <tag group="User" tag="Activation"/>
    <tag group="Custom" tag="PcrySub" name="Psicrystal Subsumed"/>
    <bootstrap thing="fPUPsicry"></bootstrap>
    <bootstrap thing="rcPUaRngAt">
      <containerreq phase="First" priority="500"><![CDATA[(count:hero#Custom.PcrySub + count:hero#Custom.WearAstS = 2) & (count:Classes.Aegis >= 1)]]></containerreq>
      <autotag group="CustTaken" tag="cfgPUAstSu"/>
      </bootstrap>
    <eval phase="First" index="2">if (hero.child[cPUPsiAff].field[abilActive].value = 1) then
   perform forward[Custom.PcrySub]
endif</eval>
    <eval phase="PostLevel" priority="700"><![CDATA[doneif (tagis[Helper.SpcDisable] <> 0)
doneif (tagis[Helper.ShowSpec] <> 1)

hero.childfound[cPUAegHelp].field[abValue2].value -=1]]></eval>
    </thing>
  <thing id="cPUMissive" name="Missive" description="While the aegis&apos;s astral suit is active and his psicrystal is consumed by it, he gains the ability to use {i}missive{/i} as a psi-like ability with a manifester level equal to his class level. This ability replaces astral repair." compset="ClSpecial">
    <fieldval field="abValue" value="2"/>
    <usesource source="pPsiUn"/>
    <tag group="AbilType" tag="PsiLike"/>
    <bootstrap thing="puMissive0">
      <containerreq phase="First" priority="500">count:hero#Custom.PcrySub + count:hero#Custom.WearAstS = 2</containerreq>
      <autotag group="Helper" tag="PsiLike"/>
      </bootstrap>
    </thing>
  <thing id="cPUPsicryC" name="Psicrystal Containment" description="The aegis gains the Psicrystal Containment feat as a bonus feat at 3rd level. For the purposes of the feat&apos;s prerequisites, the aegis&apos;s class level counts as his manifester level. This ability replaces invigorating suit." compset="ClSpecial">
    <usesource source="pPsiUn"/>
    <tag group="AbilType" tag="Super"/>
    <tag group="SpecType" tag="Defense"/>
    <tag group="Helper" tag="SpecUp"/>
    <bootstrap thing="fPUPsicryC">
      <containerreq phase="First" priority="500"><![CDATA[count:Classes.Aegis >= 3]]></containerreq>
      <autotag group="thing" tag="skipprereq"/>
      </bootstrap>
    </thing>
  <thing id="cPUEneBlst" name="Energy Blast" description="Starting at 4th level, the aegis gains the energy blast customization when his psicrystal is consumed by the astral suit. This ability replaces one of the customization points normally gained at 4th level." compset="ClSpecial">
    <usesource source="pPsiUn"/>
    <tag group="AbilType" tag="PsiLike"/>
    <bootstrap thing="rcPUaEneBl">
      <containerreq phase="First" priority="500"><![CDATA[(count:hero#Custom.PcrySub + count:hero#Custom.WearAstS = 2) & (count:Classes.Aegis >= 4)]]></containerreq>
      <autotag group="CustTaken" tag="cfgPUAstSu"/>
      </bootstrap>
    <eval phase="PostLevel" priority="700"><![CDATA[doneif (tagis[Helper.SpcDisable] <> 0)
doneif (tagis[Helper.ShowSpec] <> 1)

hero.childfound[cPUAegHelp].field[abValue2].value -=1]]></eval>
    </thing>
  <thing id="rcPUaEmBl" name="Empowered Blast" description="The aegis can spend power points to increase the damage of his energy blast attack. Once per round, before making an attack using the energy blast customization, the aegis can spend up to his class level in power points as a free action, to gain +1d6 damage for every 1 power point spent. An attack that misses is wasted. The aegis must be at least 4th level and have the energy blast and ranged attack customizations before selecting this customization." compset="RaceCustom" uniqueness="useronce">
    <usesource source="pPsiUn"/>
    <tag group="Helper" tag="Secondary"/>
    <tag group="CustomCost" tag="1"/>
    <tag group="AllowRCust" tag="cfgPUAstSu"/>
    <tag group="SpecType" tag="Sense"/>
    <exprreq message="Energy Blast customization required."><![CDATA[#hasability[rcPUaEneBl] <> 0]]></exprreq>
    <exprreq message="Ranged Attack customization required."><![CDATA[#hasability[rcPUaRngAt] <> 0]]></exprreq>
    <prereq message="Aegis level 4+ required.">
      <validate><![CDATA[
        var classcheck as string
        var levels as number
        classcheck = "Aegis"
        call PUPreReqs
        validif (levels >= 4)]]></validate>
      </prereq>
    </thing>
  <thing id="rcPUaEneBl" name="Energy Blast" description="The ranged attack gained from the ranged attack customization becomes imbued with psionic energy. The attack is now treated as a ranged touch attack and instead deals 1d6 points of damage of your active energy type, but requires a standard action to use and cannot be used as part of a full attack. This effect can be turned on or off as a move action. The aegis must be at least 4th level and have the ranged attack customization before selecting this customization." compset="RaceCustom" uniqueness="useronce">
    <usesource source="pPsiUn"/>
    <tag group="Helper" tag="Secondary"/>
    <tag group="CustomCost" tag="2"/>
    <tag group="AllowRCust" tag="cfgPUAstSu"/>
    <prereq message="Aegis level 4+ required.">
      <validate><![CDATA[
        var classcheck as string
        var levels as number
        classcheck = "Aegis"
        call PUPreReqs
        validif (levels >= 4)]]></validate>
      </prereq>
    </thing>
  <thing id="rcPUaIRngA" name="Improved Ranged Attack" description="The damage of the aegis&apos;s ranged attack ability increases by an additional 1d8 points of piercing damage for every five class levels the aegis has. If the aegis is using the energy blast customization, the additional damage is instead 1d6 points of damage of your active energy type for every five class levels. The aegis must be at least 5th level and have the ranged attack customization before selecting this customization." compset="RaceCustom" uniqueness="useronce">
    <usesource source="pPsiUn"/>
    <tag group="Helper" tag="Secondary"/>
    <tag group="CustomCost" tag="2"/>
    <tag group="AllowRCust" tag="cfgPUAstSu"/>
    <exprreq message="Ranged Attack custoization required."><![CDATA[#hasability[rcPUaRngAt] <> 0]]></exprreq>
    <prereq message="Aegis level 5+ required.">
      <validate><![CDATA[
        var classcheck as string
        var levels as number
        classcheck = "Aegis"
        call PUPreReqs
        validif (levels >= 5)]]></validate>
      </prereq>
    </thing>
  <thing id="rcPUaIEnBl" name="Improved Energy Blast" description="When using the energy blast customization, the attack can target up to three creatures, no two of which can be more than fifteen feet apart. Each creature may only be the target of one such attack each round. Each attack is rolled separately. The aegis must be at least 12th level and have the energy blast and ranged attack customizations before selecting this customization." compset="RaceCustom" uniqueness="useronce">
    <usesource source="pPsiUn"/>
    <tag group="Helper" tag="Secondary"/>
    <tag group="CustomCost" tag="3"/>
    <tag group="AllowRCust" tag="cfgPUAstSu"/>
    <exprreq message="Energy Blast customization required."><![CDATA[#hasability[rcPUaEneBl] <> 0]]></exprreq>
    <exprreq message="Ranged Attack customization required."><![CDATA[#hasability[rcPUaRngAt] <> 0]]></exprreq>
    <prereq message="Aegis level 12+ required.">
      <validate><![CDATA[
        var classcheck as string
        var levels as number
        classcheck = "Aegis"
        call PUPreReqs
        validif (levels >= 12)]]></validate>
      </prereq>
    </thing>
  <thing id="cPUPsCShot" name="Psicrystal Shot" description="At 7th level, when the aegis&apos;s psicrystal is consumed by the astral suit, the psicrystal can use its own actions to aid the aegis in combat. The psicrystal can use the attack options from the ranged attack customization, including any customizations that improve the ranged attack, such as energy blast. Use the crystal warrior&apos;s base attack bonus, as calculated from all his classes, and the psicrystal&apos;s Dexterity modifier to calculate the psicrystal&apos;s attack bonus. Treat its Dexterity as if it was under the self-propulsion effect. This ability replaces the daily use of reconfigure normally gained at 7th level." compset="ClSpecial">
    <usesource source="pPsiUn"/>
    <tag group="SpecType" tag="Defense"/>
    </thing>
  <thing id="cPUTacSuit" name="Tactical Suit" description="Beginning at 12th level, once per day while his astral suit is active and the psicrystal is consumed by it, the aegis can expend his psionic focus to be treated as if under the {i}battlesense{/i} power, with a manifester level equal to half his class level. The power is manifested as if the aegis had spent a number of power points equal to the effect&apos;s manifester level. The aegis gains any benefits from the list of special abilities of {i}battlesense{/i} as if he was a member of the manifester&apos;s collective, but no other creatures gain the benefits of the power. The aegis can spend a standard action to alter the benefit of the power. Every two levels thereafter, the aegis can use this ability an additional time per day. This ability replaces cannibalize suit." compset="ClSpecial">
    <usesource source="pPsiUn"/>
    <tag group="SpecType" tag="Defense"/>
    <tag group="DescInfo" tag="puBattl3"/>
    <tag group="AbilType" tag="Super"/>
    <tag group="abAction" tag="PUExpFocus"/>
    <eval phase="Final" priority="10000"><![CDATA[~field abValue contains the # of times tracker for the first copy
~field abValue2 contains the bonus manifester level
~field abValue3 contains the bonus uses

var myLvl as number
var myUses as number

myLvl = round(#levelcount[Aegis]/2,0,-1) + field[abValue2].value

if (tagis[Helper.SpcDisable] <> 0) then
  field[abValue3].value -= 1
endif

myUses = field[xIndex].value + field[abValue3].value

if (tagis[Helper.ShowSpec] <> 0) then
  field[listname].text = "Tactical Suit (ML: " & myLvl & ") (" & myUses & "/day)"
endif

~These calculations should only happen for the first copy
doneif (tagis[Helper.FirstCopy] = 0)

~ If we're not shown, just get out now
doneif (tagis[Helper.ShowSpec] = 0)

field[abValue].value += field[abValue3].value
field[abValue].value += field[xCount].value
field[trkMax].value = field[abValue].value
field[livename].text = "Tactical Suit (ML: " & myLvl & ")(" & field[abValue].value & "/day)"]]></eval>
    </thing>
  <thing id="arPUEctArt" name="Ectopic Artisan" description="A shaper and an aegis both use ectoplasm to achieve their desired goals. The rare aegis has learned to blend the tools of the shaper into his own skills, but by doing so he reduces the power of his astral suit. These ectopic artisans gain allies formed of ectoplasm to aid them in battle.{br}{br}{b}Class Skills:{/b} The ectopic adept gains Disable Device as a class skill." compset="ClassVary" uniqueness="unique">
    <fieldval field="srcPageNum" value="263"/>
    <fieldval field="srcBookInf" value="Ultimate Psionics"/>
    <usesource source="pPsiUn"/>
    <tag group="AbReplace" tag="cPUAegDR"/>
    <tag group="AbReplace" tag="cPUReconfi"/>
    <tag group="AbReplace" tag="cPUCanniSu"/>
    <tag group="AbReplace" tag="cPUMastCr"/>
    <tag group="ClassSkill" tag="skDisable"/>
    <tag group="ClVaryName" tag="AppParen"/>
    <tag group="AbReplace" tag="cPUAstrRep"/>
    <tag group="ProductId" tag="HLCommunit"/>
    <bootstrap thing="cPUCoStrik">
      <autotag group="ClSpecWhen" tag="5"/>
      </bootstrap>
    <bootstrap thing="cPUAstSwar">
      <autotag group="ClSpecWhen" tag="12"/>
      </bootstrap>
    <bootstrap thing="cPUAstSwar">
      <autotag group="ClSpecWhen" tag="14"/>
      </bootstrap>
    <bootstrap thing="cPUAstSwar">
      <autotag group="ClSpecWhen" tag="16"/>
      </bootstrap>
    <bootstrap thing="cPUAstSwar">
      <autotag group="ClSpecWhen" tag="18"/>
      </bootstrap>
    <bootstrap thing="cPUAstSwar">
      <autotag group="ClSpecWhen" tag="20"/>
      </bootstrap>
    <bootstrap thing="cPEctopCre">
      <autotag group="ClSpecWhen" tag="2"/>
      </bootstrap>
    <bootstrap thing="cPUAstrMan">
      <autotag group="ClSpecWhen" tag="1"/>
      </bootstrap>
    <bootstrap thing="cPUAstWarr">
      <autotag group="ClSpecWhen" tag="3"/>
      </bootstrap>
    <link linkage="varies" thing="cHelpPU0"/>
    <eval phase="Final" priority="9999"><![CDATA[hero.childfound[cPUPerfMer].field[CustDesc].text = "An aegis of 20th level has learned to become one with his suit. His suit cannot be dispelled or removed against his will by any means, although his astral suit ability still does not function within areas where psionics do not work, such as a null psionics field.{br}{br}In addition, the aegis can spend two daily uses of his reconfigure ability, to alter all of the customizations on his astral suit."]]></eval>
    </thing>
  <thing id="cPUAstrMan" name="Astral Manipulation" description="The ectopic artisan can, with a touch, restore an object&apos;s hit points or cause damage. As a standard action, the ectopic artisan can touch an object and either deal 2 hit points of damage to the object or heal 2 hit points of damage, although broken objects cannot be repaired in this fashion. Damage dealt to objects is not subject to object hardness.{br}{br}This ability replaces {i}astral repair{/i}." compset="ClSpecial">
    <fieldval field="abValue" value="2"/>
    <usesource source="pPsiUn"/>
    <tag group="AbilType" tag="Super"/>
    <eval phase="Final" priority="1000"><![CDATA[field[abSumm].text = "Restore / Deal " & field[abValue].value & " HP damage to object touched."]]></eval>
    </thing>
  <thing id="cPEctopCre" name="Ectoplasmic Creation" description="An ectopic adept of 2nd level is able to shape ectoplasm for a myriad of uses, gaining the ability to manifest {i}ectoplasmic creation{/i} as a psi-like ability with a manifester level equal to half his class level a number of times per day equal to his Intelligence modifier.{br}{br}At 11th level, the ectopic adept can instead manifest {i}major ectoplasmic creation{/i} as a psi-like ability with a manifester level equal to his class level." compset="ClSpecial">
    <usesource source="pPsiUn"/>
    <tag group="SpecType" tag="Defense"/>
    <tag group="AbilType" tag="PsiLike"/>
    <bootstrap thing="puEctoCre1">
      <containerreq phase="First" priority="500"><![CDATA[(count:Classes.Aegis >= 2) & (count:Classes.Aegis < 11)]]></containerreq>
      <autotag group="Helper" tag="PsiLike"/>
      </bootstrap>
    <bootstrap thing="puEctoCrM5">
      <containerreq phase="First" priority="500"><![CDATA[count:Classes.Aegis >= 11]]></containerreq>
      <autotag group="Helper" tag="PsiLike"/>
      </bootstrap>
    <eval phase="Final" priority="999999999"><![CDATA[~field abValue contains the # of times tracker for the first copy
~field abValue2 contains the bonus manifester level
~field abValue3 contains the bonus uses

var myLvl as number
var myUses as number

if (#levelcount[Aegis] < 11) then
  myLvl = round(#levelcount[Aegis]/2,0,-1) + field[abValue2].value
  hero.childfound[puEctoCre1].field[sCL].value = myLvl
else
  myLvl = #levelcount[Aegis] + field[abValue2].value
  hero.childfound[puEctoCrM5].field[sCL].value = myLvl
endif

myUses = #attrbonus[aINT] + field[abValue3].value

if (tagis[Helper.ShowSpec] <> 0) then
  field[listname].text = "Ectoplasmic Creation (ML: " & myLvl & ") (" & myUses & "/day)"
endif

~These calculations should only happen for the first copy
doneif (tagis[Helper.FirstCopy] = 0)

~ If we're not shown, just get out now
doneif (tagis[Helper.ShowSpec] = 0)

field[abValue].value += field[abValue3].value
field[abValue].value += field[xCount].value
field[trkMax].value = field[abValue].value
field[livename].text = "Ectoplasmic Creation (ML: " & myLvl & ")(" & field[abValue].value & "/day)"]]></eval>
    </thing>
  <thing id="cPUAstWarr" name="Astral Warrior" description="{b}NOTE: {/b}This isn&apos;t fully implemented yet...\n\nAn ectopic artisan of 3rd level is able to create an ally to aid him in battle. Creating an astral warrior takes one minute of concentration to complete and the astral warrior remains until dismissed by the ectopic artisan.\n\nThis astral warrior functions as a summoner&apos;s eidolon using the ectopic artisan&apos;s class level as the summoner level, with some differences. The astral warrior uses the biped base form of the eidolon, but does not gain any of the natural attacks of the eidolon, nor does it gain any evolution points of its own. Instead, it is created with a masterwork weapon appropriate for its size and is considered proficient with the weapon. The weapon&apos;s damage type (bludgeoning, piercing, or slashing) is chosen by the ectopic artisan at the time of creation, but the weapon always deals 1d8 points of damage (for a medium sized creature). The astral warrior receives additional iterative attacks as normal if it has a high base attack bonus. The astral warrior&apos;s weapon disappears if it leaves the astral warrior&apos;s possession for more than one minute.\n\nThe ectopic artisan and the astral warrior split the total customization points available to the ectopic artisan, chosen when the ectopic artisan configures his astral suit.\n\nThe ectopic artisan can split his customization points in any ratio between himself and his astral warrior. The ectopic artisan must choose customizations separately for himself and for his astral warrior, although the ectopic artisan does not need to spend 8 hours separately for himself and for his astral warrior. The ectopic artisan can choose to leave customization points to be selected later as normal, choosing them for either himself or his astral warrior by spending one minute as normal. An astral warrior always forms with full hit points, and the astral warrior does not gain any evolutions.\n\nAn astral warrior is a mindless construct. Commanding an astral warrior is the same as commanding an astral construct.\n\nAn astral warrior disperses if the ectopic artisan is rendered unconscious or dies.\n\nThis ability replaces reconfigure." compset="ClSpecial">
    <usesource source="pPsiUn"/>
    <tag group="SpecType" tag="Defense"/>
    <tag group="AbilType" tag="PsiLike"/>
    </thing>
  <thing id="cPUCoStrik" name="Cocooning Strike" description="The ectopic artisan gains a permanent customization that triggers on a critical hit while his astral suit is active. When triggered, the target is affected by {i}ectoplasmic cocoon{/i} (Reflex save DC 10 + half the aegis&apos;s level + the aegis&apos;s Intelligence modifier to negate). This effect only works on Large or smaller creatures. This ability can only be triggered once per round. The ectopic artisan can grant this customization to his astral warrior when it is created, but he loses access to it while the astral warrior is active and has been granted the customization. This ability replaces Master Craftsman." compset="ClSpecial">
    <usesource source="pPsiUn"/>
    <tag group="SpecType" tag="Defense"/>
    <tag group="DescInfo" tag="puEctoCoc3"/>
    <tag group="AbilType" tag="Super"/>
    </thing>
  <thing id="cPUAstSwar" name="Astral Swarm" description="An ectopic artisan of 12th level can create an astral swarm once per day (see Appendix).{br}{br}Every even level thereafter (14th,16th, 18th, and 20th), the ectopic artisan gains an additional daily use of this ability. This ability replaces cannibalize suit." compset="ClSpecial">
    <usesource source="pPsiUn"/>
    <tag group="SpecType" tag="Defense"/>
    <tag group="AbilType" tag="Super"/>
    <tag group="User" tag="Tracker"/>
    <tag group="Usage" tag="Day"/>
    <eval phase="Final" priority="10000"><![CDATA[~field abValue contains the # of times tracker for the first copy
~field abValue2 contains the bonus manifester level
~field abValue3 contains the bonus uses

var myUses as number
myUses = field[xIndex].value + field[abValue3].value

if (tagis[Helper.ShowSpec] <> 0) then
  field[listname].text = "Astral Swarm (" & myUses & "/day)"
endif

~These calculations should only happen for the first copy
doneif (tagis[Helper.FirstCopy] = 0)

~ If we're not shown, just get out now
doneif (tagis[Helper.ShowSpec] = 0)

field[abValue].value += field[abValue3].value
field[abValue].value += field[xCount].value
field[trkMax].value = field[abValue].value
field[livename].text = "Astral Swarm (" & field[abValue].value & "/day)"]]></eval>
    </thing>
  <thing id="arPUTrailb" name="Trailblazer" description="The trailblazer develops skills to aid him in tracking prey and avoiding obstacles, rather than in the learning how to manipulate and craft psionic items. He uses his astral suit to improve his ability to move and handle varied environments, in addition to its use as a form of protection. Where other hunters might find armor to be a hindrance, the trailblazer&apos;s astral suit is an asset, helping him to blend in with his surroundings.{br}{br}{b}Class Skills:{/b} A trailblazer adds Survival as a class skill, but does not count Use Magic Device as a class skill." compset="ClassVary" uniqueness="unique">
    <fieldval field="srcPageNum" value="264"/>
    <fieldval field="srcBookInf" value="Ultimate Psionics"/>
    <usesource source="pPsiUn"/>
    <tag group="NotClassSk" tag="skUseMagic"/>
    <tag group="AbReplace" tag="cPUCraftsm"/>
    <tag group="AbReplace" tag="cPUReconfi"/>
    <tag group="AbReplace" tag="cPUAugSuit"/>
    <tag group="AbReplace" tag="cPUMastCr"/>
    <tag group="ClVaryName" tag="AppParen"/>
    <tag group="ClassSkill" tag="skSurvival"/>
    <tag group="ProductId" tag="HLCommunit"/>
    <bootstrap thing="cPUAegTrap">
      <autotag group="ClSpecWhen" tag="5"/>
      </bootstrap>
    <bootstrap thing="cPUAegTrk">
      <autotag group="ClSpecWhen" tag="2"/>
      </bootstrap>
    <bootstrap thing="cPURapAdj">
      <autotag group="ClSpecWhen" tag="3"/>
      </bootstrap>
    <bootstrap thing="cPUUndTra">
      <autotag group="ClSpecWhen" tag="4"/>
      </bootstrap>
    <link linkage="varies" thing="cHelpPU0"/>
    </thing>
  <thing id="cPUAegTrk" name="Track" description="A trailblazer adds half his level (minimum 1) to Survival skill checks made to follow tracks." compset="ClSpecial" summary="Add the listed bonus to survival checks made to track.">
    <usesource source="pPsiUn"/>
    <tag group="SbNameApp" tag="SignAppVal" name="Sign appended value" abbrev="Sign appended value"/>
    <tag group="SbNameApp" tag="AppValue" name="Append &quot;field[abValue].value&quot;" abbrev="Append &quot;field[abValue].value&quot;"/>
    <tag group="AbilType" tag="Extra"/>
    <bootstrap thing="aaTrack"></bootstrap>
    <eval phase="Render" priority="10000" index="2"><![CDATA[
      field[livename].text &= " " & signed(field[abValue].value)

      doneif (tagis[Helper.ShowSpec] = 0)

      doneif (tagis[Helper.SpcDisable] <> 0)

      #situational_nonstatblock[hero.child[skSurvival],signed(field[abValue].value) & " to track",field[thingname].text]]]></eval>
    <eval phase="PostLevel" priority="10000">~our bonus is level /2, min 1
      field[abValue].value += maximum(round(field[xTotalLev].value / 2,0,-1),1)</eval>
    </thing>
  <thing id="cPURapAdj" name="Rapid Adjustment" description="The trailblazer can, as a swift action, alter his astral suit&apos;s customizations to better allow him to follow prey or respond to changing environments, but he is limited to the list of customizations below when doing so. The customization being lost and the customization being gained must both be in the list below. The customizations the trailblazer can select from are Burrow, Chameleon, Climb, Darkvision, Flight, Speed, Swim, Underwater Breath. This ability replace reconfigure." compset="ClSpecial">
    <usesource source="pPsiUn"/>
    </thing>
  <thing id="cPUUndTra" name="Undetected Tracker" description="Starting at 4th level, the trailblazer learns how to make his astral suit blend in with his environment and soften his movements. The trailblazer adds 1/2 his class level to Stealth checks as long as he is maintaining psionic focus and has his astral suit active. This ability replaces augment suit." compset="ClSpecial" summary="Add the listed bonus to Stealth checks  when focused and with an active astral suit.">
    <usesource source="pPsiUn"/>
    <tag group="SbNameApp" tag="SignAppVal" name="Sign appended value" abbrev="Sign appended value"/>
    <tag group="SbNameApp" tag="AppValue" name="Append &quot;field[abValue].value&quot;" abbrev="Append &quot;field[abValue].value&quot;"/>
    <tag group="AbilType" tag="Extra"/>
    <eval phase="Render" priority="10000" index="2"><![CDATA[
      field[livename].text &= " " & signed(field[abValue].value)]]></eval>
    <eval phase="PostLevel" priority="10000"><![CDATA[
      ~our bonus is level /2, min 1
      field[abValue].value += maximum(round(field[xTotalLev].value / 2,0,-1),1)

      var v_focus as number
      call PUPsiFocus
      ~Only Apply bonus if focused and Wearing suit.
      doneif (hero.tagcount[Custom.WearAstS] + v_focus <> 2)

      #skillbonus[skStealth] += field[abValue].value]]></eval>
    </thing>
  <thing id="cPUAegTrap" name="Trapfinding" description="A trailblazer of 5th level adds 1/2 his class level to Perception skill checks made to locate traps and to Disable Device skill checks (minimum +1). A trailblazer can use Disable Device to disarm magic traps.{br}{br}This ability replaces Master Craftsman." compset="ClSpecial" summary="Gain a bonus to find or disable traps, including magical ones.">
    <usesource source="pPsiUn"/>
    <eval phase="Render" priority="10000" index="2"><![CDATA[
      field[sbName].text = lowercase(field[thingname].text) & " " & signed(field[abValue].value)]]></eval>
    <eval phase="PostLevel" priority="10000"><![CDATA[
      ~ If we're not shown, just get out now
      doneif (tagis[Helper.ShowSpec] = 0)

      ~ If we're disabled, do nothing
      doneif (tagis[Helper.SpcDisable] <> 0)

      ~ Only do it for the first copy.
      doneif (tagis[Helper.FirstCopy] = 0)

      ~ our bonus is level /2, min 1
      field[abValue].value += maximum(round(field[xAllLev].value / 2,0,-1),1)
      field[livename].text = field[thingname].text & " " & signed(field[abValue].value)

      #skillbonus[skDisable] += field[abValue].value
      #situational[hero.child[skPercep],signed(field[abValue].value) & " to locate traps",field[thingname].text]]]></eval>
    </thing>
  <thing id="rcPUaWoStr" name="Woodland Stride" description="While wearing his astral suit, the trailblazer may move through any sort of undergrowth (such as natural thorns, briars, overgrown areas, and similar terrain) at his normal speed and without taking damage or suffering any other impairment. Thorns, briars, and overgrown areas that are enchanted or magically manipulated to impede motion, however, still affect him. The trailblazer must be at least 10th level before selecting this customization." compset="RaceCustom">
    <usesource source="pPsiUn"/>
    <tag group="CustomCost" tag="3"/>
    <tag group="AllowRCust" tag="cfgPUAstSu"/>
    <tag group="Helper" tag="Secondary"/>
    <exprreq message="Trailblazer Archetype required."><![CDATA[#hasarchetype[arPUTrailb] <> 0]]></exprreq>
    </thing>
  <thing id="rcPUaFaTer" name="Favored Terrain" description="The trailblazer may select a single type of terrain from the Favored Terrains table. While wearing his astral suit, the trailblazer gains a +2 bonus on initiative checks and Knowledge (geography), Perception, Stealth, and Survival skill checks when in this terrain. The trailblazer traveling through his favored terrain normally leaves no trail and cannot be tracked (though he may leave a trail if he so chooses).{br}{br}The trailblazer must be at least 5th level before selecting this customization." compset="RaceCustom">
    <usesource source="pPsiUn"/>
    <tag group="CustomCost" tag="2"/>
    <tag group="AllowRCust" tag="cfgPUAstSu"/>
    <tag group="User" tag="NeedDomain"/>
    <tag group="Helper" tag="Secondary"/>
    <exprreq message="Trailblazer Archetype required."><![CDATA[#hasarchetype[arPUTrailb] <> 0]]></exprreq>
    <prereq message="Aegis level 5+ required.">
      <validate><![CDATA[
        var classcheck as string
        var levels as number
        classcheck = "Aegis"
        call PUPreReqs
        validif (levels >= 5)]]></validate>
      </prereq>
    </thing>
  <thing id="rcPUaFSpd" name="Flight Speed (+20&apos;)" description="The aegis&apos;s fly speed provided by the Flight customization can be increased by spending additional customization points, gaining a 20-foot increase to fly speed for each additional point spent. The aegis must be at least 5th level and have the Flight customization before selecting this customization." compset="RaceCustom">
    <usesource source="pPsiUn"/>
    <tag group="Helper" tag="Secondary"/>
    <tag group="CustomCost" tag="1"/>
    <tag group="AllowRCust" tag="cfgPUAstSu"/>
    <tag group="Helper" tag="SpecUp"/>
    <eval phase="Final" priority="14100"><![CDATA[
      ~ If we're not wearling the Astral Suit, get out now
      doneif (hero.tagcount[Custom.WearAstS] = 0)

      #value[xFly] += 20

      #applybonus[abValue,hero.child[xFly],hero.child[Speed].field[tSpeed].value]]]></eval>
    <exprreq message="Flight customization required."><![CDATA[#hasability[rcPUaFligh] <> 0]]></exprreq>
    <prereq message="Aegis level 5+ required.">
      <validate><![CDATA[
        var classcheck as string
        var levels as number
        classcheck = "Aegis"
        call PUPreReqs
        validif (levels >= 5)]]></validate>
      </prereq>
    </thing>
  <thing id="rcPUaFSpd2" name="Flight Speed (+20&apos;)" description="The aegis&apos;s fly speed provided by the Flight customization can be increased by spending additional customization points, gaining a 20-foot increase to fly speed for each additional point spent. The aegis must be at least 5th level and have the Flight customization before selecting this customization." compset="RaceCustom">
    <usesource source="pPsiUn"/>
    <tag group="CustomCost" tag="1"/>
    <tag group="AllowRCust" tag="cfgPUTranB"/>
    <tag group="Helper" tag="SpecUp"/>
    <eval phase="Final" priority="14100"><![CDATA[
      ~ If we're not wearling the Astral Suit, get out now
      doneif (hero.tagcount[Custom.WearAstS] = 0)

      #value[xFly] += 20

      #applybonus[abValue,hero.child[xFly],hero.child[Speed].field[tSpeed].value]]]></eval>
    <exprreq message="Flight customization required."><![CDATA[#hasability[rcPUaFlig2] <> 0]]></exprreq>
    <prereq message="Aegis level 5+ required.">
      <validate><![CDATA[
        var classcheck as string
        var levels as number
        classcheck = "Aegis"
        call PUPreReqs
        validif (levels >= 5)]]></validate>
      </prereq>
    </thing>
  <thing id="rcPUaFMan" name="Flight Maneuverability (Perfect)" description="The aegis&apos;s fly maneuverability provided by the Flight customization can be increased to Perfect for 2 additional customization points. The aegis must be at least 5th level and have the Flight customization before selecting this customization." compset="RaceCustom" uniqueness="useronce">
    <usesource source="pPsiUn"/>
    <tag group="Helper" tag="Secondary"/>
    <tag group="CustomCost" tag="2"/>
    <tag group="AllowRCust" tag="cfgPUAstSu"/>
    <tag group="Helper" tag="SpecUp"/>
    <eval phase="Final" priority="14100"><![CDATA[
      ~ If we're not wearling the Astral Suit, get out now
      doneif (hero.tagcount[Custom.WearAstS] = 0)

      perform hero.child[xFly].assign[Maneuver.Perfect]]]></eval>
    <exprreq message="Flight customization required."><![CDATA[#hasability[rcPUaFligh] <> 0]]></exprreq>
    <prereq message="Aegis level 5+ required.">
      <validate><![CDATA[
        var classcheck as string
        var levels as number
        classcheck = "Aegis"
        call PUPreReqs
        validif (levels >= 5)]]></validate>
      </prereq>
    </thing>
  <thing id="rcPUaFMan2" name="Flight Maneuverability (Perfect)" description="The aegis&apos;s fly maneuverability provided by the Flight customization can be increased to Perfect for 2 additional customization points. The aegis must be at least 5th level and have the Flight customization before selecting this customization." compset="RaceCustom" uniqueness="useronce">
    <usesource source="pPsiUn"/>
    <tag group="CustomCost" tag="2"/>
    <tag group="AllowRCust" tag="cfgPUTranB"/>
    <tag group="Helper" tag="SpecUp"/>
    <eval phase="Final" priority="14100"><![CDATA[
      ~ If we're not wearling the Astral Suit, get out now
      doneif (hero.tagcount[Custom.WearAstS] = 0)

      perform hero.child[xFly].assign[Maneuver.Perfect]]]></eval>
    <exprreq message="Flight customization required."><![CDATA[#hasability[rcPUaFlig2] <> 0]]></exprreq>
    <prereq message="Aegis level 5+ required.">
      <validate><![CDATA[
        var classcheck as string
        var levels as number
        classcheck = "Aegis"
        call PUPreReqs
        validif (levels >= 5)]]></validate>
      </prereq>
    </thing>
  <thing id="arPUBruDis" name="Brutal Disruptor" description="Brutal disruptors do not simply see patterns, they focus their skills on destroying them. These cryptics tend to be imposing in demeanor and understand the patterns of their opponents to strike fear into their foes.\n\n{b}Skills:{/b} The brutal disruptor adds Intimidate (Cha) as a class skill and loses Disable Device." compset="ClassVary" uniqueness="unique">
    <fieldval field="srcPageNum" value="264"/>
    <fieldval field="srcBookInf" value="Ultimate Psionics"/>
    <usesource source="pPsiUn"/>
    <tag group="NotClassSk" tag="skDisable"/>
    <tag group="AbReplace" tag="cRogTrapfn"/>
    <tag group="AbReplace" tag="cPUTrapmak"/>
    <tag group="AbReplace" tag="cPUSwiftTr"/>
    <tag group="ClVaryName" tag="AppParen"/>
    <tag group="ClassSkill" tag="skIntim"/>
    <tag group="ProductId" tag="HLCommunit"/>
    <bootstrap thing="cPUChanDis">
      <autotag group="ClSpecWhen" tag="1"/>
      </bootstrap>
    <bootstrap thing="cPUIntPatt">
      <autotag group="ClSpecWhen" tag="1"/>
      </bootstrap>
    <bootstrap thing="cPUUnnerDi">
      <autotag group="ClSpecWhen" tag="6"/>
      </bootstrap>
    <link linkage="varies" thing="cHelpPU1"/>
    </thing>
  <thing id="cPUIntPatt" name="Intimidating Pattern" description="A brutal disruptor adds 1/2 her level (minimum 1) on Intimidate checks made to demoralize a target. \n\nThis ability replaces trapfinding." compset="ClSpecial">
    <usesource source="pPsiUn"/>
    <eval phase="PostLevel" priority="10000"><![CDATA[~ If we're not shown, just get out now
doneif (tagis[Helper.ShowSpec] <> 1)
~ If we've been Disabled, get out now
doneif (tagis[Helper.SpcDisable] <> 0)

~ Calculate bonus of half our character level
field[abValue].value += round(field[xTotalLev].value/2,0,-1)]]></eval>
    <eval phase="PostLevel" priority="15000" index="2"><![CDATA[#situational[hero.child[skIntim], signed(field[abValue].value) & " on checks made to demoralize a target.",field[thingname].text]]]></eval>
    <eval phase="Render" priority="99999" index="3"><![CDATA[field[abSumm].text = signed(field[abValue].value) & " on checks to demoralize target."]]></eval>
    </thing>
  <thing id="cPUUnnerDi" name="Unnerving Disruption" description="Any time the brutal disruptor deals damage with her disrupt pattern ability, she can expend her psionic focus to make a free Intimidate check against the affected opponent. This ability replaces trapmaker." compset="ClSpecial">
    <usesource source="pPsiUn"/>
    <tag group="abAction" tag="PUExpFocus"/>
    </thing>
  <thing id="cPUChanDis" name="Channeled Disruption" description="A 6th level brutal disruptor has learned to channel her disrupt pattern ability into her melee attacks. The brutal disruptor may use her disrupt pattern ability as part of any or all melee attacks she makes. This is an exception to the rule that disrupt pattern may only be used once per round. The brutal disruptor cannot use her disrupt pattern ability as a ranged attack in the same round that she has used it as part of a melee attack. This ability replaces swift trapper." compset="ClSpecial" summary="Use Disrupt Pattern on any and all Melee Attacks.">
    <usesource source="pPsiUn"/>
    </thing>
  <thing id="arPUCryDis" name="Distorter" description="Distorters understand that altering perception can truly alter reality if done right. These cryptics change the nature of the patterns around them to alter how other creatures see and interact with the world, rather than relying on mental manipulation like a telepath." compset="ClassVary" uniqueness="unique">
    <fieldval field="srcPageNum" value="264"/>
    <fieldval field="srcBookInf" value="Ultimate Psionics"/>
    <arrayval field="cvCustTot" index="7" value="-1"/>
    <arrayval field="cvCustTot" index="9" value="-2"/>
    <arrayval field="cvCustTot" index="11" value="-2"/>
    <arrayval field="cvCustTot" index="13" value="-2"/>
    <arrayval field="cvCustTot" index="15" value="-2"/>
    <arrayval field="cvCustTot" index="17" value="-2"/>
    <arrayval field="cvCustTot" index="19" value="-2"/>
    <arrayval field="cvCustTot" index="3" value="-1"/>
    <arrayval field="cvCustTot" index="5" value="-1"/>
    <usesource source="pPsiUn"/>
    <tag group="ClVaryName" tag="AppParen"/>
    <tag group="ClassSkill" tag="skIntim"/>
    <tag group="AbReplace" tag="cPUScribTa"/>
    <tag group="NotClassSk" tag="skDisable"/>
    <tag group="ProductId" tag="HLCommunit"/>
    <bootstrap thing="cPUWarPer">
      <autotag group="ClSpecWhen" tag="4"/>
      </bootstrap>
    <bootstrap thing="cPUAltApp">
      <autotag group="ClSpecWhen" tag="1"/>
      </bootstrap>
    <bootstrap thing="cPUBlurPa">
      <autotag group="ClSpecWhen" tag="14"/>
      </bootstrap>
    <bootstrap thing="cPUSilPat">
      <autotag group="ClSpecWhen" tag="10"/>
      </bootstrap>
    <link linkage="varies" thing="cHelpPU1"/>
    </thing>
  <thing id="cPUAltApp" name="Altered Appearance" description="A distorter has learned to alter her pattern to mask her appearance. As long as the distorter is maintaining psionic focus, as a fullround action, the distorter can change her physical appearance to look like someone else, granting a +10 bonus on Disguise skill checks. The distorter&apos;s size does not change, and she does not gain any special abilities, even if her new appearance would seem to grant it. The effect ends once the distorter is not maintaining psionic focus or it can be dismissed as a free action. This ability replaces the Scribe Tattoo feat normally gained at 1st level." compset="ClSpecial">
    <usesource source="pPsiUn"/>
    <tag group="abAction" tag="FullRd"/>
    <tag group="abAction" tag="PUManFocus"/>
    </thing>
  <thing id="cPUWarPer" name="Warp Perception" description="A 4th level distorter has learned to alter the way creatures perceive distances by manipulating the visual patterns. The distorter can cause up to her Intelligence modifier in creatures to incorrectly calculate the distance between the affected creature and the cryptic unless each creature makes a successful Will save (DC 10 + 1/2 cryptic class level + the cryptic&apos;s Intelligence modifier). For a number of rounds equal to the cryptic&apos;s Intelligence modifier, each square of movement any of the affected creatures take toward the cryptic counts as two squares of movement, regardless of the mode of movement (flight, swim, etc) or if the creature is corporeal or incorporeal. In addition, any ranged attacks made at the cryptic by the affected creatures that only work within a certain range (such as a ranged sneak attack or Point-Blank Shot) count the distance between the creature and the cryptic as double.{br}{br}This does not affect the range increment of the attack, only if the distance of the attack qualifies. This ability replaces the insight normally gained at 4th level." compset="ClSpecial">
    <usesource source="pPsiUn"/>
    <tag group="AbilType" tag="Super"/>
    <tag group="abSave" tag="WillNeg"/>
    <tag group="StandardDC" tag="aINT"/>
    </thing>
  <thing id="cPUSilPat" name="Silent Pattern" description="Once a distorter has reached 10th level, she has learned to alter the pattern of an area to disrupt sound within it. The area is treated as if under the effect of {i}silence{/i} until the distorter chooses to end the effect (a free action). The distorter may only have one silent pattern active at a time, the area affected is a 10 ft. radius, and she can select an area within 30 ft. of her current location when she uses this ability. This replaces the insight normally gained at 10th level." compset="ClSpecial">
    <usesource source="pPsiUn"/>
    <tag group="AbilType" tag="PsiLike"/>
    </thing>
  <thing id="cPUBlurPa" name="Blur Pattern" description="More experienced distorters have learned to alter their own pattern to make them harder to perceive. As long as a distorter of 14th level maintains psionic focus, she gains concealment (20% miss chance).{br}{br}This ability can be suppressed as a free action, but once suppressed, requires a standard action to reactivate. A {i}see invisibility{/i} spell does not counteract the effect, but a {i}true seeing{/i} spell or {i}pierce the veils{/i} manifestation does.{br}{br}This ability replaces enduring defense." compset="ClSpecial">
    <usesource source="pPsiUn"/>
    <tag group="AbilType" tag="Super"/>
    <tag group="abAction" tag="PUManFocus"/>
    </thing>
  <thing id="arPUCryGra" name="Grammaton" description="For some cryptics, the way bullets travel through the air is a special pattern that can be used and manipulated for deadly attacks and abilities. These grammatons use handguns to destroy patterns and enemies alike.\n\n{b}Weapon and Armor Proficiency:{/b} Grammatons are proficient with all simple weapons, firearms, plus the rapier and shortbow. Grammatons are proficient with light armor but not with shields." compset="ClassVary" uniqueness="unique">
    <fieldval field="cvSpec5thS" value="Deed"/>
    <fieldval field="srcPageNum" value="265"/>
    <fieldval field="srcBookInf" value="Ultimate Psionics"/>
    <arrayval field="cvCustTot" index="7" value="-2"/>
    <arrayval field="cvCustTot" index="9" value="-2"/>
    <arrayval field="cvCustTot" index="11" value="-2"/>
    <arrayval field="cvCustTot" index="13" value="-2"/>
    <arrayval field="cvCustTot" index="15" value="-2"/>
    <arrayval field="cvCustTot" index="17" value="-2"/>
    <arrayval field="cvCustTot" index="19" value="-2"/>
    <arrayval field="cvCust5Tot" index="5" value="1"/>
    <arrayval field="cvPsiPowTo" index="6" value="-1"/>
    <arrayval field="cvPsiPowTo" index="7" value="-1"/>
    <arrayval field="cvPsiPowTo" index="8" value="-1"/>
    <arrayval field="cvPsiPowTo" index="9" value="-1"/>
    <arrayval field="cvPsiPowTo" index="10" value="-1"/>
    <arrayval field="cvPsiPowTo" index="11" value="-1"/>
    <arrayval field="cvPsiPowTo" index="12" value="-1"/>
    <arrayval field="cvPsiPowTo" index="13" value="-1"/>
    <arrayval field="cvPsiPowTo" index="14" value="-1"/>
    <arrayval field="cvPsiPowTo" index="15" value="-1"/>
    <arrayval field="cvPsiPowTo" index="16" value="-1"/>
    <arrayval field="cvPsiPowTo" index="17" value="-1"/>
    <arrayval field="cvPsiPowTo" index="18" value="-1"/>
    <arrayval field="cvPsiPowTo" index="19" value="-1"/>
    <arrayval field="cvCustTot" index="3" value="-1"/>
    <arrayval field="cvCustTot" index="5" value="-2"/>
    <usesource source="pPsiUn"/>
    <tag group="AbReplace" tag="cPUCrHideP"/>
    <tag group="AbReplace" tag="cPUScribTa"/>
    <tag group="ClVaryName" tag="AppParen"/>
    <tag group="ProductId" tag="HLCommunit"/>
    <bootstrap thing="fExoticGun">
      <autotag group="thing" tag="skipprereq"/>
      </bootstrap>
    <bootstrap thing="cPUGritPat">
      <autotag group="ClSpecWhen" tag="4"/>
      </bootstrap>
    <bootstrap thing="cPUPattGun">
      <autotag group="ClSpecWhen" tag="1"/>
      </bootstrap>
    <bootstrap thing="cPUInsDeed">
      <autotag group="ClSpecWhen" tag="6"/>
      </bootstrap>
    <bootstrap thing="cPUAvoAtt">
      <autotag group="ClSpecWhen" tag="7"/>
      </bootstrap>
    <bootstrap thing="cPUAvoAtt">
      <autotag group="ClSpecWhen" tag="9"/>
      </bootstrap>
    <bootstrap thing="cPUAvoAtt">
      <autotag group="ClSpecWhen" tag="11"/>
      </bootstrap>
    <bootstrap thing="cPUAvoAtt">
      <autotag group="ClSpecWhen" tag="13"/>
      </bootstrap>
    <bootstrap thing="cPUAvoAtt">
      <autotag group="ClSpecWhen" tag="15"/>
      </bootstrap>
    <bootstrap thing="cPUAvoAtt">
      <autotag group="ClSpecWhen" tag="17"/>
      </bootstrap>
    <bootstrap thing="cPUGunKata">
      <autotag group="ClSpecWhen" tag="10"/>
      </bootstrap>
    <bootstrap thing="cPUAvoAtt">
      <autotag group="ClSpecWhen" tag="19"/>
      </bootstrap>
    <link linkage="varies" thing="cHelpPU1"/>
    <eval phase="PreLevel" priority="10000"><![CDATA[#appenddesc[cPUDisPatt,"{b}Grammaton:{/b} The grammaton is only able to use the disrupt pattern ability when making ranged attacks with a handgun."]]]></eval>
    </thing>
  <thing id="cPUGritPat" name="Gritted Patterns" description="At 4th level, the grammaton&apos;s grit pool is based on her Intelligence. At the start of each day, the grammaton gains a number of grit points equal to her Intelligence modifier (minimum 1). Her grit goes up or down throughout the day, but usually cannot go higher than her Intelligence modifier (minimum 1), though some feats and magic items may affect this maximum. This ability replaces the insight gained at 4th level." compset="ClSpecial" summary="Gain a pool of points that are spent to fuel deeds, regained on firearm crit/killing blow.">
    <usesource source="pPsiUn"/>
    <tag group="SpecType" tag="Attack" name="Attack" abbrev="Attack"/>
    <tag group="SbNamePar" tag="AppValue" name="Append &quot;field[abValue].value&quot;" abbrev="Append &quot;field[abValue].value&quot;"/>
    <bootstrap thing="trkGrit"></bootstrap>
    <eval phase="PostAttr" priority="10000"><![CDATA[
doneif (tagis[Helper.ShowSpec] = 0)

doneif (tagis[Helper.SpcDisable] <> 0)

doneif (#levelcount[Cryptic] < 4)

~ Add to our charges for the Grit points.
#trkmax[trkGrit] += maximum(#attrmod[aINT], 1)]]></eval>
    </thing>
  <thing id="cPUPattGun" name="Pattern of the Gun" description="The grammaton gains the Amateur Gunslinger feat and the Gunsmithing feat. She also gains a battered gun identical to the one gained by the gunslinger. This ability replaces the Scribe Tattoo feat normally gained at 1st level." compset="ClSpecial">
    <usesource source="pPsiUn"/>
    <tag group="Helper" tag="MultiCopy"/>
    <bootstrap thing="fAmateuGun">
      <containerreq phase="First" priority="490">!hero#Classes.Gunsling</containerreq>
      </bootstrap>
    <bootstrap thing="fExtraGrit">
      <containerreq phase="First" priority="490">hero#Classes.Gunsling</containerreq>
      </bootstrap>
    <bootstrap thing="fGunsmithi">
      <autotag group="thing" tag="skipprereq"/>
      </bootstrap>
    </thing>
  <thing id="cPUInsDeed" name="Insightful Deed" description="At 6th level, the grammatons picks one 3rd level deed or lower and gains that deed. This ability replaces the insight gained at 6th level." compset="ClSpecial">
    <usesource source="pPsiUn"/>
    </thing>
  <thing id="cPUAvoAtt" name="Avoid Attacks" description="A 7th level grammaton can mask her pattern to avoid attacks. Once per day as a move action, the grammatons gains total concealment (50% miss chance) for a number of rounds equal to her Intelligence modifier. Every two levels thereafter, the grammatons gains an additional daily use of this ability.\n\nThis ability replaces the power known normally gained at 7th level." compset="ClSpecial">
    <usesource source="pPsiUn"/>
    <tag group="AbilType" tag="Super"/>
    <tag group="User" tag="Tracker"/>
    <tag group="Usage" tag="Day"/>
    <eval phase="PostLevel" priority="10000"><![CDATA[var myPts as number

myPts = 2*field[xIndex].value

field[listname].text = "Avoid Attacks (" & field[xIndex].value & "x/day) "

~These calculations should only happen for the first copy
doneif (tagis[Helper.FirstCopy] = 0)

~ If we're not shown, just get out now
doneif (tagis[Helper.ShowSpec] = 0)

field[abValue].value += field[xCount].value

field[livename].text = "Avoid Attacks (" & field[abValue].value & "x/day) "
field[abSumm].text = "Gain total concealment (50% miss chance) for " & #attrmod[aINT] & " rounds multiple times a day."]]></eval>
    </thing>
  <thing id="cPUCryDEye" name="Deed: Deadeye" description="At 1st level, the gunslinger can resolve an attack against touch AC instead of normal AC when firing beyond her firearm&apos;s first range increment. Performing this deed costs 1 grit point per range increment beyond the first. The gunslinger still takes the -2 penalty on attack rolls for each range increment beyond the first when she performs this deed." compset="CustomSpec" uniqueness="unique">
    <usesource source="pPsiUn"/>
    <tag group="Custom" tag="GunDeed"/>
    <tag group="AbilType" tag="Extra"/>
    <tag group="SpecSource" tag="arPUCryGra"/>
    <tag group="Helper" tag="ClExLose"/>
    <tag group="Helper" tag="Quintenary"/>
    <tag group="HasAbility" tag="cGunDeadey"/>
    <exprreq message="You already have the Deadeye ability - this would be redundant.">#hasability[cGunDeadey] + #hasability[raAGDeadey] = 0</exprreq>
    <prereq message="Grammaton level 6+ required.">
      <validate><![CDATA[        var classcheck as string
        var levels as number

        classcheck = "Cryptic"

        call PUPreReqs

        validif (levels >= 6)]]></validate>
      </prereq>
    </thing>
  <thing id="cPUCryGIni" name="Deed: Gunslinger Initiative" description="At 3rd level, as long as the gunslinger has at least 1 grit point, she gains the following benefits. First, she gains a +2 bonus on initiative checks. Furthermore, if she has the Quick Draw feat, her hands are free and unrestrained, and the firearm is not hidden, she can draw a single firearm as part of the initiative check." compset="CustomSpec" uniqueness="unique">
    <usesource source="pPsiUn"/>
    <tag group="Custom" tag="GunDeed"/>
    <tag group="AbilType" tag="Extra"/>
    <tag group="SpecSource" tag="arPUCryGra"/>
    <tag group="Helper" tag="ClExLose"/>
    <tag group="Helper" tag="Quintenary"/>
    <tag group="HasAbility" tag="cGunDeadey"/>
    <eval phase="Final" priority="5000"><![CDATA[
      ~ If we're not shown, just get out now
      doneif (tagis[Helper.ShowSpec] = 0)

      ~ If we have no more grit then get out now
      doneif (hero.child[trkGrit].field[trkLeft].value = 0)

      hero.child[Initiative].field[Bonus].value += 2]]></eval>
    <exprreq message="You already have the Deadeye ability - this would be redundant.">#hasability[cGunDeadey] + #hasability[raAGDeadey] = 0</exprreq>
    <prereq message="Grammaton level 6+ required.">
      <validate><![CDATA[        var classcheck as string
        var levels as number

        classcheck = "Cryptic"

        call PUPreReqs

        validif (levels >= 6)]]></validate>
      </prereq>
    </thing>
  <thing id="cPUCryGDod" name="Deed: Gunslinger Dodge" description="At 1st level, the gunslinger gains an uncanny knack for getting out of the way of ranged attacks. When a ranged attack is made against the gunslinger, she can spend 1 grit point to move 5 feet as an immediate action; doing so grants the gunslinger a +2 bonus to AC against the triggering attack. This movement is not a 5-foot step, and provokes attacks of opportunity. Alternatively, the gunslinger can drop prone to gain a +4 bonus to AC against the triggering attack. The gunslinger can only perform this deed while wearing medium or light armor, and while carrying no more than a light load." compset="CustomSpec" uniqueness="unique">
    <usesource source="pPsiUn"/>
    <tag group="Custom" tag="GunDeed"/>
    <tag group="AbilType" tag="Extra"/>
    <tag group="SpecSource" tag="arPUCryGra"/>
    <tag group="Helper" tag="ClExLose"/>
    <tag group="Helper" tag="Quintenary"/>
    <tag group="HasAbility" tag="cGunLeapCo"/>
    <exprreq message="You already have the Gunslinger&apos;s Dodge ability - this would be redundant.">#hasability[cGunLeapCo] + #hasability[raAGLeapCo] = 0</exprreq>
    <prereq message="Grammaton level 6+ required.">
      <validate><![CDATA[        var classcheck as string
        var levels as number

        classcheck = "Cryptic"

        call PUPreReqs

        validif (levels >= 6)]]></validate>
      </prereq>
    </thing>
  <thing id="cPUCryPiWh" name="Deed: Pistol-whip" description="At 3rd level, the gunslinger can make a surprise melee attack with the butt or handle of her firearm as a standard action. When she does, she is considered to be proficient with the firearm as a melee weapon and gains a bonus on the attack and damage rolls equal to the enhancement bonus of the firearm. The damage dealt by the pistol-whip is of the bludgeoning type, and is determined by the size of the firearm. One-handed firearms deal 1d6 points of damage (1d4 if wielded by Small creatures) and twohanded firearms deal 1d10 points of damage (1d8 if wielded by Small creatures). Regardless of the gunslinger&apos;s size, the critical multiplier of this attack is 20/2. If the attack hits, the gunslinger can make a combat maneuver check to knock the target prone as a free action. Performing this deed costs 1 grit point." compset="CustomSpec" uniqueness="unique">
    <usesource source="pPsiUn"/>
    <tag group="Custom" tag="GunDeed"/>
    <tag group="AbilType" tag="Extra"/>
    <tag group="SpecSource" tag="arPUCryGra"/>
    <tag group="Helper" tag="ClExLose"/>
    <tag group="Helper" tag="Quintenary"/>
    <tag group="HasAbility" tag="cGunPistWh"/>
    <exprreq message="You already have the Pistol-whip ability - this would be redundant.">#hasability[cGunPistWh] = 0</exprreq>
    <prereq message="Grammaton level 6+ required.">
      <validate><![CDATA[        var classcheck as string
        var levels as number

        classcheck = "Cryptic"

        call PUPreReqs

        validif (levels >= 6)]]></validate>
      </prereq>
    </thing>
  <thing id="cPUCryQuCl" name="Deed: Quick Clear" description="At 1st level, as a standard action, the gunslinger can remove the broken condition from a single firearm she is currently wielding, as long as that condition was gained by a firearm misfire. The gunslinger must have at least 1 grit point to perform this deed. Alternatively, if the gunslinger spends 1 grit point to perform this deed, she can perform quick clear as a move-equivalent action instead of a standard action." compset="CustomSpec" uniqueness="unique">
    <usesource source="pPsiUn"/>
    <tag group="Custom" tag="GunDeed"/>
    <tag group="AbilType" tag="Extra"/>
    <tag group="SpecSource" tag="arPUCryGra"/>
    <tag group="Helper" tag="ClExLose"/>
    <tag group="Helper" tag="Quintenary"/>
    <tag group="HasAbility" tag="cGunQuClea"/>
    <exprreq message="You already have the Quick Clear ability - this would be redundant.">#hasability[cGunQuClea] + #hasability[raAGQuClea] = 0</exprreq>
    <prereq message="Grammaton level 6+ required.">
      <validate><![CDATA[        var classcheck as string
        var levels as number

        classcheck = "Cryptic"

        call PUPreReqs

        validif (levels >= 6)]]></validate>
      </prereq>
    </thing>
  <thing id="cPUCryUtSh" name="Deed: Utility Shot" description="At 3rd level, if the gunslinger has at least 1 grit point, she can perform all of the following utility shots. Each utility shot can be applied to any single attack with a firearm, but the gunslinger must declare the utility shot she is using before firing the shot.\n\n{i}Blast Lock{/i}: The gunslinger makes an attack roll against a lock within the first range increment of her firearm. A Diminutive lock usually has AC 7, and larger locks have a lower AC. The lock gains a bonus to its AC against this attack based on its quality. A simple lock has a +10 bonus to AC, an average lock has a +15 bonus to AC, a good lock has a +20 bonus to AC, and a superior lock has a +30 bonus to AC. {i}Arcane lock{/i} grants a +10 bonus to the AC of a lock against this attack. On a hit, the lock is destroyed, and the object can be opened as if it were unlocked. On a miss, the lock is destroyed, but the object is jammed and still considered locked. It can still be unlocked by successfully performing this deed, by using the Disable Device skill, or with the break DC, though the DC for either break or Disable Device or the AC increases by 10. A key, combination, or similar mechanical method of unlocking the lock no longer works, though {i}knock{/i} can still be employed to bypass the lock, and the creator of an {i}arcane lock{/i} can still bypass the wards of that spell.\n\n{i}Scoot Unattended Object{/i}: The gunslinger makes an attack roll against a Tiny or smaller unattended object within the first range increment of her firearm. A Tiny unattended object has an AC of 5, a Diminutive unattended object has an AC of 7, and a Fine unattended object has an AC of 11. On a hit, the gunslinger does not damage the object with the shot, but can move it up to 15 feet farther away from the shot&apos;s origin. On a miss, she damages the object normally.\n\n{i}Stop Bleeding{/i}: The gunslinger makes a firearm attack and then presses the hot barrel against herself or an adjacent creature to staunch a bleeding wound. Instead of dealing damage, the shot ends a single bleed condition affecting the creature. The gunslinger does not have to make an attack roll when performing the deed in this way; she can instead shoot the firearm into the air, but that shot still uses up ammunition normally." compset="CustomSpec" uniqueness="unique">
    <usesource source="pPsiUn"/>
    <tag group="Custom" tag="GunDeed"/>
    <tag group="AbilType" tag="Extra"/>
    <tag group="SpecSource" tag="arPUCryGra"/>
    <tag group="Helper" tag="ClExLose"/>
    <tag group="Helper" tag="Quintenary"/>
    <tag group="HasAbility" tag="cGunQuClea"/>
    <exprreq message="You already have the Utility Shot ability - this would be redundant.">#hasability[cGunUtilSh] = 0</exprreq>
    <prereq message="Grammaton level 6+ required.">
      <validate><![CDATA[        var classcheck as string
        var levels as number

        classcheck = "Cryptic"

        call PUPreReqs

        validif (levels >= 6)]]></validate>
      </prereq>
    </thing>
  <thing id="cPUGunKata" name="Gun Katas" description="Starting at 10th level, the grammatons learns how to channel her disrupt pattern into vicious melee attacks through her guns. She can use her guns to perform melee attacks that deal 1d6 points of bludgeoning damage plus the base disrupt pattern damage, with a critical multiplier of 20/x2. The damage from enhanced disruption is not included in these attacks. This use of disrupt pattern is not limited to once per round.{br}{br}For each successful melee attack made with a handgun, if that gun is loaded, the grammatons can make a free ranged attack with that handgun against the creature struck. These ranged touch attacks do not provoke attacks of opportunity. This ability replaces Hide in Plain Sight." compset="ClSpecial">
    <usesource source="pPsiUn"/>
    </thing>
  <thing id="arPULstMnd" name="Lost Mind" description="You have seen the patterns inherent in the void, the meaning that hides inside the emptiness of every pattern. Your gaze has lingered upon the twisting tunnels of nothingness that permeates the space between the stars, and you have gazed upon a terrible beauty. In your mind stands a forest of dark trees, endless, their glass-leaves glittering with untold secrets, their bark the wishful thinking of the mad. You are lost in a maze of wonders, their inconceivable, unbelievable notions made real. You tug at the patterns that hold the world together and laugh as it all unravels in a beautiful dance of destruction.\n\n{b}Powers Known:{/b} The lost mind gains {i}know direction and location{/i} as a talent at 1st level." compset="ClassVary" uniqueness="unique">
    <fieldval field="srcPageNum" value="265"/>
    <fieldval field="srcBookInf" value="Ultimate Psionics"/>
    <arrayval field="cvPsiPowTo" index="13" value="-1"/>
    <arrayval field="cvPsiPowTo" index="14" value="-1"/>
    <arrayval field="cvPsiPowTo" index="15" value="-1"/>
    <arrayval field="cvPsiPowTo" index="16" value="-1"/>
    <arrayval field="cvPsiPowTo" index="17" value="-1"/>
    <arrayval field="cvPsiPowTo" index="18" value="-1"/>
    <arrayval field="cvPsiPowTo" index="19" value="-1"/>
    <arrayval field="cvCustTot" index="11" value="-1"/>
    <arrayval field="cvCustTot" index="13" value="-1"/>
    <arrayval field="cvCustTot" index="15" value="-1"/>
    <arrayval field="cvCustTot" index="17" value="-1"/>
    <arrayval field="cvCustTot" index="19" value="-1"/>
    <arrayval field="cvPsiPowTo" index="11" value="-1"/>
    <arrayval field="cvPsiPowTo" index="12" value="-1"/>
    <usesource source="pPsiUn"/>
    <tag group="ClVaryName" tag="AppParen"/>
    <tag group="AbReplace" tag="cRogTrapfn"/>
    <tag group="AbReplace" tag="cPUCrHideP"/>
    <tag group="AbReplace" tag="cPUTrapmak"/>
    <tag group="ProductId" tag="HLCommunit"/>
    <bootstrap thing="cPUProtIns">
      <autotag group="ClSpecWhen" tag="10"/>
      </bootstrap>
    <bootstrap thing="cPUSymVoid">
      <autotag group="ClSpecWhen" tag="12"/>
      </bootstrap>
    <bootstrap thing="puKnowDL1">
      <autotag group="SpellType" tag="cHelpPU1"/>
      <autotag group="Helper" tag="Free"/>
      </bootstrap>
    <bootstrap thing="cPUInsMadm">
      <autotag group="ClSpecWhen" tag="1"/>
      </bootstrap>
    <bootstrap thing="cPUDecSec">
      <autotag group="ClSpecWhen" tag="1"/>
      </bootstrap>
    <link linkage="varies" thing="cHelpPU1"/>
    </thing>
  <thing id="cPUInsMadm" name="Insight of the Madman" description="The lost mind&apos;s thoughts grant him unusual intuitive ability. He gains a bonus to Perception and Sense Motive equal to 1/2 his class level (minimum +1). This ability replaces trapfinding." compset="ClSpecial" summary="Gain a bonus to Perception or Sense Motive.">
    <usesource source="pPsiUn"/>
    <eval phase="PostLevel" priority="10000"><![CDATA[
      ~ If we're not shown, just get out now
      doneif (tagis[Helper.ShowSpec] = 0)

      ~ If we're disabled, do nothing
      doneif (tagis[Helper.SpcDisable] <> 0)

      ~ Only do it for the first copy.
      doneif (tagis[Helper.FirstCopy] = 0)

      ~ our bonus is level /2, min 1
      field[abValue].value += maximum(round(field[xAllLev].value / 2,0,-1),1)
      field[livename].text = field[thingname].text & " " & signed(field[abValue].value)

      #skillbonus[skPercep] += field[abValue].value
      #skillbonus[skSenseMot] += field[abValue].value]]></eval>
    </thing>
  <thing id="cPUDecSec" name="Decipher Secrets" description="The lost mind&apos;s glimpse into the void has allowed him to see the patterns in all writing, granting him a bonus on Linguistics checks to decipher a writing equal to his class level. This ability replaces trapmaker." compset="ClSpecial" summary="Gain a bonus to decipher writings.">
    <usesource source="pPsiUn"/>
    <eval phase="PostLevel" priority="10000"><![CDATA[
      ~ If we're not shown, just get out now
      doneif (tagis[Helper.ShowSpec] = 0)

      ~ If we're disabled, do nothing
      doneif (tagis[Helper.SpcDisable] <> 0)

      ~ Only do it for the first copy.
      doneif (tagis[Helper.FirstCopy] = 0)

      ~ our bonus is level
      field[abValue].value += field[xAllLev].value

      #situational[hero.child[skLinguist],signed(field[abValue].value) & " to decipher writings.",field[thingname].text]]]></eval>
    </thing>
  <thing id="cPUProtIns" name="Protection of Insanity" description="At 10th level, the lost mind&apos;s glimpse into the insanity of the void grants him a protection against effects that would otherwise alter his mind. The lost mind gains a bonus equal to his Intelligence modifier on any saving throw to avoid being confused or on the Intelligence check to escape a {i}maze{/i} or similar effect. This effectively means the lost mind adds his Intelligence modifier twice on the Intelligence check for {i}maze{/i} (once for a standard Intelligence check, once from protection from insanity). This ability replaces hide in plain sight." compset="ClSpecial" summary="+ INT bonus to avoid being confused or to escape a {i}maze{/i} or similar effect.">
    <usesource source="pPsiUn"/>
    <tag group="AbilType" tag="Super"/>
    </thing>
  <thing id="cPUSymVoid" name="Symbols of the Void" description="At 12th level, lost mind gains the ability to manifest the following spells as powers of the same level, even if he would not normally be able to manifest powers of that level. The lost mind&apos;s manifester level must be at least double the power level to manifest the spell (for example, to manifest {i}symbol of persuasion{/i}, the lost mind must have a cryptic manifester level of at least 12).{br}{br}\n5th - {i}Symbol of Sleep, Symbol of Pain{/i} \n6th - {i}Symbol of Persuasion{/i} \n7th - {i}Symbol of Stunning{/i} \n8th - {i}Symbol of Insanity, Symbol of Death{/i}\n \nThis ability replaces the insight and power known normally gained at 12th level." compset="ClSpecial">
    <usesource source="pPsiUn"/>
    <tag group="AbilType" tag="Super"/>
    <bootstrap thing="psSymSle5">
      <containerreq phase="First" priority="500"><![CDATA[count:Classes.Cryptic >= 10]]></containerreq>
      <autotag group="SpellType" tag="cHelpPU1"/>
      </bootstrap>
    <bootstrap thing="psSymPai5">
      <containerreq phase="First" priority="500"><![CDATA[count:Classes.Cryptic >= 10]]></containerreq>
      <autotag group="SpellType" tag="cHelpPU1"/>
      </bootstrap>
    <bootstrap thing="psSymPer6">
      <containerreq phase="First" priority="500"><![CDATA[count:Classes.Cryptic >= 12]]></containerreq>
      <autotag group="SpellType" tag="cHelpPU1"/>
      </bootstrap>
    <bootstrap thing="psSymStu7">
      <containerreq phase="First" priority="500"><![CDATA[count:Classes.Cryptic >= 14]]></containerreq>
      <autotag group="SpellType" tag="cHelpPU1"/>
      </bootstrap>
    <bootstrap thing="psSymIns8">
      <containerreq phase="First" priority="500"><![CDATA[count:Classes.Cryptic >= 16]]></containerreq>
      <autotag group="SpellType" tag="cHelpPU1"/>
      </bootstrap>
    <bootstrap thing="psSymDea8">
      <containerreq phase="First" priority="500"><![CDATA[count:Classes.Cryptic >= 16]]></containerreq>
      <autotag group="SpellType" tag="cHelpPU1"/>
      </bootstrap>
    </thing>
  <thing id="cPUInsDaD" name="Disrupt and Dismay" description="When the lost mind uses his disrupt pattern ability, the creature struck must make a successful Will save (DC 10 + 1/2 the cryptic&apos;s level + the cryptic&apos;s Intelligence modifier) or be shaken for a number of rounds equal to the lost mind&apos;s Intelligence modifier. This is a mind-affecting fear effect." compset="CustomSpec" uniqueness="unique">
    <usesource source="pPsiUn"/>
    <tag group="SpecSource" tag="cHelpPU1"/>
    <tag group="StandardDC" tag="aINT"/>
    <tag group="abSave" tag="WillNeg"/>
    <exprreq message="Lost Mind archetype required."><![CDATA[#hasarchetype[arPULstMnd] <> 0]]></exprreq>
    </thing>
  <thing id="cPUInsDDo" name="Disrupt and Disorient" description="When the lost mind uses his disrupt pattern ability, the creature struck must make a successful Will save (DC 10 + 1/2 the cryptic&apos;s level + the cryptic&apos;s Intelligence modifier) or be confused for a number of rounds equal to the lost mind&apos;s Intelligence modifier. Once targeted by this ability, a creature cannot be affected by it for 24 hours. This is a mind-affecting fear effect. The lost mind must be at least 8th level before selecting this insight." compset="CustomSpec" uniqueness="unique">
    <usesource source="pPsiUn"/>
    <tag group="SpecSource" tag="cHelpPU1"/>
    <tag group="StandardDC" tag="aINT"/>
    <tag group="abSave" tag="WillNeg"/>
    <exprreq message="Lost Mind archetype required."><![CDATA[#hasarchetype[arPULstMnd] <> 0]]></exprreq>
    <prereq message="Cryptic level 8 or higher required.">
      <validate><![CDATA[        var classcheck as string
        var levels as number

        classcheck = "Cryptic"

        call PUPreReqs

        validif (levels >= 8)]]></validate>
      </prereq>
    </thing>
  <thing id="cPUInsEntM" name="Enter My Mind" description="The lost mind gains {i}mindlink{/i} as a psi-like ability with a manifester level equal to the lost mind&apos;s manifester level usable a number of times per day equal to 3 + the lost mind&apos;s Intelligence modifier. If the target is unwilling and it fails the saving throw, it is shaken for a number of rounds equal to the lost mind&apos;s Intelligence modifier." compset="CustomSpec" uniqueness="unique">
    <usesource source="pPsiUn"/>
    <tag group="SpecSource" tag="cHelpPU1"/>
    <tag group="StandardDC" tag="aINT"/>
    <tag group="abSave" tag="WillNeg"/>
    <tag group="AbilType" tag="PsiLike"/>
    <exprreq message="Lost Mind archetype required."><![CDATA[#hasarchetype[arPULstMnd] <> 0]]></exprreq>
    </thing>
  <thing id="cPUInsGazB" name="Gaze From Beyond" description="By expending his psionic focus, the lost mind reveals the true depth of his insanity, inviting all those that meet his gaze to screamingly follow his path. For 1 round, the lost mind&apos;s disrupt pattern becomes a gaze effect and allows a Will save (DC 10 + 1/2 the lost mind&apos;s level + the lost mind&apos;s Intelligence modifier). Those that make the save are shaken for one round, while those that fail the save take damage from the disrupt pattern effect and are confused for one round." compset="CustomSpec" uniqueness="unique">
    <usesource source="pPsiUn"/>
    <tag group="SpecSource" tag="cHelpPU1"/>
    <tag group="StandardDC" tag="aINT"/>
    <tag group="abSave" tag="WillPart"/>
    <tag group="abAction" tag="PUExpFocus"/>
    <exprreq message="Lost Mind archetype required."><![CDATA[#hasarchetype[arPULstMnd] <> 0]]></exprreq>
    </thing>
  <thing id="cPUInsNiFl" name="Nightmare Made Flesh" description="The lost mind adds {i}form of doom{/i} to his list of powers known. In addition, the lost mind can manifest {i}form of doom{/i} once per day without paying its power point cost, but when used in this fashion the power cannot be augmented. The lost mind must be at least 16th level to select this insight." compset="CustomSpec" uniqueness="unique">
    <usesource source="pPsiUn"/>
    <tag group="SpecSource" tag="cHelpPU1"/>
    <tag group="StandardDC" tag="aINT"/>
    <tag group="abSave" tag="WillNeg"/>
    <bootstrap thing="puForDoom6">
      <containerreq phase="First" priority="500"><![CDATA[count:Classes.Cryptic >= 16]]></containerreq>
      <autotag group="SpellType" tag="cHelpPU1"/>
      <autotag group="Helper" tag="Free"/>
      </bootstrap>
    <exprreq message="Lost Mind archetype required."><![CDATA[#hasarchetype[arPULstMnd] <> 0]]></exprreq>
    <prereq message="Cryptic level 16 or higher required.">
      <validate><![CDATA[        var classcheck as string
        var levels as number

        classcheck = "Cryptic"

        call PUPreReqs

        validif (levels >= 16)]]></validate>
      </prereq>
    </thing>
  <thing id="cPUInsOvDi" name="Overwhelming Disruption" description="When the lost mind uses his disrupt pattern ability, the creature struck must make a Fortitude save (DC 10 + 1/2 the cryptic&apos;s level + the cryptic&apos;s Intelligence modifier) or be paralyzed for a number of rounds equal to the cryptic&apos;s Intelligence modifier. Once targeted by this ability, a creature cannot be affected by it for 24 hours. The lost mind must be at least 12th level before selecting this insight." compset="CustomSpec" uniqueness="unique">
    <usesource source="pPsiUn"/>
    <tag group="SpecSource" tag="cHelpPU1"/>
    <tag group="StandardDC" tag="aINT"/>
    <tag group="abSave" tag="WillNeg"/>
    <exprreq message="Lost Mind archetype required."><![CDATA[#hasarchetype[arPULstMnd] <> 0]]></exprreq>
    <prereq message="Cryptic level 12 or higher required.">
      <validate><![CDATA[        var classcheck as string
        var levels as number

        classcheck = "Cryptic"

        call PUPreReqs

        validif (levels >= 12)]]></validate>
      </prereq>
    </thing>
  <thing id="arPUPattBr" name="Pattern Breaker" description="A pattern is only as strong as its weakest link, and pattern breakers have learned to find that link and exploit it. These cryptics excel at disabling patterns or destroying them entirely." compset="ClassVary" uniqueness="unique">
    <fieldval field="srcPageNum" value="266"/>
    <fieldval field="srcBookInf" value="Ultimate Psionics"/>
    <arrayval field="cvCustTot" index="3" value="-1"/>
    <arrayval field="cvCustTot" index="5" value="-1"/>
    <arrayval field="cvCustTot" index="7" value="-1"/>
    <arrayval field="cvCustTot" index="9" value="-1"/>
    <arrayval field="cvCustTot" index="11" value="-1"/>
    <arrayval field="cvCustTot" index="13" value="-1"/>
    <arrayval field="cvCustTot" index="15" value="-2"/>
    <arrayval field="cvCustTot" index="17" value="-2"/>
    <arrayval field="cvCustTot" index="19" value="-2"/>
    <arrayval field="cvCustTot" index="1" value="-1"/>
    <usesource source="pPsiUn"/>
    <tag group="AbReplace" tag="cPUHiddenP"/>
    <tag group="AbReplace" tag="cPUSwiftTr"/>
    <tag group="ClVaryName" tag="AppParen"/>
    <tag group="ProductId" tag="HLCommunit"/>
    <bootstrap thing="cPUSundPat">
      <autotag group="ClSpecWhen" tag="2"/>
      </bootstrap>
    <bootstrap thing="cPUDisAura">
      <autotag group="ClSpecWhen" tag="16"/>
      </bootstrap>
    <bootstrap thing="cPUDisLock">
      <autotag group="ClSpecWhen" tag="2"/>
      </bootstrap>
    <bootstrap thing="cPUDisWA">
      <autotag group="ClSpecWhen" tag="6"/>
      </bootstrap>
    <link linkage="varies" thing="cHelpPU1"/>
    </thing>
  <thing id="cPUDisLock" name="Disable Lock" description="A 2nd level pattern breaker gains the ability to disable a lock a number of times per day equal to 3 + her Intelligence modifier. Using this ability is a standard action with a range of 30 ft. The pattern breaker makes a manifester level check with a +10 bonus against the DC of the lock. If the check is successful, the pattern breaker successfully opens the lock. This replaces the insight normally gained at 2nd level, but counts as having the insight class feature for the purposes of prerequisites." compset="ClSpecial">
    <fieldval field="abRange" value="30"/>
    <usesource source="pPsiUn"/>
    <tag group="ChargeAttr" tag="aINT"/>
    <tag group="Usage" tag="Day"/>
    <tag group="ChargeCalc" tag="AttrUses3"/>
    <tag group="abRange" tag="Feet"/>
    <tag group="AbilType" tag="Super"/>
    </thing>
  <thing id="cPUSundPat" name="Sunder Pattern" description="At 2nd level, the pattern breaker gains a bonus on sunder attempts equal to half her class level. This replaces hidden pattern." compset="ClSpecial">
    <usesource source="pPsiUn"/>
    </thing>
  <thing id="cPUDisWA" name="Disable Weapon or Armor" description="Starting at 6th level, the pattern breaker has learned to temporarily suppress the magical qualities of a weapon or armor with a touch. As a melee touch attack that does not provoke attacks of opportunity, the pattern breaker can target one magical weapon or armor on a creature. If the attack is successful, the pattern breaker makes a manifester level check against a DC of 11 + the manifester level of the item. If the manifester level check is successful, all magical or psionic qualities of the item are suppressed for a number of rounds equal to the pattern breaker&apos;s Intelligence modifier. There is no limit to the number of items the pattern breaker can affect, although she can only affect one per use. This ability replaces swift trapper." compset="ClSpecial">
    <usesource source="pPsiUn"/>
    <tag group="AbilType" tag="Super"/>
    </thing>
  <thing id="cPUDisAura" name="Disabling Aura" description="Starting at 16th level, the pattern breaker can expend her psionic focus as full round action to suppress only harmful effects around her in a 5 ft. aura for a number of rounds equal to her Intelligence modifier. This functions similar to {i}null psionics field{/i}, but it only affects harmful effects. This includes suppressing magical or psionic weapons being used in attacks against the pattern breaker, although such items would still work against other targets. The pattern breaker does not need to be aware of the effect to be suppressed. This ability replaces the insight normally gained at 16th level." compset="ClSpecial">
    <usesource source="pPsiUn"/>
    <tag group="abAction" tag="FullRd"/>
    <tag group="abAction" tag="PUExpFocus"/>
    </thing>
  <thing id="cHelpPUA" name="Soul Archer" compset="Class" uniqueness="unique">
    <fieldval field="cHDSides" value="10"/>
    <fieldval field="cAbbr" value="SoA"/>
    <fieldval field="cSpecSing" value="Ranged Blade Skill"/>
    <fieldval field="cSkills" value="4"/>
    <fieldval field="srcPageNum" value="379"/>
    <fieldval field="srcBookInf" value="Ultimate Psionics"/>
    <arrayval field="cCustTot" index="6" value="4"/>
    <arrayval field="cCustTot" index="8" value="5"/>
    <arrayval field="cCustTot" index="10" value="6"/>
    <arrayval field="cBonFtTot" index="1" value="1"/>
    <arrayval field="cCustTot" index="0" value="1"/>
    <arrayval field="cCustTot" index="2" value="2"/>
    <arrayval field="cCustTot" index="4" value="3"/>
    <usesource source="pPsiUn"/>
    <tag group="cFort" tag="Poor"/>
    <tag group="AllowCust" tag="cHelpSkn"/>
    <tag group="cWill" tag="Poor"/>
    <tag group="ClassSkill" tag="skPercep"/>
    <tag group="ClassSkill" tag="skStealth"/>
    <tag group="ClassSkill" tag="skSurvival"/>
    <tag group="cRef" tag="Good"/>
    <tag group="cAttack" tag="Good"/>
    <tag group="Classes" tag="PUSoulArc" name="Soul Archer"/>
    <tag group="ProductId" tag="HLCommunit"/>
    <bootstrap thing="cPUARaPsSt">
      <autotag group="ClSpecWhen" tag="4"/>
      </bootstrap>
    <bootstrap thing="cPUARefSho">
      <autotag group="ClSpecWhen" tag="6"/>
      </bootstrap>
    <bootstrap thing="cPUAPhaSho">
      <autotag group="ClSpecWhen" tag="8"/>
      </bootstrap>
    <bootstrap thing="cPUAEmpSho">
      <autotag group="ClSpecWhen" tag="10"/>
      </bootstrap>
    <bootstrap thing="cPUAMinBla">
      <autotag group="ClSpecWhen" tag="1"/>
      </bootstrap>
    <bootstrap thing="cPUAFoMiAr">
      <autotag group="ClSpecWhen" tag="1"/>
      </bootstrap>
    <bootstrap thing="cPUARanFea">
      <autotag group="ClSpecWhen" tag="2"/>
      </bootstrap>
    <eval phase="Final" priority="999999999 "><![CDATA[
      ~ Adjust expression to remove specific blade skills
      field[cCstSpExpr].text &= " & !NotClExpr.cHelpPUA"]]></eval>
    </thing>
  <thing id="cPUSoulArc" name="Soul Archer" description="Although the typical soulknife wields a melee weapon from distilled psychic energy, there are some who choose to develop skills with ranged attacks. These soul archers, as they are sometimes known, excel at turning the power of their mind into arrows of energy. While many soul archers are capable wielding a mind blade, they are far more dangerous when they can shoot their arrows of energy.\n\nSome soul archers choose to wield what resemble bows of energy, while others simply fire bolts from their hands, yet all are equally dangerous despite their varied appearance. The more skilled among them have even learned to react to take advantage of momentary distraction to fire even within close range.\n\n{b}Role:{/b} Soul archers are best suited as ranged combatants, although they have the durability to handle enemies directly for long enough to get back to a safe distance. Soul archers are at their best when they have companions to distract or block enemies from approaching, so that they can hurl death from afar.\n\n{b}Alignment:{/b} There are all variety of soul archers, and thus a soul archer can be of any alignment.\n\n{b}Note:{/b} Although the class features mentioned below mention the mind blade, for characters who form a mind bolt, such as the soulbolt archetype, the effects apply equally to them as well." compset="ClassLevel" maxlimit="10">
    <usesource source="pPsiUn"/>
    <tag group="ClassType" tag="Prestige"/>
    <tag group="ProductId" tag="HLCommunit"/>
    <bootstrap thing="cHelpPUA"></bootstrap>
    <link linkage="helper" thing="cHelpPUA"/>
    <exprreq message="Point-Blank Shot feat required."><![CDATA[#hasfeat[fPointBlnk] <> 0]]></exprreq>
    <exprreq message="Base attack bonus +5 required."><![CDATA[#BAB[] >= 5]]></exprreq>
    <prereq message="Enhanced Mind Blade or Enhanced Mind Bolt class feature required.">
      <validate><![CDATA[
        validif (#hasability[cSknEnhMB] <> 0)
        validif (#hasability[cPUEnhMBlt] <> 0)]]></validate>
      </prereq>
    </thing>
  <thing id="cPUAFoMiAr" name="Form Mind Arrow" description="A soul archer can choose to shape her mind blade as a semisolid arrow of psychic energy and forms a mind arrow as a free action. If the soul archer has the ability to make multiple attacks, he can create multiple mind arrows as part of an attack. The soul archer must have one hand free to create and fire a mind arrow.\n\nThe arrow is identical in all ways (except visually) to an arrow shot from a composite longbow of a size appropriate to the soul archer. The soul archer adds his Wisdom modifier to the damage for attacks made with mind arrows, instead of his Strength modifier. The mind arrow receives all the benefits normally applied to the mind blade, including the ability to use psychic strike, any enhancement bonus or weapon special abilities, or feats that apply to the mind blade, although any meleespecific options are non-functional while in mind arrow form. Ranged feats that apply to ranged attacks, such as Point-Blank Shot, apply to the mind arrow. Any weapon special abilities that only work on melee weapons that apply to the mind blade are inactive while in mind arrow form until the soulknife spends the normal amount of time to reassign the special abilities of the mind blade." compset="ClSpecial" summary="Shape your mind blade into a semisolid arrow of psychic energy.">
    <bootstrap thing="zPUMndBld4"></bootstrap>
    <bootstrap thing="iPUMndArro">
      <containerreq phase="First" priority="99">hero#MindBlade.Arrow</containerreq>
      </bootstrap>
    <eval phase="Final" priority="50000"><![CDATA[
      ~ If we're not shown, just get out now
      doneif (tagis[Helper.ShowSpec] <> 1)
      ~ If we've been Disabled, get out now
      doneif (tagis[Helper.SpcDisable] <> 0)

      #appenddesc[cSknMindBl,"{b}Form Mind Arrow:{/b} You can shape your mind blade into a semisolid arrow of psychic energy."]]]></eval>
    </thing>
  <thing id="cPUAMinBla" name="Mind Blade" description="At each level indicated, the soul archer increases his soulknife level for the purposes of his Enhanced Mind Blade class feature. This does not grant the soul archer increased soulknife level for any other purposes (qualifying for blade skills, psychic strike, etc.), but see below." compset="ClSpecial" summary="Increase your Enhanced Mind Blade class feature.">
    <eval phase="PreLevel" priority="1000"><![CDATA[
      ~ We're earlier than the normal test for whether we've reached the correct level, so we'll recreate that test here
      doneif (root.field[cTotalLev].value + field[xExtraLev].value + field[xEffectLev].value < tagvalue[ClSpecWhen.?])

      ~ Increase the enhanced mind blade class feature
      hero.childfound[cSknEnhMB].field[xExtraLev].value += (root.field[cTotalLev].value -1)]]></eval>
    </thing>
  <thing id="cPUARanFea" name="Ranged Feat" description="A 2nd level soul archer gains a bonus feat of his choice. The feat chosen must have Point-Blank Shot as a prerequisite in order to be selected.{br}{br}{b}Note:{/b} When selecting your bonus feat no validation is in place to check for the Point-Blank Shot as a prerequisite." compset="ClSpecial" summary="Gain a bonus feat that has Point-Blank Shot as a prerequisite."></thing>
  <thing id="cPUARaPsSt" name="Ranged Psychic Strike" description="At 4th level and again at 8th level, the soul archer&apos;s psychic strike damage when his mind blade is in mind arrow form increases by one die of damage. If the soul archer does not have the psychic strike ability, he gains the psychic strike ability, dealing 1d8 points of damage at 4th level and 2d8 points of damage at 8th level, but may only use this ability when his mind blade is in mind arrow form.{br}{br}{b}Note:{/b} If you don&apos;t have the Psychic Strike ability this will NOT currently give it to you. But it will correctly increase the damage when using a Mind Arrow." compset="ClSpecial" summary="Increase your Mind Arrows psychic strike damage.">
    <fieldval field="abValue2" value="8"/>
    <eval phase="PostLevel" priority="10000"><![CDATA[
      ~ Set the list name
      field[listname].text = field[thingname].text & " " & signed(field[xIndex].value) & "d" & field[abValue2].value

      ~ If we're not shown, just get out now
      doneif (tagis[Helper.ShowSpec] <> 1)
      ~ if we've been disabled, get out now
      doneif (tagis[Helper.SpcDisable] <> 0)

      field[abValue].value += field[xCount].value
      field[livename].text = field[thingname].text & " " & signed(field[abValue].value) & "d" & field[abValue2].value

      ~ If we are mind arrow form then give a bonus to damage with
      ~ Psychic Strike.
      if (hero.tagis[MindBlade.Arrow] = 1) then
        #value[cSknPsyStr] += field[abValue].value
      endif]]></eval>
    </thing>
  <thing id="cPUARefSho" name="Reflexive Shot" description="At 6th level, a soul archer can make attacks of opportunity with his mind arrows. The soul archer still only threatens squares he could reach with his mind blade or with unarmed strikes, but can still only make one attack of opportunity per round (unless he has additional sources of attacks of opportunity such as the Combat Reflexes feat)." compset="ClSpecial" summary="Make AoO&apos;s with your mind arrow.">
    <tag group="AbilType" tag="Extra"/>
    <tag group="ProductId" tag="HLCommunit"/>
    </thing>
  <thing id="cPUAPhaSho" name="Phasing Shot" description="Once a soul archer has achieved 8th level, he can expend his psionic focus and make a single ranged touch attack as a standard action and launch a mind arrow at a target within range. The mind arrow travels to the target in a straight path, passing through any nonmagical or nonpsionic barrier or wall on its way. (A {i}wall of force{/i}, {i}wall of fire{/i}, {i}wall of ectoplasm{/i}, or the like stops a mind arrow.) This ability negates cover and concealment, but otherwise the attack is rolled normally." compset="ClSpecial" summary="Expend your focus to make a ranged touch attack with your mind arrow.">
    <tag group="ProductId" tag="HLCommunit"/>
    <tag group="AbilType" tag="Super"/>
    <tag group="abAction" tag="PUExpFocus"/>
    <tag group="abAction" tag="Standard"/>
    </thing>
  <thing id="cPUAEmpSho" name="Empowered Shot" description="At 10th level, the soul archer can expend his psionic focus to grant the effect of a single feat that requires focus expenditure to apply to all attacks in a full attack sequence that round. The feat must only work on ranged attacks." compset="ClSpecial" summary="Expend your focus to grant the effect of a feat that requires focus expenditure to apply to full attack.">
    <tag group="ProductId" tag="HLCommunit"/>
    <tag group="AbilType" tag="Super"/>
    <tag group="abAction" tag="PUExpFocus"/>
    </thing>
  <thing id="arPUFeaFle" name="Fear in Flesh" description="Fear is a powerful emotion, one which dreads use to great effect. Some dreads learn to use the power of fear to alter their own physical form, becoming nightmares made real, beings referred to as fear in flesh. These individuals become nightmares brought to life, striking fear deep into the hearts of those unfortunate enough to face them." compset="ClassVary" uniqueness="unique">
    <fieldval field="srcPageNum" value="267"/>
    <fieldval field="srcBookInf" value="Ultimate Psionics"/>
    <arrayval field="cvCustTot" index="7" value="-1"/>
    <arrayval field="cvCustTot" index="9" value="-1"/>
    <arrayval field="cvCustTot" index="11" value="-1"/>
    <arrayval field="cvCustTot" index="13" value="-1"/>
    <arrayval field="cvCustTot" index="15" value="-1"/>
    <arrayval field="cvCustTot" index="17" value="-1"/>
    <arrayval field="cvCustTot" index="3" value="-1"/>
    <arrayval field="cvCustTot" index="5" value="-1"/>
    <usesource source="pPsiUn"/>
    <tag group="AbReplace" tag="cPUChanTer"/>
    <tag group="AbReplace" tag="cPUDevaTou"/>
    <tag group="fDisable" tag="fWepMart"/>
    <tag group="ProductId" tag="HLCommunit"/>
    <bootstrap thing="cPUStrFear">
      <autotag group="ClSpecWhen" tag="8"/>
      </bootstrap>
    <bootstrap thing="cPUStrFear">
      <autotag group="ClSpecWhen" tag="12"/>
      </bootstrap>
    <bootstrap thing="cPUStrFear">
      <autotag group="ClSpecWhen" tag="16"/>
      </bootstrap>
    <bootstrap thing="cPUStrFear">
      <autotag group="ClSpecWhen" tag="20"/>
      </bootstrap>
    <bootstrap thing="cPUStrFea2">
      <autotag group="ClSpecWhen" tag="12"/>
      </bootstrap>
    <bootstrap thing="cPUFeaMFle">
      <autotag group="ClSpecWhen" tag="1"/>
      </bootstrap>
    <bootstrap thing="cPUIntStr">
      <autotag group="ClSpecWhen" tag="3"/>
      </bootstrap>
    <bootstrap thing="cPUStrFear">
      <autotag group="ClSpecWhen" tag="4"/>
      </bootstrap>
    <link linkage="varies" thing="cHelpPU2"/>
    <eval phase="PreLevel" priority="10000"><![CDATA[#appenddesc[cPUTerrors,"{b}Fear In Flesh:{/b} The fear in flesh can use his terrors with natural attacks, since he does not have the devastating touch ability."]]]></eval>
    </thing>
  <thing id="cPUFeaMFle" name="Fear Made Flesh" description="The fear in flesh can spend 1 hour in meditation, preparing his body for a physical transformation into a frightening creature. Once the fear in flesh has finished his meditation, he can activate the transformation at any time as a standard action. Once activated, the fear in flesh is under the effects of {i}bite of the wolf{/i} and {i}claws of the beast{/i}, with a manifester level equal to his class level. This effect lasts 10 minutes per class level. Once the effect ends, the fear in flesh must spend another hour in meditation before he can transform again. This ability replaces devastating touch." compset="ClSpecial">
    <usesource source="pPsiUn"/>
    <tag group="User" tag="Activation"/>
    <tag group="AbilType" tag="Super"/>
    <bootstrap thing="puBiteWlf1">
      <containerreq phase="First" priority="100"><![CDATA[fieldval:abilActive <> 0]]></containerreq>
      </bootstrap>
    <bootstrap thing="puClawBea1">
      <containerreq phase="First" priority="100"><![CDATA[fieldval:abilActive <> 0]]></containerreq>
      </bootstrap>
    </thing>
  <thing id="cPUIntStr" name="Intimidating Strike" description="A fear in flesh of 3rd level can expend his psionic focus after making a successful natural attack to gain a free Intimidate check against the creature struck. This ability replaces channel terror." compset="ClSpecial">
    <usesource source="pPsiUn"/>
    <tag group="User" tag="Activation"/>
    <tag group="AbilType" tag="Super"/>
    <tag group="abAction" tag="PUExpFocus"/>
    </thing>
  <thing id="cPUStrFear" name="Strengthened By Fear" description="A fear in flesh of 4th level can channel the fear of those around him into a physical boost to his own form. Once per day as a swift action, the fear in flesh can gain a +1 insight bonus to his natural armor and a +2 insight bonus to one physical ability score (Strength, Dexterity, or Constitution) for a number of rounds equal to his dread level. The fear in flesh can only use this ability if there is a creature within the fear in flesh&amp;apos;s line of sight with the shaken, frightened, or panicked condition.\n\nAt 8th level, the effect grants a +2 natural armor bonus, a +4 insight bonus to one physical ability score (Strength, Dexterity, or Constitution), and a +2 insight bonus to a second physical ability score.\n\nAt 12th level, the effect grants a +3 natural armor bonus, a +6 insight bonus to one physical ability score (Strength, Dexterity, or Constitution), a +4 insight bonus to a second physical ability score, and a +2 insight bonus to the third physical ability score.\n\nAt 8th, 12th, 16th, and 20th level, the fear in flesh gains an additional daily use of this ability.\n\nThis ability replaces the terror gained at 4th level.\n\n{B}Note:{/b} The first drop down is always your highest bonus. The second chooser is the next highest ability.  At 12th level a new ability will appear that lets you choose the third ability score which is the lowest ability bonus." compset="ClSpecial">
    <fieldval field="actName" value="Active"/>
    <fieldval field="abValue" value="2"/>
    <fieldval field="abValue4" value="1"/>
    <usesource source="pPsiUn"/>
    <tag group="AbilType" tag="Super"/>
    <tag group="User" tag="Activation"/>
    <tag group="Helper" tag="ActivMenu"/>
    <tag group="ChooseSrc1" tag="Hero"/>
    <tag group="abDuration" tag="Round"/>
    <tag group="SbNamePar" tag="IncDurati"/>
    <tag group="SbNamePar" tag="IncUses"/>
    <tag group="User" tag="Tracker"/>
    <tag group="Usage" tag="Day"/>
    <eval phase="PostLevel" priority="10000"><![CDATA[      ~ abValue  = 1st ability score
      ~ abValue2 = 2nd ability score
      ~ abValue3 = 3rd ability score
      ~ abValue4 = Natural AC bonus

      ~ Set the list name
      field[listname].text = field[name].text & " (" & field[xIndex].value & tagnames[Usage.?] & ")"

      ~ If we're not shown, just get out now!
      doneif (tagis[Helper.ShowSpec] = 0)
      ~ if we've been disabled, get out now!
      doneif (tagis[Helper.SpcDisable] = 1)
      ~ If not the first copy, get out now!
      doneif (tagis[Helper.FirstCopy] = 0)

      ~ Set the number of times we can be used based on the number
      ~ of times we are bootstrapped to the class.
      ~ Note: Livename will be taken care of for us by HL.
      field[trkMax].value += field[xCount].value

      ~ Let only the first special choose a physical attribute
      field[usrCandid1].text = "component.BaseAttr & AttribCat.Physical"

      ~ At 8th level increase bonuses and and allow a 2nd physical ability score
      if (field[xCount].value >= 2) then
        field[abValue].value += 2
        field[abValue2].value += 2
        field[abValue4].value += 1
        field[usrCandid2].text = "component.BaseAttr & AttribCat.Physical"
        endif

      ~ At 12th level increase bonuses and and allow a 3rd physical ability score
      if (field[xCount].value >= 3) then
        field[abValue].value  += 2
        field[abValue2].value += 2
        field[abValue3].value += 2
        field[abValue4].value += 1
        endif

      ~ Place our Has Ability tag onto the ability score so that we can
      ~ validate that the same ability score is not chosen more than once.
      perform field[usrChosen1].chosen.assign[HasAbility.cPUStrFear]
      perform field[usrChosen2].chosen.assign[HasAbility.cPUStrFear]

      ~ If not active get out now!
      doneif (field[abilActive].value = 0)

      ~ If 1st ability score chosen then give bonus
      if (field[usrChosen1].ischosen <> 0) then
        #applybonus[BonInsight,field[usrChosen1].chosen,field[abValue].value]
        endif

      ~ If 2nd ability score chosen then give bonus
      if (field[usrChosen2].ischosen <> 0) then
        #applybonus[BonInsight,field[usrChosen2].chosen,field[abValue2].value]
        endif]]></eval>
    <prereq message="You can not pick the same ability score more than once.">
      <validate><![CDATA[        ~ If we are not a pick then we valid
        validif (@ispick = 0)

        var nValid as number
        ~ Assume valid unless we find otherwise
        nValid = 1

        ~ If 1st ability score has too many tags then error
        if (altpick.field[usrChosen1].chosen.tagcount[HasAbility.cPUStrFear] > 1) then
          nValid = 0
          endif

        ~ If 2nd ability score has too many tags then error
        if (altpick.field[usrChosen2].chosen.tagcount[HasAbility.cPUStrFear] > 1) then
          nValid = 0
          endif

        ~ If we are a one then we are valid
        validif (nValid = 1)]]></validate>
      </prereq>
    </thing>
  <thing id="arPUFeaMon" name="Fearmonger" description="For the typical dread, their force of personality and ability to influence others is what powers their ability to harness fear. For the fearmonger, their intuition and insight allows them to instead identify the darkest fears of a creature and bring them to life.\n\n{b}Power Points/Day:{/b} The fearmonger determines bonus power points based upon her Wisdom modifier instead of her Charisma modifier.\n\n{b}Powers Known:{/b} The fearmonger determines the difficulty class of her powers based upon her Wisdom modifier instead of her Charisma modifier.\n\n{b}Maximum Power Level Known:{/b} The fearmonger determines the maximum power level she can manifest based upon her Wisdom modifier instead of her Charisma modifier.\n\n{b}Note:{/b} This archetype when changing from Cha to Wis causes the ability score instead of the modifier to be used to calculate the DC of powers.  This is a base LW bug and has been reported to them to fix." compset="ClassVary" uniqueness="unique">
    <fieldval field="srcPageNum" value="267"/>
    <fieldval field="srcBookInf" value="Ultimate Psionics"/>
    <arrayval field="cvCustTot" index="3" value="-1"/>
    <arrayval field="cvCustTot" index="5" value="-1"/>
    <arrayval field="cvCustTot" index="7" value="-1"/>
    <arrayval field="cvCustTot" index="9" value="-1"/>
    <arrayval field="cvCustTot" index="11" value="-1"/>
    <arrayval field="cvCustTot" index="13" value="-1"/>
    <arrayval field="cvCustTot" index="15" value="-1"/>
    <arrayval field="cvCustTot" index="17" value="-1"/>
    <arrayval field="cvPsiPowTo" index="8" value="-1"/>
    <arrayval field="cvBonFtMod" index="8" value="-1"/>
    <arrayval field="cvBonFtMod" index="12" value="-2"/>
    <usesource source="pPsiUn"/>
    <tag group="AbReplace" tag="cPUFearIns"/>
    <tag group="PsiAttr" tag="aWIS"/>
    <tag group="ProductId" tag="HLCommunit"/>
    <tag group="ClVaryName" tag="AppParen"/>
    <bootstrap thing="cPUInsKey">
      <autotag group="ClSpecWhen" tag="1"/>
      </bootstrap>
    <bootstrap thing="cPUHorReve">
      <autotag group="ClSpecWhen" tag="13"/>
      </bootstrap>
    <bootstrap thing="cPUEnerFea">
      <autotag group="ClSpecWhen" tag="9"/>
      </bootstrap>
    <bootstrap thing="cPUDrinkFe">
      <autotag group="ClSpecWhen" tag="4"/>
      </bootstrap>
    <link linkage="varies" thing="cHelpPU2"/>
    </thing>
  <thing id="cPUStrFea2" name="Strengthened By Fear" description="At 12th level, the effect grants a +3 natural armor bonus, a +6 insight bonus to one physical ability score (Strength, Dexterity, or Constitution), a +4 insight bonus to a second physical ability score, and a +2 insight bonus to the third physical ability score." compset="ClSpecial" summary="3rd physical ability score chooser.">
    <fieldval field="actName" value="Active"/>
    <usesource source="pPsiUn"/>
    <tag group="Helper" tag="ActivMenu"/>
    <tag group="ChooseSrc1" tag="Hero"/>
    <tag group="AbilType" tag="Super"/>
    <eval phase="PostLevel" priority="11000"><![CDATA[      ~ If we're not shown, just get out now!
      doneif (tagis[Helper.ShowSpec] = 0)
      ~ If we've been disabled, get out now!
      doneif (tagis[Helper.SpcDisable] = 1)

      field[usrCandid1].text = "component.BaseAttr & AttribCat.Physical"

      ~ Get the the 3rd ability score bonus
      field[abValue].value += #value3[cPUStrFear]

      ~ Place our Has Ability tag onto the ability score so that we can
      ~ validate that the same ability score is not chosen more than once.
      perform field[usrChosen1].chosen.assign[HasAbility.cPUStrFear]

      ~ If main ability not active get out now!
      doneif (hero.tagis[Activated.cPUStrFear] = 0)
      ~ If nothing chosen get out now
      doneif (field[usrChosen1].ischosen = 0)

      ~ Give insight bonus to the chosen ability score
      #applybonus[BonInsight,field[usrChosen1].chosen,field[abValue].value]]]></eval>
    <prereq message="You can not pick the same ability score more than once.">
      <validate><![CDATA[        ~ If we are not a pick then we valid
        validif (@ispick = 0)

        var nValid as number
        ~ Assume valid unless we find otherwise
        nValid = 1

        ~ If 1st ability score has too many tags then error
        if (altpick.field[usrChosen1].chosen.tagcount[HasAbility.cPUStrFear] > 1) then
          nValid = 0
          endif

        ~ If 2nd ability score has too many tags then error
        if (altpick.field[usrChosen2].chosen.tagcount[HasAbility.cPUStrFear] > 1) then
          nValid = 0
          endif

        ~ If we are a one then we are valid
        validif (nValid = 1)]]></validate>
      </prereq>
    </thing>
  <thing id="cPUInsKey" name="Insight is Key" description="The fearmonger adds her Wisdom modifier to Intimidate checks instead of her Charisma modifier. This ability replaces fearsome insight." compset="ClSpecial" summary="Use Wisdom modifier for Intimidate Skill.">
    <usesource source="pPsiUn"/>
    <eval phase="PreLevel" priority="10000">perform hero.child[skIntim].assign[SkillOver.aWIS]</eval>
    </thing>
  <thing id="cPUDrinkFe" name="Drink Fear" description="Starting at 4th level, the fearmonger gains a number of temporary hit points equal to her class level whenever using her devastating touch ability on a shaken, frightened, or panicked target. These temporary hit points last for one minute. This ability replaces the terror normally gained at 4th level." compset="ClSpecial">
    <usesource source="pPsiUn"/>
    <tag group="AbilType" tag="Super"/>
    </thing>
  <thing id="cPUEnerFea" name="Energizing Fear" description="Once a fearmonger has reached 9th level, when the fearmonger uses her devastating touch ability, she gains an insight bonus to her AC and saves equal to half her Wisdom modifier and the temporary hit points gained from her drink fear ability increase to two hit points per class level. This ability replaces the bonus feat and power known normally gained at 9th level." compset="ClSpecial">
    <usesource source="pPsiUn"/>
    </thing>
  <thing id="cPUHorReve" name="Horrid Revelation" description="At 13th level, when the fearmonger uses her devastating touch and already has temporary hit points from her drink fear ability, she can sacrifice all of those temporary hit points to cause the target of her devastating touch ability to become staggered and shaken unless it makes a successful save (DC 10 + 1/2 dread level + Wisdom modifier). This effect lasts one round per temporary hit point sacrificed. The fearmonger does not gain temporary hit points from this use of devastating touch. This ability replaces the bonus feat normally gained at 13th level." compset="ClSpecial">
    <usesource source="pPsiUn"/>
    <tag group="AbilType" tag="Super"/>
    </thing>
  <thing id="cPUTelLash" name="Telepathic Lash" description="The nightmare constructor gains {i}telepathic lash{/i} as a talent. This ability replaces talents." compset="ClSpecial">
    <usesource source="pPsiUn"/>
    <tag group="ProductId" tag="HLCommunit"/>
    <bootstrap thing="puTelLash0">
      <autotag group="SpellSort" tag="cHelpPU2"/>
      <autotag group="SpellType" tag="cHelpPU2"/>
      <autotag group="Helper" tag="Free"/>
      </bootstrap>
    <eval phase="PostLevel" priority="10000"><![CDATA[
      ~ If we're not shown, just get out now!
      doneif (tagis[Helper.ShowSpec] = 0)

      ~ if we've been disabled, get out now!
      doneif (tagis[Helper.SpcDisable] = 1)

      hero.child[cHelpPU2].field[cPsiSPowMa].value = 0]]></eval>
    </thing>
  <thing id="cPUHorror" name="Horror" description="A nightmare constructor is able to form a creature created from distilled fears and nightmares. Creating a horror takes one minute of concentration to complete and the horror remains until dismissed by the nightmare constructor.\n\nThis horror functions as a summoner&apos;s eidolon using the nightmare constructor&apos;s class level as the summoner level, with the following exceptions. A horror is treated as a construct for the purposes of effects related to its type, such as favored enemy. Commanding a horror is the same as commanding an astral construct. A horror disperses if the nightmare constructor is rendered unconscious or dies.\n\nThe nightmare constructor can allow his horror to use his terrors, but such uses still count against his daily limit. At 3rd level, the nightmare constructor can also allow his horror to utilize his channel terrors ability.\n\nThis ability replaces devastating touch." compset="ClSpecial">
    <usesource source="pPsiUn"/>
    <tag group="AbilType" tag="Super"/>
    <tag group="Helper" tag="ShowStatbl"/>
    <tag group="Helper" tag="SpecUp"/>
    <tag group="ProductId" tag="HLCommunit"/>
    <eval phase="Render" priority="10000"><![CDATA[
      doneif (hero.childlives[cEidolon] = 0)

      if (empty(hero.childfound[cEidolon].minion.actorname) = 0) then
        field[sbName].text = lowercase(field[thingname].text) & " (named " & hero.childfound[cEidolon].minion.actorname & ")"
        endif]]></eval>
    </thing>
  <thing id="arPUNimBla" name="Nimble Blade" description="Raw power is not the only way to overcome enemies in melee, and nimble blades are the proof of that. These soulknives value finesse instead of power to make deadly melee attacks." compset="ClassVary" uniqueness="unique">
    <fieldval field="srcPageNum" value="283"/>
    <fieldval field="srcBookInf" value="Ultimate Psionics"/>
    <arrayval field="cvCustTot" index="3" value="-1"/>
    <arrayval field="cvCustTot" index="5" value="-1"/>
    <arrayval field="cvCustTot" index="7" value="-1"/>
    <arrayval field="cvCustTot" index="9" value="-1"/>
    <arrayval field="cvCustTot" index="11" value="-1"/>
    <arrayval field="cvCustTot" index="13" value="-1"/>
    <arrayval field="cvCustTot" index="15" value="-1"/>
    <arrayval field="cvCustTot" index="17" value="-1"/>
    <arrayval field="cvCustTot" index="19" value="-1"/>
    <arrayval field="cvBonFtMod" index="0" value="-1"/>
    <arrayval field="cvCustTot" index="1" value="-1"/>
    <usesource source="pPsiUn"/>
    <tag group="Helper" tag="NoPathSoc"/>
    <tag group="fDisable" tag="fArmMedium"/>
    <tag group="fDisable" tag="fArmShield"/>
    <tag group="ProductId" tag="HLCommunit"/>
    <bootstrap thing="cPUNBPirSt">
      <autotag group="ClSpecWhen" tag="2"/>
      </bootstrap>
    <bootstrap thing="cPUNBAgBla">
      <autotag group="ClSpecWhen" tag="7"/>
      </bootstrap>
    <bootstrap thing="cPUNBAdaFo">
      <autotag group="ClSpecWhen" tag="10"/>
      </bootstrap>
    <bootstrap thing="cPUNBMinFi">
      <autotag group="ClSpecWhen" tag="1"/>
      </bootstrap>
    <bootstrap thing="cPUNBWFin">
      <autotag group="ClSpecWhen" tag="1"/>
      </bootstrap>
    <link linkage="varies" thing="cHelpSkn"/>
    <eval phase="PreLevel" priority="100000"><![CDATA[~ Disable the 7th level Enhanced Mind Blade only
perform hero.findchild[BaseClSpec,"thingid.cSknEnhMB & SpecSource.cHelpSkn & ClSpecWhen.7"].assign[Helper.SpcDisable]
perform hero.findchild[BaseClSpec,"thingid.cSknEnhMB & SpecSource.cHelpSkn & ClSpecWhen.7"].assign[Helper.SpcReplace]]]></eval>
    </thing>
  <thing id="cPUNBWFin" name="Weapon Finesse" description="A nimble blade gains the Weapon Finesse feat as a bonus feat at 1st level. This replaces the bonus feat normally gained at 1st level." compset="ClSpecial">
    <tag group="Helper" tag="SpecUp" name="SpecUp" abbrev="SpecUp"/>
    <tag group="ProductId" tag="HLCommunit"/>
    <bootstrap thing="fWepFin"></bootstrap>
    </thing>
  <thing id="cPUNBMinFi" name="Mind Blade Finesse" description="A 1st level nimble blade gains the Mind Blade Finesse blade skill*. This replaces proficiency with shields and medium armor." compset="ClSpecial">
    <usesource source="pPsiUn"/>
    <tag group="Helper" tag="SpecUp" name="SpecUp" abbrev="SpecUp"/>
    <bootstrap thing="cSknBSMinF">
      <autotag group="CustTaken" tag="cHelpSkn"/>
      <autotag group="SpecSource" tag="cHelpSkn"/>
      </bootstrap>
    </thing>
  <thing id="cPUNBPirSt" name="Piranha Strike" description="At 2nd level nimble blade gains the Piranha Strike* feat as a bonus feat. This replaces the blade skill normally gained at 2nd level." compset="ClSpecial">
    <tag group="Helper" tag="SpecUp" name="SpecUp" abbrev="SpecUp"/>
    <tag group="ProductId" tag="HLCommunit"/>
    <bootstrap thing="fPUPiranha">
      <containerreq phase="First" priority="500"><![CDATA[count:Classes.Soulknife >= 2]]></containerreq>
      </bootstrap>
    </thing>
  <thing id="cPUNBAgBla" name="Agile Blade" description="A nimble blade of 7th level treats his mind blade as if it had the agile weapon special ability. This does not count toward the nimble blades mind blades enhancement bonus. This replaces the mind blade enhancement increase gained at 7th level." compset="ClSpecial">
    <tag group="ProductId" tag="HLCommunit"/>
    <eval phase="PostLevel" priority="10000"><![CDATA[~ If the hero doesn't have this ability, ignore the following.
doneif (tagis[Helper.ShowSpec] = 0)

foreach pick in hero from BaseWep where "IsWeapon.wMindBlade"
  perform eachpick.assign[DamageOpt.aDEX]
  nexteach]]></eval>
    </thing>
  <thing id="cPUNBAdaFo" name="Adaptive Form" description="Once a nimble blade has reached 10th level, he has learned how to rapidly alter his use of the mind blade to adapt to any particular situation. As an immediate action and by expending psionic focus, the nimble blade can select any one blade skill whose requirements he meets and be treated as having that blade skill. The effect of the blade skill selected lasts until he expends his psionic focus as an immediate action to change it. This replaces the blade skill normally gained at 10th level." compset="ClSpecial">
    <tag group="ProductId" tag="HLCommunit"/>
    <tag group="abAction" tag="PUExpFocus"/>
    <tag group="abAction" tag="Immediate"/>
    </thing>
  <thing id="arPUSlbolt" name="Soulbolt" description="Some soulknives choose to focus on ranged attacks, launching a mind bolt at their enemies instead of wielding a blade of energy." compset="ClassVary" uniqueness="unique">
    <fieldval field="srcPageNum" value="283"/>
    <fieldval field="srcBookInf" value="Ultimate Psionics"/>
    <usesource source="pPsiUn"/>
    <tag group="fInclude" tag="fPointBlnk"/>
    <tag group="fExclude" tag="fPowerAtt"/>
    <tag group="fExclude" tag="fTwoWep"/>
    <tag group="fExclude" tag="fWepFocMB"/>
    <tag group="fInclude" tag="fWepFocMBt"/>
    <tag group="AbReplace" tag="cSknMindBl"/>
    <tag group="AbReplace" tag="cSknShaMB"/>
    <tag group="AbReplace" tag="cSknThrMB"/>
    <tag group="AbReplace" tag="cSknEnhMB"/>
    <tag group="ProductId" tag="HLCommunit"/>
    <tag group="ClVaryName" tag="AppParen"/>
    <bootstrap thing="cPUEnhMBlt">
      <autotag group="ClSpecWhen" tag="3"/>
      </bootstrap>
    <bootstrap thing="cPUEnhMBlt">
      <autotag group="ClSpecWhen" tag="5"/>
      </bootstrap>
    <bootstrap thing="cPUEnhMBlt">
      <autotag group="ClSpecWhen" tag="7"/>
      </bootstrap>
    <bootstrap thing="cPUEnhMBlt">
      <autotag group="ClSpecWhen" tag="9"/>
      </bootstrap>
    <bootstrap thing="cPUEnhMBlt">
      <autotag group="ClSpecWhen" tag="11"/>
      </bootstrap>
    <bootstrap thing="cPUEnhMBlt">
      <autotag group="ClSpecWhen" tag="13"/>
      </bootstrap>
    <bootstrap thing="cPUEnhMBlt">
      <autotag group="ClSpecWhen" tag="15"/>
      </bootstrap>
    <bootstrap thing="cPUEnhMBlt">
      <autotag group="ClSpecWhen" tag="17"/>
      </bootstrap>
    <bootstrap thing="cPUEnhMBlt">
      <autotag group="ClSpecWhen" tag="19"/>
      </bootstrap>
    <bootstrap thing="cPUShpMBlt">
      <autotag group="ClSpecWhen" tag="1"/>
      </bootstrap>
    <bootstrap thing="cPUSbMndBt">
      <autotag group="ClSpecWhen" tag="1"/>
      </bootstrap>
    <bootstrap thing="cPULnchMB">
      <autotag group="ClSpecWhen" tag="1"/>
      </bootstrap>
    <link linkage="varies" thing="cHelpSkn"/>
    <eval phase="Final" priority="999999999999999999999"><![CDATA[      ~ Disallow certain blade skills: Alter Mind Blade, Bladestorm, Bladewind, Dual Imbue, Extended Strike, Furious Charge (and Improved), Gruesome Riposte, Multiple Throw, Reaching Blade, Rending Blades, Trade Blows, Twin Strike, and Two-handed Throw
      ~ We also disallow Mind Daggers because the Soulbolt has a different version of that ability
      linkage[varies].field[cCstSpExpr].text &= " & !Ability.cSknBSAltB & !Ability.cSknBSBlds & !Ability.cSknBSBldw & !Ability.cSknBSDua & !Ability.cSknBSExS & !Ability.cSknBSFurC & !Ability.cSknBSFuCI & !Ability.cSknBSGruR & !Ability.cSknBSMulT & !Ability.cSknBSReaB & !Ability.cSknBSRend & !Ability.cSknBSTrad & !Ability.cSknBSTwin & !Ability.cSknBS2HTr & !Ability.cSknBSMDag"]]></eval>
    </thing>
  <thing id="cPUSbMndBt" name="Form Mind Bolt" description="At 1st level, as a move action, a soulbolt can form a semi-solid ranged weapon composed of psychic energy distilled from her own mind. This mind bolt appears inside of or enveloping the soulbolt&apos;s hand.\n\nA soulbolt must choose the form of her mind bolt at 1st level. She can either form it into a short range, medium range, or long range bolt which determines the weapon&apos;s range increment and base damage. Once chosen, her mind bolt stays in this form every time the soulknife forms her mind bolt. The long range bolt form is the smallest of forms and deals 1d6 points of damage and has a 100 ft. range increment. The medium range bolt form deals 1d8 points of damage, with a 60 ft. range increment, and the short range bolt form is the largest and heaviest form and deals 1d10 points of damage with a 20 ft. range increment. A soulbolt adds her Strength modifier to damage rolls when using the mind bolt in the short range form. All damages are based on a Medium-sized creature wielding Medium-sized weapons; adjust the weapon damage as appropriate for different sized weapons. A soulbolt with powerful build or any similar ability forms an appropriately-sized mind bolt dealing the size-appropriate amount of damage. Regardless of form, the mind bolt has a 19-20 critical threat range, has a maximum range of 10 range increments, and is treated as a projectile.\n\nThe form of the soulbolt&apos;s mind bolt also determines how many hands must be used to form and manipulate the mind bolt. If the mind bolt is in long range form, both of the soulbolt&apos;s hands remain free to hold other items such as a shield or a weapon. If the mind bolt is in medium range form, the soulbolt must have at least one hand free to form and manipulate the mind bolt. If the mind bolt is in short range form, the soulbolt must have both hands free to wield and launch the mind bolt.\n\nA soulbolt can wield a buckler without penalty regardless of the form of her mind bolt.\n\nRegardless of the weapon form a soulbolt has chosen, her mind bolt does not have a set damage type. When shaping her weapon and assigning abilities to it, the soulbolt chooses whether it will deal bludgeoning, piercing, or slashing damage. The soulbolt may change the damage type of an existing mind bolt, or may summon a new mind bolt with a different damage type, as a full-round action; otherwise, the mind bolt retains the last damage type chosen every time it is summoned.\n\nThe bolt can be broken (it has hardness 10 and 10 hit points); however, a soulbolt can simply create another on her next move action. The moment she relinquishes her grip on her blade, it dissipates (unless she intends to throw it; see below). A mind bolt is considered a magic weapon for the purpose of overcoming damage reduction and is considered a masterwork weapon.\n\nA soulbolt can use feats such as Rapid Shot or Precise Shot in conjunction with the mind bolt just as if it were a normal ranged weapon. She can also choose her mind bolt for feats requiring a specific weapon choice, such as Weapon Focus and Improved Critical. Powers or spells that upgrade weapons can be used on a mind bolt. The soulbolt can use feats such as Weapon Finesse that work on light weapons with her mind bolt, but such feats only work on mind bolts in a light weapon form, such as using the Mind Daggers blade skill.\n\nEven in places where psionic effects do not normally function (such as within a null psionics field), a soulbolt can attempt to sustain her mind bolt by making a DC 20 Will save. On a successful save, the soulbolt maintains her mind bolt for a number of rounds equal to her class level before she needs to check again, although the mind bolt is treated for all purposes as a non-magical, masterwork ranged weapon while in a place where psionic effects do not normally function. On an unsuccessful attempt, the mind bolt vanishes. As a move action on her turn, the soulbolt can attempt a new Will save to rematerialize her mind bolt while she remains within the psionics-negating effect. She gains a bonus on Will saves made to maintain or form her mind bolt equal to the total enhancement bonus of her mind bolt (see below).\n\nThe soulbolt chooses the appearance of her mind bolt, although its shape must reflect the selections the soulbolt has chosen: a bludgeoning mind bolt would be blunt, slashing would have an edge, etc.\n\nThis ability replaces the Form Mind Blade class feature normally gained by soulknives." compset="ClSpecial" summary="Form a semi-solid weapon composed of psychic energy distilled from your own mind.">
    <fieldval field="usrCandid1" value="component.Simple &amp; MindBlade.Bolt?"/>
    <arrayval field="usrArray" index="0" value="Bludgeoning"/>
    <arrayval field="usrArray" index="1" value="Piercing"/>
    <arrayval field="usrArray" index="2" value="Slashing"/>
    <tag group="SpecType" tag="Attack"/>
    <tag group="AbilType" tag="Super"/>
    <tag group="ChooseSrc1" tag="Hero"/>
    <tag group="Helper" tag="ActivMenu"/>
    <bootstrap thing="iPUMndBtMR">
      <containerreq phase="First" priority="99">hero#MindBlade.BoltMed</containerreq>
      </bootstrap>
    <bootstrap thing="iPUMndBtSR">
      <containerreq phase="First" priority="99">hero#MindBlade.BoltShort</containerreq>
      </bootstrap>
    <bootstrap thing="iPUMndBtLR">
      <containerreq phase="First" priority="99">hero#MindBlade.BoltLong</containerreq>
      </bootstrap>
    <bootstrap thing="zPUMndBlt1"></bootstrap>
    <bootstrap thing="zPUMndBlt2"></bootstrap>
    <bootstrap thing="zPUMndBlt3"></bootstrap>
    <eval phase="First" priority="50" name="Add Mind Blade Tags"><![CDATA[
      ~ If we've been Disabled, get out now
      doneif (tagis[Helper.SpcDisable] <> 0)

      ~ If nothing chosen get out now!
      doneif (field[usrChosen1].ischosen <> 1)

      perform field[usrChosen1].chosen.pulltags[MindBlade.?]
      perform hero.pushtags[MindBlade.?]]]></eval>
    <eval phase="PostLevel" priority="10000" index="2"><![CDATA[
      ~ If we're not shown, just get out now
      doneif (tagis[Helper.ShowSpec] <> 1)
      ~ If we've been Disabled, get out now
      doneif (tagis[Helper.SpcDisable] <> 0)
      ~ If we've not chosen anything, get out
      doneif (field[usrChosen1].ischosen = 0)

      ~ Bludgeoning
      if (field[usrIndex].value = 0) then
        perform assign[wType.B]
      ~ Piercing
      elseif (field[usrIndex].value = 1) then
        perform assign[wType.P]
      ~ Slashing
      elseif (field[usrIndex].value = 2) then
        perform assign[wType.S]
      endif

      ~ Find all Mindblades and set the damage type tag
      foreach pick in hero from BaseWep where "IsWeapon.wMindBlade"
        perform eachpick.delete[wType.?]
        perform eachpick.gizmo.delete[wType.?]
        perform eachpick.pushtags[wType.?]
        perform eachpick.gizmo.pushtags[wType.?]
      nexteach]]></eval>
    </thing>
  <thing id="cPUShpMBlt" name="Shape Mind Bolt" description="The soulbolt&apos;s mind bolt retains the last chosen form every time it is formed until the soulbolt reshapes it. If the soulbolt chooses to reshape her bolt, it requires a full-round action to do so. She may also reassign the type of damage dealt as part of reshaping her mind bolt if she so chooses. A soulbolt can reassign the ability or abilities she has added to her mind bolt; see below. To do so, she must first spend 8 hours in concentration. These cannot be the normal 8 hours used for rest, even if the soulbolt does not require sleep. After that period, the mind bolt materializes with the new ability or abilities selected by the soulbolt. This ability replaces the Shape Mind Blade class feature normally gained by soulknives." compset="ClSpecial" summary="Change the form of your mind bolt, or reassign its abilities">
    <tag group="ProductId" tag="GreenRonin"/>
    </thing>
  <thing id="cPULnchMB" name="Launch Mind Bolt" description="Soulbolts are greater masters at making ranged attacks with their weapon than their soulknife counterparts. Unlike a soulknife, a soulbolt does not need to reform her mind bolt after throwing it. This means that the soulbolt can make use of all iterative attacks available, or multiple attacks such as those gained from Rapid Shot, without the need for abilities such as the Multiple Throw blade skill.\n\nThis ability replaces the Throw Mind Blade class feature normally gained by soulknives." compset="ClSpecial" summary="Make iterative attacks with your Mind Bolt">
    <tag group="ProductId" tag="HLCommunit"/>
    </thing>
  <thing id="cPUEnhMBlt" name="Enhanced Mind Bolt" description="A soulbolt&apos;s mind bolt improves as the character gains higher levels. At 3rd level and every odd level thereafter, the mind bolt gains a cumulative +1 enhancement bonus that she may spend on an actual enhancement bonus or on weapon special abilities. A soulbolt&apos;s maximum enhancement bonus follows the same progression as a soulknife. The soulbolt may (and must, when her total enhancement is higher than her maximum bonus) apply any special ability from the table below instead of an enhancement bonus, as long as she meets the level requirements. A soulbolt can choose any combination of weapon special abilities and/or enhancement bonus that does not exceed the total allowed by the soulbolt&apos;s level, but she must assign at least a +1 enhancement bonus before assigning any special abilities. If the soulbolt shapes her mind bolt into two items, such as using the Mind Daggers blade skill, the enhancement bonus of her mind bolt (if any) is reduced by 1 (to a minimum of 0). If this would reduce the enhancement bonus on the mind bolt to 0 and weapon special abilities are applied, the soulbolt must reshape her mind bolt to make the options valid. Both mind bolts have the same selection of enhancement bonus and weapon special abilities (if any).\n\n{b}Note:{/b} To ehance your Mind Bolt, go to the {b}Weapons{/b} tab and click on the &quot;Wrench/Hammer&quot; icon.  Then you can make it a +1 Mind Bolt or a +1 Flaming Mind Bolt. Currently the scripts will not error check if you increase the bonus past what you should be allowed or take a invalid item power.  This will come in a future update." compset="ClSpecial" summary="You can enhance your mind bolt with extra power.">
    <tag group="SpecType" tag="Attack" name="Attack" abbrev="Attack"/>
    <tag group="Helper" tag="UseOwnLev" name="UseOwnLev" abbrev="UseOwnLev"/>
    <tag group="AbilType" tag="Super"/>
    <eval phase="Final" priority="10000"><![CDATA[
field[abValue].value += field[xCount].value

field[livename].text = "Enhanced Mind Bolt +" & field[abValue].value
field[abSumm].text = "You can enhance your Mind Bolt with a total enhancement bonus of +" & field[abValue].value & "."
field[listname].text = "Enhanced Mind Bolt +" & field[xIndex].value]]></eval>
    </thing>
  <thing id="cPUAltMBlt" name="Alter Mind Bolt" description="A soulbolt gains the ability to shape her mind bolt into different weapon forms. She may change her blade&apos;s form to the long range weapon, medium range weapon, or short range weapon forms any time she forms her mind bolt." compset="CustomSpec" summary="You can reshape your mind bolt any time you form it" uniqueness="useronce">
    <usesource source="pPsiUn"/>
    <tag group="abCategory" tag="PUBladeSk"/>
    <tag group="NotClExpr" tag="cHelpPUA"/>
    <tag group="SpecSource" tag="arPUSlbolt"/>
    <tag group="ProductId" tag="HLCommunit"/>
    <tag group="Helper" tag="NoPathSoc"/>
    </thing>
  <thing id="cPWArrShot" name="Arresting Shot" description="As a standard action, the soulbolt can make a ranged reposition attempt against an enemy within one range increment. If the attempt is successful, the enemy is repositioned to directly adjacent to the soulbolt, occupying the space in the most direct path from the target to the soulbolt. The soulbolt must have the wrenching special ability applied to her mind bolt to use this blade skill. The soulbolt must be at least 12th level to select this blade skill." compset="CustomSpec" summary="Ranged reposition puts the target next to you." uniqueness="useronce">
    <usesource source="pPsiUn"/>
    <tag group="NotClExpr" tag="cHelpPUA"/>
    <tag group="SpecSource" tag="arPUSlbolt"/>
    <tag group="abAction" tag="Standard"/>
    <tag group="ProductId" tag="HLCommunit"/>
    <tag group="Helper" tag="NoPathSoc"/>
    <tag group="abCategory" tag="PUBladeSk"/>
    <prereq message="Soulbolt level 12+ required.">
      <validate><![CDATA[        var classcheck as string
        var levels as number

        classcheck = "Soulknife"

        call PUPreReqs

        validif (levels >= 12)]]></validate>
      </prereq>
    </thing>
  <thing id="cPUChgShot" name="Charged Shot" description="As a standard action, the soulbolt can make a single ranged attack with her mind bolt. If the attack is successful, the mind bolt bursts with psionic energy upon impact, dealing its base weapon damaging to all creatures within a 5-ft. radius of the creature struck. A successful Reflex save (DC 10 + 1/2 soulbolt level + Wisdom modifier) halves the damage taken." compset="CustomSpec" summary="Successful attack damages all within 5 ft of target" uniqueness="useronce">
    <usesource source="pPsiUn"/>
    <tag group="abCategory" tag="PUBladeSk"/>
    <tag group="NotClExpr" tag="cHelpPUA"/>
    <tag group="SpecSource" tag="arPUSlbolt"/>
    <tag group="abAction" tag="Standard"/>
    <tag group="abSave" tag="RefHalf"/>
    <tag group="StandardDC" tag="aWIS"/>
    <tag group="SpecType" tag="Attack"/>
    <tag group="ProductId" tag="HLCommunit"/>
    <tag group="Helper" tag="NoPathSoc"/>
    </thing>
  <thing id="cPUClRngEx" name="Close-Range Expert" description="When making ranged attacks with her mind bolt, a soulknife does not provoke attacks of opportunity as long as she maintains psionic focus." compset="CustomSpec" summary="When psi-focused, your mind bolts do not provoke AoO&apos;s." uniqueness="useronce">
    <usesource source="pPsiUn"/>
    <tag group="abCategory" tag="PUBladeSk"/>
    <tag group="NotClExpr" tag="cHelpPUA"/>
    <tag group="SpecSource" tag="arPUSlbolt"/>
    <tag group="ProductId" tag="HLCommunit"/>
    <tag group="Helper" tag="NoPathSoc"/>
    </thing>
  <thing id="cPUCRExpIm" name="Close-Range Expert, Improved" description="The soulbolt threatens adjacent squares when wielding her mind bolt and does not need to maintain psionic focus to gain the benefit of the Close-Range Expert blade skill. The soulbolt must have the Close-Range Expert blade skill and must be at least 12th level to select this blade skill." compset="CustomSpec" summary="Close-Range Expert no longer requires focus, and you threaten squares with your mind bolts." uniqueness="useronce">
    <usesource source="pPsiUn"/>
    <tag group="abCategory" tag="PUBladeSk"/>
    <tag group="NotClExpr" tag="cHelpPUA"/>
    <tag group="SpecSource" tag="arPUSlbolt"/>
    <tag group="ProductId" tag="HLCommunit"/>
    <tag group="Helper" tag="NoPathSoc"/>
    <prereq message="Close-Range Expert required.">
      <validate><![CDATA[validif (#hasability[cPUClRngEx] <> 0)]]></validate>
      </prereq>
    <prereq message="Soulbolt level 12+ required.">
      <validate><![CDATA[
        var classcheck as string
        var levels as number
        classcheck = "Soulknife"
        call PUPreReqs
        validif (levels >= 12)]]></validate>
      </prereq>
    </thing>
  <thing id="cPUDblShot" name="Double Shot" description="As a standard action, a soulbolt can expend her psychic strike to make two ranged attacks with her mind bolt. The attacks do not deal the additional damage from psychic strike." compset="CustomSpec" summary="Make two mind bolt attacks as a standard action." uniqueness="useronce">
    <usesource source="pPsiUn"/>
    <tag group="abCategory" tag="PUBladeSk"/>
    <tag group="NotClExpr" tag="cHelpPUA"/>
    <tag group="SpecSource" tag="arPUSlbolt"/>
    <tag group="abAction" tag="Standard"/>
    <tag group="SpecType" tag="Attack"/>
    <tag group="ProductId" tag="HLCommunit"/>
    <tag group="Helper" tag="NoPathSoc"/>
    </thing>
  <thing id="cPUFrzBolt" name="Freezing Bolt" description="The soulbolt may, as a free action, have her mind bolt deal cold damage instead of its selected damage type. In this form, the mind bolt bypasses any damage reduction, although it is subject to resistance to cold damage, and is similarly augmented by cold vulnerability. If the mind bolt successfully deals cold damage, the target must make a Fortitude save (DC 10 + 1/2 soulbolt level + Wisdom modifier) or have its speed reduced by half for one round. Multiple attacks with a freezing bolt in the same round do not extend this duration." compset="CustomSpec" summary="Mind bolts can deal cold damage and reduce their target&apos;s speed" uniqueness="useronce">
    <usesource source="pPsiUn"/>
    <tag group="abCategory" tag="PUBladeSk"/>
    <tag group="NotClExpr" tag="cHelpPUA"/>
    <tag group="SpecSource" tag="arPUSlbolt"/>
    <tag group="abAction" tag="Standard"/>
    <tag group="abSave" tag="RefHalf"/>
    <tag group="StandardDC" tag="aWIS"/>
    <tag group="SpecType" tag="Attack"/>
    <tag group="ProductId" tag="HLCommunit"/>
    <tag group="Helper" tag="NoPathSoc"/>
    </thing>
  <thing id="cPUSkMndDg" name="Mind Daggers" description="If a soulbolt selects the Mind Daggers blade skill, she gains the option to form her mind bolt into dagger form, dealing 1d4 points of damage, with a critical threat range of 19-20, a critical multiplier of x2, and a range increment of 30 ft. When making ranged attacks with the mind bolt in dagger form, a soulbolt adds her Strength modifier to damage rolls. When forming her mind bolt into dagger form, the soulbolt may either make a single mind bolt or a pair of mind bolts, so long as both are in dagger form. The mind bolt suffers the standard penalty for forming two items. The soulbolt may additionally use the mind bolt in dagger form to make melee attacks, but this may render some of the mind bolt&apos;s weapon special abilities non-functioning if they do not apply to melee attacks (such as the Distance special ability; see Enhanced Mind Bolt below)." compset="CustomSpec" summary="The soulbolt may form one or a pair of mind daggers in place of her normal forms" uniqueness="useronce">
    <usesource source="pPsiUn"/>
    <tag group="Helper" tag="NoPathSoc"/>
    <tag group="abCategory" tag="PUBladeSk"/>
    <tag group="SpecSource" tag="arPUSlbolt"/>
    <tag group="ProductId" tag="HLCommunit"/>
    <bootstrap thing="iPUMndDagg">
      <containerreq phase="First" priority="99">hero#MindBlade.Dagger</containerreq>
      </bootstrap>
    <bootstrap thing="zPUMndBld5"></bootstrap>
    <bootstrap thing="iPUMndDagg">
      <containerreq phase="First" priority="99">hero#MindBlade.Dagger</containerreq>
      </bootstrap>
    </thing>
  <thing id="cPURainArr" name="Rain of Arrows" description="As a standard action, the soulbolt may fire off her mind bolt and have deal damage to all creatures within a 10 ft. cube within one range increment. A successful Reflex save (DC 10 + 1/2 soulbolt level + Wis modifier) halves the damage. A soulbolt must have the charged shot blade skill and be at least 10th level in order to select this blade skill." compset="CustomSpec" summary="Deal mind bolt damage to all targets in 10-ft cube" uniqueness="useronce">
    <usesource source="pPsiUn"/>
    <tag group="NotClExpr" tag="cHelpPUA"/>
    <tag group="SpecSource" tag="arPUSlbolt"/>
    <tag group="abAction" tag="Standard"/>
    <tag group="ProductId" tag="HLCommunit"/>
    <tag group="Helper" tag="NoPathSoc"/>
    <tag group="abCategory" tag="PUBladeSk"/>
    <tag group="abSave" tag="RefHalf"/>
    <tag group="StandardDC" tag="aWIS"/>
    <tag group="SpecType" tag="Attack"/>
    <prereq message="Charged shot required.">
      <validate><![CDATA[validif (#hasability[cPUChgShot] <> 0)]]></validate>
      </prereq>
    <prereq message="Soulbolt level 10+ required.">
      <validate><![CDATA[
        var classcheck as string
        var levels as number
        classcheck = "Soulknife"
        call PUPreReqs
        validif (levels >= 10)]]></validate>
      </prereq>
    </thing>
  <thing id="cPU1000Bld" name="Thousand Blades" description="When making a full attack, the soulbolt may expend her psychic strike. She deals no psychic strike damage, but all of her attacks use her highest base attack bonus before factoring in other modifiers to attack rolls. A soulbolt must be at least 12th level in order to select this blade skill." compset="CustomSpec" summary="Make all attacks at highest BAB" uniqueness="useronce">
    <usesource source="pPsiUn"/>
    <tag group="NotClExpr" tag="cHelpPUA"/>
    <tag group="SpecSource" tag="arPUSlbolt"/>
    <tag group="ProductId" tag="HLCommunit"/>
    <tag group="Helper" tag="NoPathSoc"/>
    <tag group="abCategory" tag="PUBladeSk"/>
    <tag group="SpecType" tag="Attack"/>
    <tag group="abAction" tag="FullRd"/>
    <prereq message="Soulbolt level 12+ required.">
      <validate><![CDATA[        var classcheck as string
        var levels as number

        classcheck = "Soulknife"

        call PUPreReqs

        validif (levels >= 12)]]></validate>
      </prereq>
    </thing>
  <thing id="arPUGiftBl" name="Gifted Blade" description="There are some soulknives who learn to manifest powers, as well as to form mind blades. These gifted individuals wield both blade and mind with deadly efficiency" compset="ClassVary" uniqueness="unique">
    <fieldval field="srcPageNum" value="282"/>
    <fieldval field="srcBookInf" value="Ultimate Psionics"/>
    <arrayval field="cvPsiPPTot" index="3" value="1"/>
    <arrayval field="cvPsiPPTot" index="4" value="2"/>
    <arrayval field="cvPsiPPTot" index="5" value="3"/>
    <arrayval field="cvPsiPPTot" index="6" value="5"/>
    <arrayval field="cvPsiPPTot" index="7" value="7"/>
    <arrayval field="cvPsiPPTot" index="8" value="9"/>
    <arrayval field="cvPsiPPTot" index="9" value="11"/>
    <arrayval field="cvPsiPPTot" index="10" value="14"/>
    <arrayval field="cvPsiPPTot" index="11" value="17"/>
    <arrayval field="cvPsiPPTot" index="12" value="20"/>
    <arrayval field="cvPsiPPTot" index="13" value="24"/>
    <arrayval field="cvPsiPPTot" index="14" value="28"/>
    <arrayval field="cvPsiPPTot" index="15" value="32"/>
    <arrayval field="cvPsiPPTot" index="16" value="37"/>
    <arrayval field="cvPsiPPTot" index="17" value="42"/>
    <arrayval field="cvPsiPPTot" index="18" value="47"/>
    <arrayval field="cvPsiPPTot" index="19" value="52"/>
    <arrayval field="cvPsiPowTo" index="2" value="1"/>
    <arrayval field="cvPsiPowTo" index="3" value="1"/>
    <arrayval field="cvPsiPowTo" index="4" value="1"/>
    <arrayval field="cvPsiPowTo" index="5" value="2"/>
    <arrayval field="cvPsiPowTo" index="6" value="3"/>
    <arrayval field="cvPsiPowTo" index="7" value="3"/>
    <arrayval field="cvPsiPowTo" index="8" value="4"/>
    <arrayval field="cvPsiPowTo" index="9" value="4"/>
    <arrayval field="cvPsiPowTo" index="10" value="5"/>
    <arrayval field="cvPsiPowTo" index="11" value="5"/>
    <arrayval field="cvPsiPowTo" index="12" value="5"/>
    <arrayval field="cvPsiPowTo" index="13" value="6"/>
    <arrayval field="cvPsiPowTo" index="14" value="6"/>
    <arrayval field="cvPsiPowTo" index="15" value="6"/>
    <arrayval field="cvPsiPowTo" index="16" value="7"/>
    <arrayval field="cvPsiPowTo" index="17" value="7"/>
    <arrayval field="cvPsiPowTo" index="18" value="7"/>
    <arrayval field="cvPsiPowTo" index="19" value="7"/>
    <arrayval field="cvPsiLevTo" index="2" value="1"/>
    <arrayval field="cvPsiLevTo" index="3" value="1"/>
    <arrayval field="cvPsiLevTo" index="4" value="1"/>
    <arrayval field="cvPsiLevTo" index="5" value="1"/>
    <arrayval field="cvPsiLevTo" index="6" value="2"/>
    <arrayval field="cvPsiLevTo" index="7" value="2"/>
    <arrayval field="cvPsiLevTo" index="8" value="2"/>
    <arrayval field="cvPsiLevTo" index="9" value="2"/>
    <arrayval field="cvPsiLevTo" index="10" value="3"/>
    <arrayval field="cvPsiLevTo" index="11" value="3"/>
    <arrayval field="cvPsiLevTo" index="12" value="3"/>
    <arrayval field="cvPsiLevTo" index="13" value="3"/>
    <arrayval field="cvPsiLevTo" index="14" value="4"/>
    <arrayval field="cvPsiLevTo" index="15" value="4"/>
    <arrayval field="cvPsiLevTo" index="16" value="4"/>
    <arrayval field="cvPsiLevTo" index="17" value="4"/>
    <arrayval field="cvPsiLevTo" index="18" value="4"/>
    <arrayval field="cvPsiLevTo" index="19" value="4"/>
    <usesource source="pPsiUn"/>
    <tag group="ClVaryName" tag="AppParen"/>
    <tag group="ProductId" tag="HLCommunit"/>
    <tag group="AbReplace" tag="cSknPsyStr"/>
    <tag group="PsiAttr" tag="aWIS"/>
    <bootstrap thing="cGiBPUMani">
      <autotag group="ClSpecWhen" tag="3"/>
      </bootstrap>
    <link linkage="varies" thing="cHelpSkn"/>
    </thing>
  <thing id="arPULifeLe" name="Life Leech" description="Life leeches know that there is more potential from the collective bond than simply transferring healing energy and sharing psionic enhancements. They recognize that the collective can be used to share virtually any debilitating effect, even redirecting the damage of a strike at the moment of impact." compset="ClassVary" uniqueness="unique">
    <fieldval field="srcPageNum" value="288"/>
    <fieldval field="srcBookInf" value="Ultimate Psionics"/>
    <usesource source="pPsiUn"/>
    <tag group="ProductId" tag="HLCommunit"/>
    <tag group="ClVaryName" tag="AppParen"/>
    <tag group="AbReplace" tag="cPUHealthS"/>
    <tag group="AbReplace" tag="cPUStealHT"/>
    <tag group="AbReplace" tag="cPUVitExpK"/>
    <tag group="AbReplace" tag="cPUVitTraW"/>
    <bootstrap thing="cPUTranAil">
      <autotag group="ClSpecWhen" tag="7"/>
      </bootstrap>
    <bootstrap thing="cPUTranAil">
      <autotag group="ClSpecWhen" tag="10"/>
      </bootstrap>
    <bootstrap thing="cPUTranAil">
      <autotag group="ClSpecWhen" tag="1"/>
      </bootstrap>
    <bootstrap thing="cPUDrnHlth">
      <autotag group="ClSpecWhen" tag="3"/>
      </bootstrap>
    <bootstrap thing="cPUUnwPart">
      <autotag group="ClSpecWhen" tag="2"/>
      </bootstrap>
    <bootstrap thing="cPUTranAtt">
      <autotag group="ClSpecWhen" tag="9"/>
      </bootstrap>
    <bootstrap thing="cPUTranAil">
      <autotag group="ClSpecWhen" tag="4"/>
      </bootstrap>
    <link linkage="varies" thing="cHelpPU5"/>
    </thing>
  <thing id="cPUTranAil" name="Transfer Ailment" description="A 1st level life leech can transfer the dazed, dazzled, shaken, or staggered condition from one member of his collective to another as a standard action. At 4th level, the life leech can transfer the blind, deafened, fatigued, frightened, or sickened condition. At 7th level, the life leech can transfer the exhausted, panicked, nauseated, or paralyzed condition. At 10th level, the life leech can transfer the stunned or unconscious condition (although a creature that receives the unconscious condition from this ability is not reduced to negative hit points by this effect, nor is the original creature brought automatically to positive hit points; such a creature would still have 0 or negative hit points, but would become conscious, stable, and likely given the disabled condition).\n\nIf this ability is used on an unwilling target and the recipient of the effect makes a successful save (see the Unwilling Participant* feat), the creature with the condition being transferred still suffers from the condition. A life leech may use this ability a number of times per day equal to 3 + his Wisdom modifier. This ability may only be used on creatures with a Constitution score and may not be used against creatures with a total number of hit dice less than half the life leechs level. This ability can only be used to transfer temporary conditions. For example, a life leech could not transfer blindness from a creature that has somehow lost its eyes permanently. This ability replaces transfer wounds and the accompanying benefits from the vitalists selected method." compset="ClSpecial" summary="As a Standard Action you can transfer conditions from one member of your collective to another.">
    <tag group="ChargeCalc" tag="AttrUses3"/>
    <tag group="ChargeAttr" tag="aWIS"/>
    <tag group="ProductId" tag="HLCommunit"/>
    <tag group="User" tag="Tracker"/>
    <tag group="Usage" tag="Day"/>
    </thing>
  <thing id="cPUUnwPart" name="Unwilling Participant" description="A life leech of 2nd level gains the Unwilling Participant feat as a bonus feat. \n\nIn addition, when any creature in the collective against their will makes a save against an effect from over the collective, they suffer a -2 penalty on the save to resist the effect. This ability replaces health sense." compset="ClSpecial" summary="Any creature in the collective against their will makes a save against an effect from over the collective, they suffer a -2 penalty on the save to resist the effect.">
    <tag group="ProductId" tag="HLCommunit"/>
    <bootstrap thing="fPUUnwillP">
      <containerreq phase="First" priority="500"><![CDATA[
      count:Classes.Vitalist>= 2 & !AbReplace.cPUUnwPart]]></containerreq>
      </bootstrap>
    </thing>
  <thing id="cPUDrnHlth" name="Drain Health" description="A life leech of 3rd level can steal hit points from members of his collective and transfer them as healing to other members of the collective. As a standard action, one member of the collective takes damage equal to double the life leechs class level + the life leechs Wisdom modifier and another member of the collective heals the same amount.\nIf used on an unwilling target, a successful Will save halves the amount of damage taken and healed.\nThis ability may only be used on creatures with a Constitution score and may not be used against creatures with a total number of hit dice less than half the life leechs level.\nThis ability replaces steal health." compset="ClSpecial">
    <eval phase="PostAttr" priority="10000"><![CDATA[~set abText field for livename
      field[abValue].value = (#levelcount[Vitalist] * 2) + #attrmod[aWIS]
      field[listname].text = "Drain Health (+" & field[abValue].value & " dmg transferred to health)"]]></eval>
    </thing>
  <thing id="cPUTranAtt" name="Transfer Attack" description="A 9th level life leech can expend his psionic focus as an immediate action to redirect damage being taken by one member of the collective to another member of the collective. Calculate the damage as if the original target would have taken it. The damage transferred is empathic in nature, so damage reduction or other means to block the damage to the final target are not effective. This ability replaces the Expanded Knowledge feat normally gained at 9th level." compset="ClSpecial" summary="Expend psionic focus as an immediate action to redirect damage from one member of the collective to another member.">
    <tag group="ProductId" tag="HLCommunit"/>
    <tag group="abAction" tag="PUExpFocus"/>
    <tag group="abAction" tag="Immediate"/>
    </thing>
  <thing id="arPUMedita" name="Meditant" description="Few manifesters have the tools at their disposal to fight unarmed better than psychic warriors. The meditants are those psychic warriors who have turned this strength into their focus, learning to make deadly strikes without the use of psionic powers or weapons." compset="ClassVary" uniqueness="unique">
    <fieldval field="srcBookInf" value="Ultimate Psionics"/>
    <fieldval field="srcPageNum" value="276"/>
    <arrayval field="cvBonFtMod" index="0" value="-1"/>
    <arrayval field="cvBonFtMod" index="1" value="-1"/>
    <arrayval field="cvBonFtMod" index="2" value="-1"/>
    <arrayval field="cvBonFtMod" index="3" value="-1"/>
    <arrayval field="cvBonFtMod" index="4" value="-1"/>
    <arrayval field="cvBonFtMod" index="5" value="-1"/>
    <arrayval field="cvBonFtMod" index="6" value="-1"/>
    <arrayval field="cvBonFtMod" index="7" value="-2"/>
    <arrayval field="cvBonFtMod" index="8" value="-2"/>
    <arrayval field="cvBonFtMod" index="9" value="-2"/>
    <arrayval field="cvBonFtMod" index="10" value="-2"/>
    <arrayval field="cvBonFtMod" index="11" value="-2"/>
    <arrayval field="cvBonFtMod" index="12" value="-2"/>
    <arrayval field="cvBonFtMod" index="13" value="-2"/>
    <arrayval field="cvBonFtMod" index="14" value="-2"/>
    <arrayval field="cvBonFtMod" index="15" value="-2"/>
    <arrayval field="cvBonFtMod" index="16" value="-2"/>
    <arrayval field="cvBonFtMod" index="17" value="-2"/>
    <arrayval field="cvBonFtMod" index="18" value="-2"/>
    <arrayval field="cvBonFtMod" index="19" value="-2"/>
    <usesource source="pPsiUn"/>
    <tag group="fDisable" tag="fWepMart"/>
    <tag group="AbReplace" tag="cPWaMarPow"/>
    <tag group="fDisable" tag="fArmShield"/>
    <tag group="ClVaryName" tag="AppParen"/>
    <tag group="fDisable" tag="fArmMedium"/>
    <tag group="fDisable" tag="fArmLight"/>
    <tag group="fDisable" tag="fArmHeavy"/>
    <tag group="ProductId" tag="HLCommunit"/>
    <bootstrap thing="cPUPsiArm">
      <autotag group="ClSpecWhen" tag="4"/>
      </bootstrap>
    <bootstrap thing="cPUPsiArm">
      <autotag group="ClSpecWhen" tag="8"/>
      </bootstrap>
    <bootstrap thing="cPUPsiArm">
      <autotag group="ClSpecWhen" tag="12"/>
      </bootstrap>
    <bootstrap thing="cPUUnFiSt">
      <autotag group="ClSpecWhen" tag="8"/>
      </bootstrap>
    <bootstrap thing="cMnkUnarm">
      <autotag group="ClSpecWhen" tag="1"/>
      </bootstrap>
    <bootstrap thing="cMnkFlurr">
      <autotag group="ClSpecWhen" tag="6"/>
      </bootstrap>
    <bootstrap thing="cMnkFlurr">
      <autotag group="ClSpecWhen" tag="11"/>
      </bootstrap>
    <bootstrap thing="cMnkFlurr">
      <autotag group="ClSpecWhen" tag="16"/>
      </bootstrap>
    <bootstrap thing="cPUPsiArm">
      <autotag group="ClSpecWhen" tag="16"/>
      </bootstrap>
    <bootstrap thing="cPUPsiArm">
      <autotag group="ClSpecWhen" tag="20"/>
      </bootstrap>
    <bootstrap thing="cPUPsiArm">
      <autotag group="ClSpecWhen" tag="1"/>
      </bootstrap>
    <link linkage="varies" thing="cHelpPWa"/>
    <eval phase="PostLevel" priority="10000"><![CDATA[

      #appenddesc[cMnkFlurr,"{b}Meditant:{/b} The Meditant can not flurry with Monk Weapons until 8th level when they can choose to be take Monk weapons."]]]></eval>
    </thing>
  <thing id="cPUPsiArm" name="Psionic Armor" description="A meditant who maintains psionic focus and is unarmored and unencumbered adds his Wisdom bonus (if any) to his AC and his CMD. If the meditant gains his Wisdom bonus to his AC or CMD from some other source, it does not stack. In addition, a meditant gains a +1 bonus to AC and CMD at 4th level. This bonus increases by 1 for every four meditant levels thereafter, up to a maximum of +5 at 20th level.\n\nThese bonuses to AC apply even against touch attacks or when the meditant is flat-footed. He loses these bonuses when he is immobilized or helpless, when he wears any armor, when he carries a shield, when he carries a medium or heavy load, or when he is not focused." compset="ClSpecial" summary="The Meditant adds his Wisdom bonus to AC and CMD, more at higher levels.">
    <tag group="abAction" tag="None"/>
    <tag group="abDuration" tag="Constant"/>
    <tag group="abRange" tag="Personal"/>
    <tag group="AbilType" tag="Extra"/>
    <tag group="LvNameApp" tag="SignAppVal"/>
    <tag group="LvNameApp" tag="AppValue"/>
    <tag group="ProductId" tag="HLCommunit"/>
    <tag group="abAction" tag="PUManFocus"/>
    <eval phase="PostAttr" priority="20000"><![CDATA[
      ~ Set the list name
      field[listname].text = field[name].text & " " & signed(field[xIndex].value-1)

      ~ If we're not shown, just get out now
      doneif (tagis[Helper.ShowSpec] <> 1)
      ~ if we've been disabled, get out now
      doneif (tagis[Helper.SpcDisable] <> 0)

      ~ Start our bonus off as our wisdom bonus + the count of specials, -1
      ~ (because our first instance gives a base of +0)
      field[abValue].value += field[xCount].value -1 + #attrmod[aWIS]]]></eval>
    <eval phase="PostAttr" priority="30000" index="2"><![CDATA[
      ~ Get our encumbrance level - if we're encumbered by that, or if we're
      ~ wearing armor or a shield, we're disabled.
      if (hero.tagexpr[Hero.EquipArmor | Hero.EquipShld | Encumbered.Medium | Encumbered.Heavy | Encumbered.Overloaded] <> 0) then
        perform assign[Helper.SpcDisable]
        endif

      ~ only run the rest for the first copy
      doneif (tagis[Helper.FirstCopy] = 0)
      ~ If we're not shown, just get out now
      doneif (tagis[Helper.ShowSpec] = 0)
      ~ If we're disabled, do nothing
      doneif (tagis[Helper.SpcDisable] <> 0)

      var v_focus as number
      call PUPsiFocus
      ~ If Not psionically focused get out now
      doneif (v_focus <> 1)

      ~ Apply our AC bonus to Wis Modifier AC. Do this using applybonus
      ~ so that it does not stack from another source. Only the highest
      ~ value will apply.
      #applybonus[tACWisMod,hero.child[ArmorClass],field[abValue].value]]]></eval>
    </thing>
  <thing id="cPUUnFiSt" name="Unarmed Fighting Style" description="A meditant of 8th level can choose whether to focus his or her fighting style take advantage of natural attacks or to use specialized weapons.  The meditant gets their choice of proficiency with all monk weapons or the Feral  Combat Training* feat as a bonus feat.  If the meditant selects monk weapon proficiency, he or she can use flurry of strikes with monk weapons,making any or all of the attacks with the monk weapon in place of an unarmed strike. If the meditant selects the Feral Combat Training feat, he or she does not need to meet the prerequisites and can use the selected natural attack with  his or her flurry of strikes. \n\nThis replaces the bonus feat normally gained at 8th level." compset="ClSpecial" summary="Choose to focus fighting style on monk weapons or natural attacks.">
    <arrayval field="usrArray" index="0" value="-None-"/>
    <arrayval field="usrArray" index="1" value="Monk Weapons Proficiency"/>
    <arrayval field="usrArray" index="2" value="Feral Combat Training"/>
    <tag group="WepProf" tag="wClub"/>
    <tag group="WepProf" tag="wDagger"/>
    <tag group="WepProf" tag="wHandaxe"/>
    <tag group="WepProf" tag="wCrsHeavy"/>
    <tag group="WepProf" tag="wJavelin"/>
    <tag group="WepProf" tag="wKama"/>
    <tag group="WepProf" tag="wCrsLight"/>
    <tag group="WepProf" tag="wNunchaku"/>
    <tag group="WepProf" tag="wQtrstaff"/>
    <tag group="WepProf" tag="wSai"/>
    <tag group="WepProf" tag="wShuriken"/>
    <tag group="WepProf" tag="wSiangham"/>
    <tag group="WepProf" tag="wSickle"/>
    <tag group="WepProf" tag="wSling"/>
    <tag group="ProductId" tag="HLCommunit"/>
    <bootstrap thing="fFeralComb">
      <containerreq phase="First" priority="2000"><![CDATA[(count:Classes.PsychicWar >= 8) & (fieldval:usrIndex = 2)]]></containerreq>
      <autotag group="ClSpecWhen" tag="8"/>
      <autotag group="thing" tag="skipprereq"/>
      </bootstrap>
    <bootstrap thing="fWepMnk">
      <containerreq phase="First" priority="2000"><![CDATA[(count:Classes.PsychicWar >= 8) & (fieldval:usrIndex = 1)]]></containerreq>
      <autotag group="ClSpecWhen" tag="8"/>
      <autotag group="thing" tag="skipprereq"/>
      </bootstrap>
    <eval phase="First" priority="10000"><![CDATA[
      ~ we're earlier than the normal test for whether we've reached the correct level, so we'll recreate that test here
      doneif (root.linkage[varies].field[cTotalLev].value + field[xExtraLev].value + field[xEffectLev].value < tagvalue[ClSpecWhen.?])
      ~ if we've been disabled, get out now
      doneif (tagis[Helper.SpcDisable] <> 0)
      ~ if we didn't pick monk weapons get out now!
      doneif (field[usrIndex].value <> 1)

      ~ Set the monk weapon proficiencies on the hero
      perform hero.pushtags[WepProf.?]]]></eval>
    <eval phase="Final" priority="9999" index="2"><![CDATA[
      ~ Note: This logic should always run even before level 8.
      ~       This allows for preventing the flurry of blows with
      ~       monk weapons "unless" we chose monk weapons at level
      ~       8.

      ~ if we've been disabled, get out now
      doneif (tagis[Helper.SpcDisable] <> 0)
      ~ if we picked monk weapons get out now!
      doneif (field[usrIndex].value = 1)

      perform hero.childfound[cMnkFlurr].assign[Helper.SpcDisable]]]></eval>
    <eval phase="Final" priority="10001" index="3"><![CDATA[
      ~ Note: This logic should always run even before level 8.
      ~       This allows for preventing the flurry of blows with
      ~       monk weapons "unless" we chose monk weapons at level
      ~       8.

      ~ if we've been disabled, get out now
      doneif (tagis[Helper.SpcDisable] <> 0)
      ~ if we picked monk weapons get out now!
      doneif (field[usrIndex].value = 1)

      perform hero.childfound[cMnkFlurr].delete[Helper.SpcDisable]
      perform hero.childfound[wUnarmed].assign[Helper.ShowFlurry]]]></eval>
    </thing>
  <thing id="cGiBPUMani" name="Manifesting" description="At 3rd level, a gifted blade gains the ability to manifest a small number of psionic powers, which are drawn from the gifted blade power list.\n\nA gifted blade chooses his powers from the gifted blade power list. At 3rd level, a gifted blade knows one gifted blade power of your choice. He learns new powers as indicated on Table: The Gifted Blade. A gifted blade can manifest any power that has a power point cost equal to or lower than his manifester level. The total number of powers a gifted blade can manifest per day is limited only by his daily power points.\n\nA gifted blade never needs to prepare powers ahead of time; he draws them from his mind when needed. When a gifted blade recovers his daily power points after resting, he may choose to rotate one or more powers he knows for new ones. These powers must always be chosen from the gifted blade power list, and the maximum number of powers the gifted blade may know at any one time in this fashion is listed on Table: The Gifted Blade. If a gifted blade learns a power through other means, such as the Expanded Knowledge feat, the Mental Power blade skill, or {i}psychic chirurgery{/i}, this power is known in addition to his normal powers. He may never exchange it for another power from the gifted blade list when he chooses his powers known, and it doesn&apos;t count against his limit of powers known at any one time.\n\nThe Difficulty Class for saving throws against gifted blade powers is 10 + the power&apos;s level + the gifted blade&apos;s Wisdom modifier.\n\nThrough 2nd level, a gifted blade has no manifester level. At 3rd level and higher, a gifted blade&apos;s manifester level is equal to his soulknife level - 2.\n\nA gifted blade gains the ability to learn 1st-level powers at 3rd level. Every four levels thereafter (7th, 11th, etc), a gifted blade gains the ability to master more complex powers, up to 4th level powers at level 15.\n\nTo learn or manifest a power, a gifted blade must have a Wisdom score of at least 10 + the power&apos;s level.\n\nA gifted blade&apos;s ability to manifest powers is limited by the power points he has available. His base daily allotment of power points is given on Table: Gifted Blade.{br}{br}In addition, he receives bonus power points per day if he has a high Wisdom score. His race may also provide bonus power points per day, as may certain feats and items. If a gifted blade has power points from a different class, those points are pooled together and usable to manifest powers from either class.\n\nThis ability replaces psychic strike. The gifted blade never gains the psychic strike class feature." compset="ClSpecial" summary="You have a reduced ML equal to ML-2.">
    <fieldval field="abValue" value="-2"/>
    <tag group="ProductId" tag="HLCommunit"/>
    <eval phase="First" priority="1500"><![CDATA[
      ~we're earlier than the normal test for whether we've reached the correct level, so we'll recreate that test here
      doneif (root.linkage[varies].field[cTotalLev].value + field[xExtraLev].value + field[xEffectLev].value < tagvalue[ClSpecWhen.?])
      ~ If we've been Disabled, get out now
      doneif (tagis[Helper.SpcDisable] <> 0)

      ~ Set hero.Psionic as at this level we are now a full Psionic Character with a ML
      call SetHeroPsi]]></eval>
    <eval phase="PostAttr" priority="10001" index="2"><![CDATA[
      ~ If we've been Disabled, get out now
      doneif (tagis[Helper.SpcDisable] <> 0)
      ~ If we have our ML adjustment level is zero then, get out now
      doneif (field[abValue].value = 0)

      ~ NOTES on abValue Fields:
      ~ abValue - Holds the amount to adjust the ML. If zero
      ~           this script does not run
      ~ abValue2 - Holds the calculated value for the number of
      ~            Hero.Manifester tags to put back on the hero.
      var iX as number
      var PP as number

      ~ CHANGE CLASS VALUES
      ~-------------------------------

      ~ Check to see if we are bootstrapped to an Archetype?
      if (root.islinkage[varies] <> 0) then
        ~ Adjust our archetype ML field values down by 2
        root.linkage[varies].field[cMagicLev].value += field[abValue].value
        root.linkage[varies].field[cMagicLev].value = maximum(root.linkage[varies].field[cMagicLev].value,0)
        root.linkage[varies].field[cCasterLev].value += field[abValue].value
        root.linkage[varies].field[cCasterLev].value = maximum(root.linkage[varies].field[cCasterLev].value,0)
      ~..We are bootstrapped directly to a class
      else
        ~ Adjust our class ML field values down by 2
        root.field[cMagicLev].value += field[abValue].value
        root.field[cCasterLev].value += field[abValue].value
      endif

      ~ CHANGE HERO TAGS
      ~-------------------------------

      ~ Count number of Manifester tags and then subtract out two of them. We
      ~ Need to know how many tags to put back on to the hero as delete[] removes
      ~ all tags and we just wish to remove 2.
      field[abValue2].value += hero.tagcount[Hero.Manifester] + field[abValue].value
      perform hero.delete[Hero.Manifester]
      perform hero.delete[Psionics.Class]

      ~ Loop and apply our adjusted number of Manifester tags back to hero
      while (iX < field[abValue2].value)
        iX += 1
        perform hero.assign[Hero.Manifester]
        perform hero.assign[Psionics.Class]
      loop

      ~ CHANGE POWER POINT RESERVE
      ~-------------------------------

      perform hero.findchild[BaseAttr,root.tagids[PsiAttr.?]].setfocus
      ~ If setfocus failed then get out now!
      doneif (state.isfocus = 0)

      ~ HL still calculated our PP attribute bonus using our full level
      ~ so we need to re-calculate the value and then remove it.
      PP = focus.field[aModBonus].value * root.linkage[varies].field[cTotalLev].value * .5
      PP = round(PP,0,-1)
      #resmax[resPowerPt] -= PP
      ~ Calculate our correct PP Reserve for our current ML add it to our
      ~ Power Point Reserve total.
      PP = focus.field[aModBonus].value * root.linkage[varies].field[cMagicLev].value * .5
      PP = round(PP,0,-1)
      #resmax[resPowerPt] += PP]]></eval>
    </thing>
  <thing id="cPUTacCoor" name="Coordinate" description="At 6th level, as long as the tactician maintains psionic focus, he may share any one teamwork feat he has with one member of his collective within line of sight and line of effect. Declaring which member of the collective gains the teamwork feat is a free action that may only be done once per round. The allys positioning and actions must still meet the prerequisites listed in the teamwork feat to receive the listed bonus, but the ally need not meet the feat prerequisites to gain the benefit.&quot;" compset="ClSpecial" summary="Psionic focus share one teamwork feat with one member within line of sight/effect.">
    <tag group="AbilType" tag="Super"/>
    <tag group="ProductId" tag="HLCommunit"/>
    </thing>
  <thing id="cPUInsStep" name="Insightful Steps" description="Starting at 2nd level, as long as you maintain focus, your insight allows you to know just where to step to keep your footing, allowing you to ignore difficult terrain. You may expend your psionic focus as an immediate action to grant this ability to an ally within 30 ft. for a number of rounds equal to your Intelligence modifier. Only one person, including you, can benefit from this ability at a time. At 6th level and every four psion levels thereafter, one additional creature may be affected by this ability at a time (2 at 6th, 3 at 10th, and so on)." compset="ClSpecial">
    <usesource source="pPsiUn"/>
    <tag group="abAction" tag="PUManFocus"/>
    <tag group="ProductId" tag="HLCommunit"/>
    </thing>
  <thing id="cPUDiscTal" name="Discipline Talents" description="Discipline Talents (Ps): When you meditate to regain your power points for the day, choose two powers from the following list: call to mind, catfall, create sound, far hand, hammer, and telepathic lash. As long as you maintain psionic focus, you may manifest either of your chosen powers without paying a power point cost, but the power may not be augmented or affected by metapsionic feats. The competence bonus from call to mind is reduced to +2, the effect of catfall only treats your fall as 20 ft. shorter than it is, the duration of create sound is one round per two psion levels (minimum 1 round), and the damage of hammer is reduced to 1d4.\nThis ability replaces the talents normally gained by a psion." compset="ClSpecial">
    <tag group="AbilType" tag="PsiLike"/>
    <tag group="ProductId" tag="HLCommunit"/>
    </thing>
  <thing id="arPUShaHnt" name="Shadow Hunter" description="Even the most intelligent of races can have fears of what might be lurking within the shadows, and a special breed of dread known as shadow hunters have learned how to use their connection to fears to manipulate darkness to aid them. Whether it is concealing them from sight or turning shadows into substance, shadow hunters are at home where others fear the unknown." compset="ClassVary" uniqueness="unique">
    <fieldval field="srcPageNum" value="269"/>
    <arrayval field="cvBonFtMod" index="4" value="-1"/>
    <arrayval field="cvCustTot" index="9" value="-1"/>
    <arrayval field="cvCustTot" index="11" value="-1"/>
    <arrayval field="cvCustTot" index="13" value="-1"/>
    <arrayval field="cvCustTot" index="15" value="-1"/>
    <arrayval field="cvCustTot" index="17" value="-1"/>
    <arrayval field="cvCustTot" index="19" value="-1"/>
    <usesource source="pPsiUn"/>
    <tag group="AbReplace" tag="cPUFearIns"/>
    <tag group="ClVaryName" tag="AppParen"/>
    <tag group="AbReplace" tag="cPUDevaTou"/>
    <tag group="ProductId" tag="HLCommunit"/>
    <bootstrap thing="cPUGrspShd">
      <autotag group="ClSpecWhen" tag="5"/>
      </bootstrap>
    <bootstrap thing="cPUStThShd">
      <autotag group="ClSpecWhen" tag="10"/>
      </bootstrap>
    <bootstrap thing="cPUShdwDiv">
      <autotag group="ClSpecWhen" tag="1"/>
      </bootstrap>
    <bootstrap thing="cPUCovNatu">
      <autotag group="ClSpecWhen" tag="1"/>
      </bootstrap>
    <link linkage="varies" thing="cHelpPU2"/>
    </thing>
  <thing id="cPUShdwDiv" name="Shadow Diversion" description="As a standard action, the shadow hunter can cause shadows to take physical shape adjacent to a creature within 30 ft. Unless the creature makes a successful Will save (DC 10 + 1/2 the shadow hunters level + the shadow hunters Charisma modifier), the creature treats the shadow as an enemy when determining if the creature is flanked until the end of the shadow hunters next turn. If the shadow is adjacent to multiple creatures, the shadow hunter must choose which one is affected by it. If the shadow hunter has Improved Feint, it reduces the action needed to use this ability to a move action, while Greater Feint reduces action needed to a swift action. This ability replaces devastating touch." compset="ClSpecial" summary="Use a shadow creature for flanking">
    <usesource source="pPsiUn"/>
    <tag group="abSave" tag="WillNeg"/>
    <tag group="ProductId" tag="HLCommunit"/>
    <tag group="StandardDC" tag="aCHA"/>
    <tag group="AbilType" tag="Super"/>
    <eval phase="PostAttr" priority="10000"><![CDATA[      ~ If we're not shown, just get out now
      doneif (tagis[Helper.ShowSpec] <> 1)
      ~ if we've been disabled, get out now
      doneif (tagis[Helper.SpcDisable] <> 0)

      ~ determine which Action tag to assign
      if (#hasfeat[fGreatFein] <> 0) then
        perform hero.child[cPUShdwDiv].assign[abAction.Swift]
      elseif (#hasfeat[fImpFeint] <> 0) then
        perform hero.child[cPUShdwDiv].assign[abAction.Move]
      else
        perform hero.child[cPUShdwDiv].assign[abAction.Standard]
      endif]]></eval>
    </thing>
  <thing id="cPUCovNatu" name="Covert Nature" description="The shadow hunter is at home in dark places and knows how to avoid detection. The shadow hunter gains an insight bonus to Stealth checks equal to half her class level (minimum +1). This ability replaces fearsome insight." compset="ClSpecial" summary="Gain insight bonus to Stealth">
    <usesource source="pPsiUn"/>
    <tag group="ProductId" tag="HLCommunit"/>
    <eval phase="PostAttr" priority="10000"><![CDATA[      ~ If we're not shown, just get out now
      doneif (tagis[Helper.ShowSpec] <> 1)
      ~ if we've been disabled, get out now
      doneif (tagis[Helper.SpcDisable] <> 0)

      ~ Calc 1/2 Dread level with a minimum of 1
      field[abValue].value += maximum(round(field[xTotalLev].value/2,0,-1),1)
      #applybonus[BonInsight,hero.childfound[skStealth],field[abValue].value]]]></eval>
    </thing>
  <thing id="cPUGrspShd" name="Grasping Shade" description="A shadow hunter of 5th level can make shadows turn into reaching, grabbing tentacles of substance. As a standard action, the shadow hunter can target a creature within 30 ft. and direct shadows near the creature to entangle the target. The creature targeted cannot be in an area of bright light or the attempt fails. The creature may make a Reflex save to negate the attack with a DC equal to 10 + 1/2 the shadow hunters class level + the shadow hunters Charisma modifier. \n\nEntangled creatures can attempt to break free as a move action, making a Strength or Escape Artist check. The DC for this check is equal to 11 + the shadow hunters Charisma modifier. Successive successful uses on the same target before the target has successfully broken free cause the target to gain the grappled condition if entangled and the pinned condition if grappled, although a successful save only stops the target from gaining the additional condition. \n\nThis ability can be used a number of times per day equal to 3 + the shadow hunters Charisma modifier. This ability replaces the bonus feat normally gained at 5th level." compset="ClSpecial" summary="Use shadows to entagle a creature not in bright light">
    <fieldval field="abRange" value="30"/>
    <usesource source="pPsiUn"/>
    <tag group="abSave" tag="RefNeg"/>
    <tag group="StandardDC" tag="aCHA"/>
    <tag group="ProductId" tag="HLCommunit"/>
    <tag group="abRange" tag="Feet"/>
    <tag group="User" tag="Tracker"/>
    <tag group="ChargeAttr" tag="aCHA"/>
    <tag group="abAction" tag="Standard"/>
    <tag group="Usage" tag="Day"/>
    <tag group="ChargeCalc" tag="AttrUses3"/>
    </thing>
  <thing id="cPUStThShd" name="Step Through Shadows" description="At 10th level, if the shadow hunter is in an area of dim light or darkness, she can travel to another location of dim light or darkness as if by means of fold space, as long as the destination is within 60 ft. of the her initial location. Using this ability counts as a daily use of the terrors ability. This ability replaces the terror normally gained at 10th level." compset="ClSpecial" summary="Travel up to 60 ft through shadows">
    <fieldval field="abRange" value="60"/>
    <usesource source="pPsiUn"/>
    <tag group="AbilType" tag="Super"/>
    <tag group="abRange" tag="Feet"/>
    <tag group="ProductId" tag="HLCommunit"/>
    </thing>
  <thing id="cPUCollect" name="Collective" description="The character learns to use psionic power to connect willing minds through an internal network that strengthens their psychic bonds. As a standard action, you can join any number of willing targets into your collective (up to your limit, see below). You must have line of sight to each target, each target must have a Wisdom score of at least 1, and all targets must be within Medium range (100 ft. + 10 ft. per class level). The collective can contain up to your relevant ability modifier (determined by class) or half your level (minimum 1), whichever is higher. If you are a zealot, add the intensity of your zeal to this limit.  You are always considered a member of your own collective, and do not count against this limit. \n\nYou can choose to remove a member as a free action on your turn, and any member can voluntarily leave the collective as a free action on their turn. Any member whose Wisdom drops to zero or who moves out of range of the collective is automatically removed. If a member enters a null psionics field, the connection to the collective is suppressed until the member leaves the field. A member who leaves the collective for any reason immediately loses any and all benefits they may have gained from being a member. You are aware of the status of his collective and can, roughly, sense the presence of each member, although beyond telling if such a creature is still a member, this has no mechanical benefit until higher levels (see telepathy below).\n\nIf you are capable of manifesting powers, casting spells, or initiating maneuvers, any compatible spell, power, or maneuver with a range greater than touch can be used through the collective. You may manifest any power with the Network Descriptor this way, regardless of their actual ranges or targets.\n\nIf a member of the collective dies, the member is removed from the collective and you must make a Fortitude save (DC 15) or lose 1 power point for every Hit Die of the fallen member or be sickened for an equal number of rounds.\n\nAt 15th level, your collective range is limitless on the same plane as you.\n\nAt 19th level, your range reaches even across other planes and dimensions." compset="ClSpecial">
    <comment>abValue = Max members</comment>
    <fieldval field="abValue2" value="10"/>
    <fieldval field="abRange" value="100"/>
    <tag group="AbilType" tag="Super"/>
    <tag group="ProductId" tag="HLCommunit"/>
    <eval phase="Final" priority="10000"><![CDATA[
      field[livename].text = field[thingname].text & " (" & field[abValue].value & " members, "
      if (field[xCount].value = 1) then
        field[livename].text &= field[abRange].value & " " & tagnames[abRange.?] & ")"
      elseif (field[xCount].value = 2) then
        field[livename].text &= "Same Plane)"

      elseif (field[xCount].value = 3) then
        field[livename].text &= "Anywhere)"

      endif
      if (field[xIndex].value = 2) then
        field[listname].text = "Collective Range (unlimited)"
        field[abSumm].text = "Your collective's range is unlimited within the same plane"
      elseif (field[xIndex].value = 3) then
        field[listname].text = "Collective Range (planar)"
        field[abSumm].text = "Your collective's range now extends across all planes"
      endif]]></eval>
    <eval phase="PostAttr" priority="2000" index="2"><![CDATA[      ~ Stop now if we're not the first copy
      doneif (tagis[Helper.FirstCopy] = 0)

      ~ The class that adds this ability will tag with UseAttr.? to specify which attribute modifies our max collective size; if we are using multiple classes then use only the highest attribute
      var abMod as number
      abMod = 0
      foreach pick in hero from BaseAttr where tagids[UseAttr.?, " | "]
        abMod = maximum(abMod,eachpick.field[aModBonus].value)
      nexteach

      ~ Max size is our attribute mod OR 1/2 class level, whichever is higher
      var lev as number
      lev = field[xAllLev].value + field[xExtraLev].value
      field[abValue].value += maximum(round(lev / 2,0,-1),abMod)

      ~ Zealot: Add zeal value to max members
      if (hero.childlives[cPW5Zeal] <> 0) then
        field[abValue].value += #value[cPW5Zeal]
      endif

      field[abSumm].text = "You have a collective of up to " & field[abValue].value & " individuals"

      if (field[xCount].value = 1) then
        field[abRange].value += (field[abValue2].value * field[xAllLev].value)
        perform assign[abRange.Feet]
        field[abSumm].text &= " within " & field[abRange].value & " feet"
      elseif (field[xCount].value = 2) then
        field[abRange].value = 0
        perform delete[abRange.Plane]
        field[abSumm].text &= " on the same plane"
      endif]]></eval>
    <eval phase="First" priority="1000" index="3"><![CDATA[      ~ This script is for characters who receive Collective from multiple classes.
      ~ We take our UseAttr tag (if any) and push it to the first instance of this special, if it doesn't already have this tag
      ~ This way, all UseAttr tags across all instances will be seen and considered
      perform hero.child[cPUCollect].pushtags[UseAttr.?]

      ~ If we have the Enlarged Collective feat, upgrades come online at level 12 and 16 instead of 15 and 19
      perform hero.childfound[fPUEnlgCol].setfocus
      doneif (state.isfocus = 0)
      if (tagvalue[ClSpecWhen.?] = 15) then
        perform tagreplace[ClSpecWhen.15,ClSpecWhen.12]
      endif
      if (tagvalue[ClSpecWhen.?] = 19) then
        perform tagreplace[ClSpecWhen.19,ClSpecWhen.16]
      endif]]></eval>
    </thing>
  <thing id="arPUNightC" name="Nightmare Constructor" description="Where most dreads use fear as something to manipulate in creatures, nightmare constructors turn fears into reality. These individuals form horrors created from the energy of nightmares and send them into battle. Enemies of nightmare constructors must truly face their deepest fears when confronted by the creatures created from terror.\n\n{b}Telepathic Lash:{/b} The nightmare constructor gains telepathic lash as a talent. This ability replaces talents.\n\n{b}Horror (Su):{/b} A nightmare constructor is able to form a creature created from distilled fears and nightmares. Creating a horror takes one minute of concentration to complete and the horror remains until dismissed by the nightmare constructor.\nThis horror functions as a summoners eidolon using the nightmare constructors class level as the summoner level, with the following exceptions. A horror is treated as a construct for the purposes of effects related to its type, such as favored enemy. Commanding a horror is the same as commanding an astral construct. A horror disperses if the nightmare constructor is rendered unconscious or dies.\nThe nightmare constructor can allow his horror to use his terrors, but such uses still count against his daily limit. At 3rd level, the nightmare constructor can also allow his horror to utilize his channel terrors ability.\nThis ability replaces devastating touch.\n\n{b}Reinvigorate Horror:{/b} The nightmare constructor is able to channel his own energy to restore the nightmarish form of his horror. As a standard action that provokes attacks of opportunity, the nightmare constructor can touch his horror and restore 5 hit points per power point spent. The nightmare constructor cannot spend more power points on this ability than his manifester level.\n\n{b}Devastating Touch:{/b} At 2nd level, the nightmare constructors horror gains the devastating touch ability of a dread, using the nightmare constructors class level to determine the total damage dealt. This also allows the nightmare constructor to select terrors that modify\ndevastating touch, but these terrors only apply to the horrors use of devastating touch. This ability replaces the power known gained at 2nd level.\n\n{b}Fear Surge (Su):{/b} When the horror of a 3rd level or higher nightmare constructor is within 30 ft. of a creature that suffers from the shaken, frightened, or panicked condition, the nightmare constructor gains an additional evolution point to spend on the horror. This evolution point only lasts while there is a creature within 30 ft. of the horror with the shaken, frightened, or panicked condition. This ability replaces channel terror.\n\n{b}Improved Fear Surge:{/b} At 6th level, when the nightmare constructor gains an evolution point from fear surge, he instead gains two evolution points. This ability replaces the terror normally gained at 6th level.\n\n{b}Greater Fear Surge:{/b} A nightmare constructor of 9th level gains three evolution points when his fear surge is activated. This ability replaces the bonus feat normally gained at 9th level.\n\n{b}Horrific Infusion (Su):{/b} Starting at 11th level, the nightmare constructor can merge with his horror as a standard action. The nightmare constructor wears the horror like translucent and undulating armor. The horror mimics all of the nightmare constructors movements, and the nightmare constructor perceives through the horrors senses and speaks through its voice, as the two are now one creature. The nightmare constructor directs all of the horrors actions while merged. While merged with his horror, the nightmare constructor uses the horrors Strength, Dexterity, and Constitution, but retains his own Intelligence, Wisdom, and Charisma. The nightmare constructor\ngains the horrors hit points as temporary hit points. When these hit points reach 0, the horror is killed and sent back to its home plane. The nightmare constructor uses the horrors base attack bonus, and gains the horrors armor and natural armor bonuses and modifiers to ability scores. The nightmare constructor also gains access to the horrors special abilities and the horrors evolutions. The nightmare\nconstructor is still limited to the horrors maximum number of natural attacks. The horror has no skills or feats of its own. The horror must be at least the same size as the nightmare constructor. The horror must have limbs for the nightmare constructor to cast spells with somatic components (should the nightmare constructor have spellcasting ability).\nWhile fused, the nightmare constructor loses the benefits of his armor. He counts both as his original type and as a construct for any effect related to type, whichever is worse for the nightmare constructor. Powers such as dismiss ectoplasm work on the horror,\nbut the nightmare constructor is unaffected. Neither the nightmare constructor nor his horror can be targeted separately, as they are fused into one creature. The nightmare constructor and horror cannot take separate actions. While fused with his horror, the nightmare\nconstructor can use all of his own abilities and gear, except for his armor. In all other cases, this ability functions as the normal horror ability. \nThis ability replaces shadow twin.\n\n{b}Empowered in Fear (Su):{/b} At 11th level, the nightmare constructors horror is treated as if under the effect of physical acceleration any time it is within 30 ft. of a creature suffering from either the shaken, frightened, or panicked conditions.\nAt 15th level, the horror is also treated as if under the form of doom power when within 30 ft. of a creature suffering from either the shaken, frightened, or panicked conditions. This effect allows the horror to have more natural attacks than its normal eidolon form limit.\nThis ability replaces twin fear." compset="ClassVary" uniqueness="unique">
    <fieldval field="srcPageNum" value="268"/>
    <fieldval field="cvEidStar" value="1"/>
    <fieldval field="srcBookInf" value="Ultimate Psionics"/>
    <arrayval field="cvCustTot" index="5" value="-1"/>
    <arrayval field="cvCustTot" index="7" value="-1"/>
    <arrayval field="cvCustTot" index="9" value="-1"/>
    <arrayval field="cvCustTot" index="11" value="-1"/>
    <arrayval field="cvCustTot" index="13" value="-1"/>
    <arrayval field="cvCustTot" index="15" value="-1"/>
    <arrayval field="cvCustTot" index="17" value="-1"/>
    <arrayval field="cvCustTot" index="19" value="-1"/>
    <arrayval field="cvPsiPowTo" index="1" value="-1"/>
    <arrayval field="cvBonFtMod" index="8" value="-1"/>
    <usesource source="pPsiUn"/>
    <tag group="ClVaryName" tag="AppParen"/>
    <tag group="AbReplace" tag="cPUChanTer"/>
    <tag group="AbReplace" tag="cPUDevaTou"/>
    <tag group="ProductId" tag="HLCommunit"/>
    <tag group="AbReplace" tag="cPUShaTwin"/>
    <tag group="AbReplace" tag="cPUDreTal"/>
    <tag group="AbReplace" tag="cPUTwinFea"/>
    <bootstrap thing="cPUTelLash">
      <autotag group="ClSpecWhen" tag="1"/>
      </bootstrap>
    <bootstrap thing="cPUHorror">
      <autotag group="ClSpecWhen" tag="1"/>
      </bootstrap>
    <bootstrap thing="cPUReinHor">
      <autotag group="ClSpecWhen" tag="1"/>
      </bootstrap>
    <bootstrap thing="cPUNCDevaT">
      <autotag group="ClSpecWhen" tag="2"/>
      </bootstrap>
    <bootstrap thing="cPUFearSur">
      <autotag group="ClSpecWhen" tag="3"/>
      </bootstrap>
    <bootstrap thing="cPUImpFrSu">
      <autotag group="ClSpecWhen" tag="6"/>
      </bootstrap>
    <bootstrap thing="cPUGrtFrSu">
      <autotag group="ClSpecWhen" tag="9"/>
      </bootstrap>
    <bootstrap thing="cPUEmpFear">
      <autotag group="ClSpecWhen" tag="15"/>
      </bootstrap>
    <bootstrap thing="cPUHorrInf">
      <autotag group="ClSpecWhen" tag="11"/>
      </bootstrap>
    <bootstrap thing="cPUEmpFear">
      <autotag group="ClSpecWhen" tag="11"/>
      </bootstrap>
    <link linkage="varies" thing="cHelpPU2"/>
    </thing>
  <thing id="cPUReinHor" name="Reinvigorate Horror" description="The nightmare constructor is able to channel his own energy to restore the nightmarish form of his horror. As a standard action that provokes attacks of opportunity, the nightmare constructor can touch his horror and restore 5 hit points per power point spent. The nightmare constructor cannot spend more power points on this ability than his manifester level." compset="ClSpecial">
    <usesource source="pPsiUn"/>
    <tag group="ProductId" tag="HLCommunit"/>
    </thing>
  <thing id="cPUNCDevaT" name="Devastating Touch" description="At 2nd level, the nightmare constructors horror gains the devastating touch ability of a dread, using the nightmare constructors class level to determine the total damage dealt. This also allows the nightmare constructor to select terrors that modify devastating touch, but these terrors only apply to the horrors use of devastating touch. This ability replaces the power known gained at 2nd level." compset="ClSpecial">
    <usesource source="pPsiUn" parent="pDscar" name="DSP - Ultimate Psionics"/>
    <tag group="ProductId" tag="HLCommunit"/>
    <eval phase="Final" priority="10000"><![CDATA[
      ~ Set the list name
      field[listname].text = field[name].text & " (" & field[xIndex].value & "d6+" & field[xTotalLev].value & ")"

      ~ If we've been Disabled, get out now
      doneif (tagis[Helper.SpcDisable] <> 0)
      ~ If we're not shown, just get out now
      doneif (tagis[Helper.ShowSpec] = 0)

      field[abValue].value += field[xCount].value

      field[livename].text = field[name].text & " (" & field[abValue].value & "d6+" & field[xTotalLev].value & ")"]]></eval>
    </thing>
  <thing id="cPUFearSur" name="Fear Surge" description="When the horror of a 3rd level or higher nightmare constructor is within 30 ft. of a creature that suffers from the shaken, frightened, or panicked condition, the nightmare constructor gains an additional evolution point to spend on the horror. This evolution point only lasts while there is a creature within 30 ft. of the horror with the shaken, frightened, or panicked condition. This ability replaces channel terror." compset="ClSpecial">
    <fieldval field="abValue" value="1"/>
    <usesource source="pPsiUn"/>
    <tag group="AbilType" tag="Super"/>
    <tag group="ProductId" tag="HLCommunit"/>
    <eval phase="Final" priority="10000"><![CDATA[      field[listname].text = field[name].text & " (+" & field[abValue].value & " evolution point(s) to spend on horror)"

      ~ If we've been Disabled, get out now
      doneif (tagis[Helper.SpcDisable] <> 0)
      ~ If we're not shown, just get out now
      doneif (tagis[Helper.ShowSpec] = 0)

      field[livename].text = field[name].text & " (+" & field[abValue].value & " evolution point(s) to spend on horror)"]]></eval>
    </thing>
  <thing id="cPUImpFrSu" name="Improved Fear Surge" description="At 6th level, when the nightmare constructor gains an evolution point from fear surge, he instead gains two evolution points. This ability replaces the terror normally gained at 6th level." compset="ClSpecial">
    <usesource source="pPsiUn"/>
    <tag group="ProductId" tag="HLCommunit"/>
    <eval phase="PostAttr" priority="10000"><![CDATA[      ~ If we've been Disabled, get out now
      doneif (tagis[Helper.SpcDisable] <> 0)
      ~ If we're not shown, just get out now
      doneif (tagis[Helper.ShowSpec] = 0)

      ~ increase the value of Fear Surge
      hero.child[cPUFearSur].field[abValue].value += 1]]></eval>
    </thing>
  <thing id="cPUGrtFrSu" name="Greater Fear Surge" description="A nightmare constructor of 9th level gains three evolution points when his fear surge is activated. This ability replaces the bonus feat normally gained at 9th level." compset="ClSpecial">
    <usesource source="pPsiUn"/>
    <tag group="ProductId" tag="HLCommunit"/>
    <eval phase="PostAttr" priority="10000"><![CDATA[      ~ If we've been Disabled, get out now
      doneif (tagis[Helper.SpcDisable] <> 0)
      ~ If we're not shown, just get out now
      doneif (tagis[Helper.ShowSpec] = 0)

      ~ increase the value of Fear Surge
      hero.child[cPUFearSur].field[abValue].value += 1]]></eval>
    </thing>
  <thing id="cPUHorrInf" name="Horrific Infusion" description="Starting at 11th level, the nightmare constructor can merge with his horror as a standard action. The nightmare constructor wears the horror like translucent and undulating armor. The horror mimics all of the nightmare constructors movements, and the nightmare constructor perceives through the horrors senses and speaks through its voice, as the two are now one creature. The nightmare constructor directs all of the horrors actions while merged.\nWhile merged with his horror, the nightmare constructor uses the horrors Strength, Dexterity, and Constitution, but retains his own Intelligence, Wisdom, and Charisma. The nightmare constructor gains the horrors hit points as temporary hit points. When these hit points reach 0, the horror is killed and sent back to its home plane. The nightmare constructor uses the horrors base attack bonus, and gains the horrors armor and natural armor bonuses and modifiers to ability scores. The nightmare constructor also gains access to the horrors special abilities and the horrors evolutions. The nightmare constructor is still limited to the horrors maximum number of natural attacks. The horror has no skills or feats of its own. The horror must be at least the same size as the nightmare constructor. The horror must have limbs for the nightmare constructor to cast spells with somatic components (should the nightmare constructor have spellcasting ability). \nWhile fused, the nightmare constructor loses the benefits of his armor. He counts both as his original type and as a construct for any effect related to type, whichever is worse for the nightmare constructor. Powers such as dismiss ectoplasm work on the horror, but the nightmare constructor is unaffected. Neither the nightmare constructor nor his horror can be targeted separately, as they are fused into one creature. The nightmare constructor and horror cannot take separate actions. While fused with his horror, the nightmare constructor can use all of his own abilities and gear, except for his armor. In all other cases, this ability functions as the normal horror ability.\nThis ability replaces shadow twin." compset="ClSpecial">
    <usesource source="pPsiUn"/>
    <tag group="ProductId" tag="HLCommunit"/>
    <tag group="AbilType" tag="Super"/>
    <tag group="abAction" tag="Standard"/>
    </thing>
  <thing id="cPUEmpFear" name="Empowered in Fear" description="At 11th level, the nightmare constructors horror is treated as if under the effect of {i}physical acceleration{/i} any time it is within 30 ft. of a creature suffering from either the shaken, frightened, or panicked conditions.\nAt 15th level, the horror is also treated as if under the {i}form of doom{/i} power when within 30 ft. of a creature suffering from either the shaken, frightened, or panicked conditions. This effect allows the horror to have more natural attacks than its normal eidolon form limit.\nThis ability replaces twin fear." compset="ClSpecial">
    <usesource source="pPsiUn"/>
    <tag group="ProductId" tag="HLCommunit"/>
    <tag group="AbilType" tag="Super"/>
    </thing>
  <thing id="cHelpPUMfg" name="Metaforge" compset="Class" uniqueness="unique">
    <fieldval field="cAbbr" value="Mfg"/>
    <fieldval field="cSkills" value="4"/>
    <fieldval field="cHDSides" value="10"/>
    <fieldval field="srcBookInf" value="Ultimate Psionics"/>
    <fieldval field="srcPageNum" value="359"/>
    <usesource source="pPsiUn"/>
    <tag group="ClassSkill" tag="skIntim"/>
    <tag group="ClassSkill" tag="skPUKnwPsi"/>
    <tag group="cRef" tag="Poor"/>
    <tag group="cWill" tag="Good"/>
    <tag group="ClassSkill" tag="skClimb"/>
    <tag group="Classes" tag="PUMetafrg" name="Metaforge" abbrev="Metaforge"/>
    <tag group="cFort" tag="Poor"/>
    <tag group="cAttack" tag="Good"/>
    <tag group="ClassSkill" tag="skPUAhypno"/>
    <tag group="FtCountAs" tag="PUSoulArc"/>
    <tag group="FtCountAs" tag="Soulknife"/>
    <tag group="FtCountAs" tag="Aegis"/>
    <tag group="ClsCountAs" tag="cHelpPU0"/>
    <tag group="Custom" tag="AegisLvls"/>
    <tag group="ProductId" tag="HLCommunit"/>
    <tag group="ClassSkill" tag="skFly"/>
    <bootstrap thing="cPUMfgMBE">
      <autotag group="ClSpecWhen" tag="1"/>
      </bootstrap>
    <bootstrap thing="cPUMCrsMB">
      <autotag group="ClSpecWhen" tag="1"/>
      </bootstrap>
    <bootstrap thing="cPUMXfrEn">
      <autotag group="ClSpecWhen" tag="2"/>
      </bootstrap>
    <bootstrap thing="cPUMDualS">
      <autotag group="ClSpecWhen" tag="3"/>
      </bootstrap>
    <bootstrap thing="cPUMXfrEn">
      <autotag group="ClSpecWhen" tag="4"/>
      </bootstrap>
    <bootstrap thing="cPUMCrsMB">
      <autotag group="ClSpecWhen" tag="5"/>
      </bootstrap>
    <bootstrap thing="cPUMXfrEn">
      <autotag group="ClSpecWhen" tag="6"/>
      </bootstrap>
    <bootstrap thing="cPUMXfrEn">
      <autotag group="ClSpecWhen" tag="8"/>
      </bootstrap>
    <bootstrap thing="cPUMCrsMB">
      <autotag group="ClSpecWhen" tag="9"/>
      </bootstrap>
    <bootstrap thing="cPUMSwXfr">
      <autotag group="ClSpecWhen" tag="10"/>
      </bootstrap>
    <bootstrap thing="cPUMXfrEn">
      <autotag group="ClSpecWhen" tag="10"/>
      </bootstrap>
    <bootstrap thing="cPUMfgASE">
      <autotag group="ClSpecWhen" tag="1"/>
      </bootstrap>
    </thing>
  <thing id="cPUMetafrg" name="Metaforge" description="Forming and creating items from thin air is a skill honed by many who practice the psionic arts. Some, like the soulknife, form a weapon out of psionic energy.  Others, like the aegis, form armor out of ectoplasm. A rare breed of psionic individual is capable of combining the abilities of the two, using the different techniques in a complementary fashion, where the whole is greater than the sum of its parts.\n\n{b}Role:{/b} Combining the abilities of two frontline combatants, a metaforge is most at home in the thick of battle, using his astral suit to ward off attacks, while he decimates enemies with his mind blade.\n\n{b}Alignment:{/b} Any." compset="ClassLevel" maxlimit="10">
    <usesource source="pPsiUn"/>
    <tag group="ClassType" tag="Prestige" name="Metaforge"/>
    <tag group="Custom" tag="AegisLvls"/>
    <tag group="Helper" tag="NoPathSoc"/>
    <tag group="ProductId" tag="HLCommunit"/>
    <bootstrap thing="cHelpPUMfg"></bootstrap>
    <link linkage="helper" thing="cHelpPUMfg"/>
    <exprreq message="Enhanced Mind Blade class feature required."><![CDATA[#hasability[cSknEnhMB] <> 0]]></exprreq>
    <exprreq message="Invigorating Suit class feature required."><![CDATA[#hasability[cPUInvigSu] <> 0]]></exprreq>
    <prereq message="Craft (any) 3 ranks required.">
      <validate><![CDATA[
        ~ Valid if any craft skill is 3+ ranks
        foreach pick in hero from BaseSkill where "Helper.SkCatCraft"
            validif (eachpick.field[skRanks].value >= 3)
        nexteach]]></validate>
      </prereq>
    </thing>
  <thing id="cPUMfgASE" name="Astral Suit Enhancement" description="At each level, treat the metaforge as if he had gained a level of aegis for the purposes of damage reduction and customization points.  The metaforge does not gain any other benefits from an increased level (power points, bonus customizations, daily uses of reconfigure, etc.).  This does, however, allow the metaforge to qualify for customizations dependant on his aegis level, such as the Reach customization." compset="ClSpecial" summary="Increase aegis suit for DR &amp; CP purposes.">
    <tag group="ProductId" tag="HLCommunit"/>
    <tag group="Hide" tag="Statblock"/>
    <eval phase="PostLevel" priority="610" name="Increase Astral Suit CP"><![CDATA[
      ~ Need to run after Post-levels 600, as Aegis hard-codes CPs then.

      ~ If we're not shown, just get out now
      doneif (tagis[Helper.ShowSpec] = 0)

      var V_CurrLvl as number
      var V_NewLvl as number

      V_CurrLvl = #levelcount[Aegis]
      V_NewLvl  = #levelcount[PUMetafrg] + #levelcount[Aegis]

      ~ Set Aegis Customization Points
      Call PUSetAegCP]]></eval>
    <eval phase="PreLevel" priority="10000" index="2" name="Handle Aegis Suit DR increase"><![CDATA[
      ~ At each level, treat the metaforge as if he had gained a level of
      ~ Aegis for the purposes of damage reduction.
      ~ We're earlier than the normal test for whether we've reached the correct level, so we'll recreate that test here
      doneif (root.field[cTotalLev].value + field[xExtraLev].value + field[xEffectLev].value < tagvalue[ClSpecWhen.?])

      ~ Add our PrC levels to the Aegis DR extra levels
      hero.childfound[cPUAegDR].field[xExtraLev].value += root.field[cTotalLev].value]]></eval>
    </thing>
  <thing id="cPUMfgMBE" name="Mind Blade Enhancement" description="At each level, treat the metaforge as if he had gained a level of soulknife for the purposes of Enhanced Mind Blade. The metaforge does not gain any other benefits from an increased level (blade skills, etc.)." compset="ClSpecial" summary="Increase Enhanced Mind Blade class ability">
    <tag group="ProductId" tag="HLCommunit"/>
    <tag group="Hide" tag="Statblock"/>
    <eval phase="PreLevel" priority="9000"><![CDATA[
      ~ At each level, treat the metaforge as if he had gained a level of
      ~ Soulknife for the purposes of Enhanced Mind Blade.

      ~ We're earlier than the normal test for whether we've reached the correct level, so we'll recreate that test here
      doneif (root.field[cTotalLev].value + field[xExtraLev].value + field[xEffectLev].value < tagvalue[ClSpecWhen.?])

      ~ Add our PrC levels to the Soulknife Ehanced Mind Blade extra levels
      hero.childfound[cSknEnhMB].field[xExtraLev].value += root.field[cTotalLev].value]]>
      <before name="Fighters Blade"/>
      </eval>
    </thing>
  <thing id="cPUMCrsMB" name="Crystallized Mind Blade" description="A metaforge is able to combine the ectoplasm he uses to form his astral suit and the psionic energy he uses to shape his mind blade into a crystallized form of his mind blade.  Creating a crystallized mind blade works the same as forming a mind blade, and the weapon functions in all ways mechanically as the metaforges mind blade, except as  follows.  The weapons hardness and  hit points are increased by 1 for each level the metaforge has.  In addition,the weapon can be charged with 1 power point, increasing its enhancement bonus by 1.\n\nAt 5th level, the weapon can instead be charged with 2 power points, increasing its enhancement bonus by 2.\n\nAt 9th level, the weapon can instead be charged with 3 power points, increasing its enhancement bonus by 3.\n\n{b}Note:{/b} Hero Lab does not currently maintain Hardness or Hit Points for weapons." compset="ClSpecial" summary="Create crystallized mind blade from ectoplasm/psionic energy.">
    <usesource source="pPsiUn"/>
    <tag group="ProductId" tag="HLCommunit"/>
    <tag group="AbilType" tag="Super"/>
    <eval phase="PostLevel" priority="10000"><![CDATA[
      ~ Set the list name
      field[listname].text = field[thingname].text & " " & field[xIndex].value

      ~ If we're not shown, just get out now
      doneif (tagis[Helper.ShowSpec] <> 1)
      ~ if we've been disabled, get out now
      doneif (tagis[Helper.SpcDisable] <> 0)

      field[abValue].value += field[xCount].value
      field[livename].text = field[thingname].text & " " & signed(field[abValue].value)]]></eval>
    </thing>
  <thing id="cPUMXfrEn" name="Transfer Enhancement" description="Starting at 2nd level, a metaforge can spend one minute in concentration to \nreduce his mind blades enhancement bonus or weapon special abilities by 1 (or a +1 equivalent ability) and gain an armor special ability of equal value added to the astral suit.  This transfer lasts until the metaforge spends another minute to either revert his mind blade to its full power or to alter the armor special ability granted to his astral suit.\n\nA metaforge may only have one such transfer in effect at any given time and may not reduce his mind blade to a +0 enhancement bonus.  Every two levels thereafter, the enhancement bonus that the metaforge can transfer is increased by 1, to a maximum of +5 at 10th level." compset="ClSpecial" summary="Transfer mind blade enhancement to astral suit.">
    <usesource source="pPsiUn"/>
    <tag group="ProductId" tag="HLCommunit"/>
    <tag group="AbilType" tag="Super"/>
    <eval phase="Final" priority="10000" name="Display Transfer Enhancement"><![CDATA[
      ~ Set the list name
      field[listname].text = field[thingname].text & " " & signed(field[xIndex].value)

      ~ If we're not shown, just get out now
      doneif (tagis[Helper.ShowSpec] <> 1)
      ~ if we've been disabled, get out now
      doneif (tagis[Helper.SpcDisable] <> 0)

      field[abValue].value += field[xCount].value
      field[livename].text = field[thingname].text & " " & signed(field[abValue].value)

      ~ The following should only happen once on the first copy
      doneif (tagis[Helper.FirstCopy] = 0)]]></eval>
    </thing>
  <thing id="cPUMDualS" name="Dual Summon" description="Upon achieving 3rd level, the metaforge has learned to bring about his weapon and armor at the same time.  While maintaining his psionic focus, the metaforge can form both mind blade and astral suit at the same time. The action needed to do this is whichever action takes the longer between the two abilities.  \n\nFor example, take a soulknife with the Quick Draw feat and using Astral Juggernaut form. Using this ability in that case requires a full-round action, as that is how long it takes to form an astral suit in Astral Juggernaut form.  If using Astral Skin form, the example would instead take a swift action.\n\nThe metaforge may alternatively expend his psionic focus to summon both his mind blade and his astral suit.  The action needed to do this is whichever action takes the shorter between the two abilities." compset="ClSpecial" summary="Can form mind blade and astral suit at the same time.">
    <tag group="AbilType" tag="Super"/>
    <tag group="abAction" tag="PUManFocus"/>
    <tag group="ProductId" tag="HLCommunit"/>
    </thing>
  <thing id="cPUMSwXfr" name="Swift Transfer" description="At 10th level the metaforge can use his transfer enhancement ability as a standard action, rather than requiring one minute in concentration." compset="ClSpecial" summary="Can use transfer enhancement ability as a standard action">
    <tag group="ProductId" tag="HLCommunit"/>
    <tag group="AbilType" tag="Super"/>
    </thing>
  <thing id="arPUAmplif" name="Amplifier" description="Amplifiers use the collective bond to boost the abilities of their allies, allowing them increased accuracy, speed, and prowess. These tacticians do so at the cost of their ability to turn their collective into a coordinated combat unit. Amplifiers can help turn a dangerous fighter into a deadly killing machine." compset="ClassVary" uniqueness="unique">
    <tag group="ClVaryName" tag="AppParen"/>
    <tag group="AbReplace" tag="cPUCoorStr"/>
    <tag group="AbReplace" tag="cPUImpShar"/>
    <tag group="AbReplace" tag="cPUTacCoor"/>
    <tag group="AbReplace" tag="cPUTeamFt"/>
    <bootstrap thing="cPUInStrik">
      <autotag group="ClSpecWhen" tag="1"/>
      </bootstrap>
    <bootstrap thing="cPUHiMove">
      <autotag group="ClSpecWhen" tag="5"/>
      </bootstrap>
    <bootstrap thing="cPUAugOff">
      <autotag group="ClSpecWhen" tag="6"/>
      </bootstrap>
    <bootstrap thing="cPUEmpAtt">
      <autotag group="ClSpecWhen" tag="6"/>
      </bootstrap>
    <link linkage="varies" thing="cHelpPU4"/>
    </thing>
  <thing id="cPUInStrik" name="Inevitable Strike" description="The amplifier can grant the members of his collective the increased insight needed to make successful attacks. A number of times per day equal to 3 + the amplifiers Intelligence modifier, the amplifier can grant one member of his collective a +5 insight bonus to its next single attack roll made before the end of its next turn. At 3rd level and every 2 levels thereafter, this insight bonus increases by 1. This ability replaces coordinated strike." compset="ClSpecial">
    <usesource source="pDscar"/>
    <tag group="Helper" tag="MultiCopy"/>
    <tag group="AbilType" tag="Super"/>
    <tag group="User" tag="Tracker"/>
    <tag group="ChargeCalc" tag="AttrUses3"/>
    <tag group="ChargeAttr" tag="aINT"/>
    <tag group="abAction" tag="Standard"/>
    </thing>
  <thing id="cPUHiMove" name="Heightened Movement" description="  An amplifier of 5th level has gained the ability to accelerate the movements of members of the collective, allowing them to avoid danger and increase their movement speed. As a swift action, the amplifier can grant one member of his collective a +1 insight bonus to AC and Reflex saves, as well as a 5 ft. bonus to movement speed. This effect lasts a number of rounds equal to the amplifiers Intelligence modifier and counts as a use of the amplifiers strategies ability.\n  At 11th level, the insight bonus increases to +2 and the bonus to speed increases to 10 ft. \n  At 17th level, the insight bonus increases to +3 and the bonus to speed increases to 15 ft.\n  This ability replaces improved share." compset="ClSpecial">
    <tag group="abAction" tag="Swift"/>
    <tag group="Usage" tag="Rounds"/>
    <tag group="User" tag="Tracker"/>
    </thing>
  <thing id="cPUAugOff" name="Augmented Offense" description="An amplifier of 6th level can grant a member of his collective a boost to offensive abilities for a short duration. As a standard action, the amplifier can grant one member of his collective a +1 insight bonus to attack rolls and to the DC of the next\nsingle power or spell the collective member manifests or casts that has a save DC, and a +2 insight bonus to damage rolls. At 9th level and every 3 levels thereafter, the insight bonus to attack rolls and DCs increases by 1 and the insight bonus to damage rolls increases by 2. This effect lasts a number of rounds equal to the amplifiers Intelligence modifier. This ability replace teamwork feats." compset="ClSpecial">
    <tag group="AbilType" tag="Super"/>
    <tag group="abAction" tag="Standard"/>
    <tag group="ChargeCalc" tag="AttrOnly"/>
    <tag group="ChargeAttr" tag="aINT"/>
    <tag group="Usage" tag="Rounds"/>
    <tag group="User" tag="Tracker"/>
    </thing>
  <thing id="cPUEmpAtt" name="Empowered Attack" description="As an immediate action, an amplifier of 6th level can expend his psionic focus and pay two power points to treat one attack made by a member of his collective as empowered. An empowered attack deals 50% additional damage. The attack to be empowered cannot be modified by a similar effect such as Empower Power. This ability replaces coordinate." compset="ClSpecial">
    <tag group="abAction" tag="Immediate"/>
    <tag group="abAction" tag="PUExpFocus"/>
    </thing>
  <thing id="arPUBtMed" name="Battle Medic" description="Getting wounded allies back into the fight is a part of combat that some tacticians embrace, sacrificing some of their strategic options to learn techniques to mend wounds and guard against attacks. These battle medics are not as skilled at healing as vitalists, but offer a mixture of tactical and healing abilities to help turn the tide of battle." compset="ClassVary" uniqueness="unique">
    <arrayval field="cvCustTot" index="3" value="-1"/>
    <tag group="AbReplace" tag="cPULessStr"/>
    <tag group="AbReplace" tag="cPUCoorStr"/>
    <tag group="ClVaryName" tag="AppParen" name="Append (in Parentheses)" abbrev="Append (in Parentheses)"/>
    <tag group="AbReplace" tag="cPUTacCoor"/>
    <tag group="AbReplace" tag="cPUTeamFt"/>
    <bootstrap thing="cPUBMPwrK">
      <autotag group="ClSpecWhen" tag="1"/>
      </bootstrap>
    <bootstrap thing="cPUVitKnac">
      <autotag group="ClSpecWhen" tag="1"/>
      </bootstrap>
    <bootstrap thing="cPUVitTraW">
      <autotag group="ClSpecWhen" tag="4"/>
      </bootstrap>
    <bootstrap thing="cPUVitTraW">
      <autotag group="ClSpecWhen" tag="7"/>
      </bootstrap>
    <bootstrap thing="cPUVitTraW">
      <autotag group="ClSpecWhen" tag="10"/>
      </bootstrap>
    <bootstrap thing="cPUVitTraW">
      <autotag group="ClSpecWhen" tag="13"/>
      </bootstrap>
    <bootstrap thing="cPUVitTraW">
      <autotag group="ClSpecWhen" tag="16"/>
      </bootstrap>
    <bootstrap thing="cPUVitTraW">
      <autotag group="ClSpecWhen" tag="19"/>
      </bootstrap>
    <bootstrap thing="cPUVitTraW">
      <autotag group="ClSpecWhen" tag="1"/>
      </bootstrap>
    <bootstrap thing="cPUBMHBnd">
      <autotag group="ClSpecWhen" tag="4"/>
      </bootstrap>
    <bootstrap thing="cPUBMBitF">
      <autotag group="ClSpecWhen" tag="6"/>
      </bootstrap>
    <bootstrap thing="fPUCushBlo">
      <autotag group="ClSpecWhen" tag="6"/>
      </bootstrap>
    <bootstrap thing="fPUICushBl">
      <autotag group="ClSpecWhen" tag="12"/>
      </bootstrap>
    <bootstrap thing="fPUGCushBl">
      <autotag group="ClSpecWhen" tag="18"/>
      </bootstrap>
    <link linkage="varies" thing="cHelpPU4"/>
    </thing>
  <thing id="cPUBMPwrK" name="Battle Healer Additional Powers Known" compset="ClSpecial">
    <eval phase="Final" priority="10100"><![CDATA[
hero.child[cHelpPU4].field[cPsiExpr].text = "(" & hero.child[cHelpPU4].field[cPsiExpr].text & ") | (psiClass.cHelpPU5 & psiSubdisc.psdPUHeali)"]]></eval>
    </thing>
  <thing id="cPUGBPwrK" name="Gifted Blade Powers" compset="ClSpecial">
    <eval phase="Final" priority="10100"><![CDATA[
hero.child[cHelpSkn].field[cPsiExpr].text = "(" & hero.child[cHelpSkn].field[cPsiExpr].text & ") | (psiClass.arPUGiftBl)"]]></eval>
    </thing>
  <thing id="cPUBMHBnd" name="Healing Bond" description="A battle medic of 4th level has learned how to share healing over his network. When manifesting a power of the Healing subdiscipline with a range of personal, the battle medic can choose to change the target to a member of his collective. This ability replaces the strategy normally gained at 4th level." compset="ClSpecial">
    <tag group="abAction" tag="None"/>
    </thing>
  <thing id="cPUBMBitF" name="Back into the Fray" description="A battle medic of 6th level has learned to channel additional healing energy when it is most needed. When manifesting a power of the Healing subdiscipline on a member of his collective, and the target is below 50% of its total hit points, the battle medic can expend his psionic focus to treat that power as if affected by the Empower Power feat. This ability replaces coordinate." compset="ClSpecial"></thing>
  <thing id="cPUFrcPart" name="Forced Participant" description="A 1st level commander gains the Unwilling Participant* feat as a bonus feat. At 5th level and every 4 levels thereafter, the DC to resist being unwillingly added to the collective is increased by 1. \n\nThis ability replaces coordinated strike." compset="ClSpecial" summary="Any creature in the collective against their will makes a save against an effect from over the collective, they suffer a -2 penalty on the save to resist the effect.">
    <tag group="ProductId" tag="HLCommunit"/>
    <tag group="Helper" tag="SpecUp"/>
    <bootstrap thing="fPUUnwillP">
      <containerreq phase="First" priority="500"><![CDATA[
      count:Classes.Tactician >= 1 & !AbReplace.cPUFrcPart]]></containerreq>
      <autotag group="thing" tag="skipprereq"/>
      </bootstrap>
    <eval phase="PostLevel" priority="10000"><![CDATA[
      var nList as number
      nList = field[xIndex].value -1
      ~ Set the list name
      field[listname].text = field[thingname].text & " " & signed(nList)

      ~ If we're not shown, just get out now
      doneif (tagis[Helper.ShowSpec] <> 1)
      ~ if we've been disabled, get out now
      doneif (tagis[Helper.SpcDisable] <> 0)

      field[abValue].value += field[xCount].value-1
      field[livename].text = field[thingname].text & " " & signed(field[abValue].value)

      ~ The following should only happen once on the first copy
      doneif (tagis[Helper.FirstCopy] = 0)

      #dc[fPUUnwillP] += field[abValue].value]]></eval>
    </thing>
  <thing id="cPUIssOrdr" name="Issue Order" description="A commander of 4th level can, as a swift action, direct one member of his collective to  take an action that requires either a standard or move  action. On that members next turn, they must perform that command unless they make a successful Will saving throw at the same DC as that of the commanders Unwilling Participant* DC. This ability replaces the strategy normally gained at 4th level, but functions like a strategy, including using the same pool of 3 + the tacticans Charisma modifier limited uses per day." compset="CustomSpec" uniqueness="unique">
    <usesource source="pPsiUn" parent="pDscar" name="DSP - Ultimate Psionics"/>
    <tag group="SpecSource" tag="cHelpPU4" name="Tactician" abbrev="Tactician"/>
    </thing>
  <thing id="arPUComm" name="Commander" description="For some tacticians, it is not enough to direct their allies and coordinate battle tactics, they need to ensure that the members of their collective are doing exactly as told. These commanders can force individuals into their collective and force members within the collective to take actions by using telepathic force, rather than diplomatic measures." compset="ClassVary" uniqueness="unique">
    <arrayval field="cvBonFtMod" index="11" value="-1"/>
    <arrayval field="cvCustTot" index="3" value="-1"/>
    <tag group="AbReplace" tag="cPUCoorStr"/>
    <tag group="ClVaryName" tag="AppParen"/>
    <bootstrap thing="cPUThrall">
      <autotag group="ClSpecWhen" tag="12"/>
      </bootstrap>
    <bootstrap thing="cPUFrcPart">
      <autotag group="ClSpecWhen" tag="5"/>
      </bootstrap>
    <bootstrap thing="cPUFrcPart">
      <autotag group="ClSpecWhen" tag="9"/>
      </bootstrap>
    <bootstrap thing="cPUFrcPart">
      <autotag group="ClSpecWhen" tag="13"/>
      </bootstrap>
    <bootstrap thing="cPUFrcPart">
      <autotag group="ClSpecWhen" tag="17"/>
      </bootstrap>
    <bootstrap thing="cPUIssuOrd">
      <autotag group="ClSpecWhen" tag="4"/>
      </bootstrap>
    <bootstrap thing="cPUFrcPart">
      <autotag group="ClSpecWhen" tag="1"/>
      </bootstrap>
    <link linkage="varies" thing="cHelpPU4"/>
    </thing>
  <thing id="cPUThrall" name="Thrall" description="Once a commander has reached 12th level, he can treat one member of his collective as if a thrall and that member will follow any instruction given by the commander. Like a thrall, if this member of the collective dies while under this effect, the commander suffers one negative level for one day. This thrall effect can be ended by the commander as a free action, but otherwise is treated as a permanent effect. The targeted collective member may make a Will save at the same DC as the commanders Unwilling Participant DC if the commander gives any commands that would cause the thrall to harm itself or obviously suicidal orders. This ability replaces the teamwork feat normally gained at 12th level." compset="ClSpecial">
    <tag group="ProductId" tag="HLCommunit"/>
    </thing>
  <thing id="arPUFrProj" name="Fear Projector" description="Fear is a powerful emotion, and in the midst of battle, it can stop even the strongest warrior in his tracks. Fear projectors tap into these ubiquitous phobias and channel them into the minds of their enemies, even using the members of their collective to expand their influence." compset="ClassVary" uniqueness="unique">
    <arrayval field="cvBonFtMod" index="5" value="-1"/>
    <arrayval field="cvCustTot" index="9" value="-1"/>
    <tag group="ClVaryName" tag="AppParen"/>
    <tag group="AbReplace" tag="cPULessStr"/>
    <tag group="AbReplace" tag="cPUTacCoor"/>
    <link linkage="varies" thing="cHelpPU4"/>
    </thing>
  <thing id="arPUMtaNex" name="Metanexus" description="The sum is greater than its parts, and never has it been more true than with the metanexus. Their ability to harness their allies and redefine them as needed makes them highly flexible in the field of battle and using his allies as nodes to target others makes him capable of literally being everywhere at the same time." compset="ClassVary" uniqueness="unique">
    <arrayval field="cvPsiPowTo" index="8" value="-1"/>
    <arrayval field="cvCustTot" index="15" value="-1"/>
    <tag group="AbReplace" tag="cPUImpShar"/>
    <tag group="ClVaryName" tag="AppParen"/>
    <bootstrap thing="cPUBrdgPow">
      <autotag group="ClSpecWhen" tag="5"/>
      </bootstrap>
    <bootstrap thing="cPUPoolTrt">
      <autotag group="ClSpecWhen" tag="8"/>
      </bootstrap>
    <bootstrap thing="cPUHrnAlly">
      <autotag group="ClSpecWhen" tag="1"/>
      </bootstrap>
    <bootstrap thing="cPUCollKno">
      <autotag group="ClSpecWhen" tag="16"/>
      </bootstrap>
    <link linkage="varies" thing="cHelpPU4"/>
    </thing>
  <thing id="cPUBrdgPow" name="Bridged Power" description="A metanexus of 5th level has learned to use members of his collective as a link to alter the source of powers he manifests. Any time the metanexus manifests a power with a range greater than touch, he can choose a member of his collective and treat that member as the source for determining eligible targets or areas for the power. The metanexus must still himself have line of sight to the target or area to be affected to manifest the power. For example, a metanexus of 6th level who was manifesting a power of Short range (40 foot range) could use a member of his collective 100 feet away to target a creature within 40 feet of the collective member that would otherwise be beyond the Short range of the power. This ability replaces improved share (1)." compset="ClSpecial"></thing>
  <thing id="cPUPoolTrt" name="Pooled Traits" description="Starting at 8th level, a metanexus has learned to distribute the special abilities of the members of his collective. Any member of the collective can choose to use one of the racial traits of another willing member of the collective. Using this racial trait counts as a use for the member with the ability to be used and the benefiting collective member must spend the appropriate action to use the ability. Only racial traits that are limited in use per day, such as the xephs burst ability, or that require a power point cost, such as the elans resilience ability, can be distributed in this way, but if the ability has a power point cost, the benefiting member must pay double the normal power point cost. This ability replaces the power known normally gained at 8th level." compset="ClSpecial"></thing>
  <thing id="cPUHrnAlly" name="Harness Ally" description="Beginning at 11th level, the metanexus has learned not only to use his ally as a link for his powers, but to actually tap into the senses of that member of the collective. As a swift action, the metanexus can expend his psionic focus and use the visual and auditory senses of one member of his collective for one round. In that round, the metanexus can manifest a power and can select a target for the power if it is eligible to the chosen member of the collective. The power then uses that collective members line of sight and line of effect to determine eligible targets. The member of the collective selected must be within 100 feet of the metanexus to use this ability. The metanexus can cease using the collective members senses at any time as a free action. The metanexus otherwise manifests the power as normal. This ability replaces improved share (2)." compset="ClSpecial"></thing>
  <thing id="cPUCollKno" name="Collective Knowledge" description="Once a metanexus has reached level 16, he is able to tap into the collected psionic knowledge of all members of his collective. By taking a full-round action, the metanexus can manifest any power known by a member of his collective as if\nit was on the metanexuss list of powers known. If the powers manifesting time is longer than a standard action, that manifesting time is added to the time it takes to use this ability. If the power is not on the tactician power list, using this ability costs one daily use of the strategy ability. This ability replaces the strategy normally gained at 16th level." compset="ClSpecial"></thing>
  <thing id="cPUPrjFear" name="Project Fear" description="A fear projector is capable of projecting horrifying images into the minds of his enemies. As a standard action, the fear projector targets one creature within 30 ft. and projects these terrifying images into that creatures mind unless the creature makes a successful Will save (DC 10 + 1/2 the projectors level + the projectors Charisma modifier). A failed save means the creature is shaken for a number of rounds equal to the fear projectors Charisma modifier. This ability\nreplaces lesser strategies." compset="ClSpecial">
    <fieldval field="abRange" value="30"/>
    <tag group="abRange" tag="Feet"/>
    <tag group="abSave" tag="WillNeg"/>
    </thing>
  <thing id="cPUCllFear" name="Collective Fear" description="The fear projector at 6th level has learned to channel his powers over fear through his collective. The fear projector can choose one member of his collective and treat that as the source for any fearbased effect he uses, including his project fear ability, by expending his psionic focus while creating the effect to be redirected. This ability includes altering what creatures can be targeted by an effect, what creatures are affected by an effect, and the like. \n  In addition, the member of his collective selected is shrouded in frightening images that provide a +1 deflection bonus to AC until the end of its next turn. This ability replaces coordinate." compset="ClSpecial"></thing>
  <thing id="cPUPwrFear" name="Power from Fear" description="Once a projector has reached 6th level, his allies are able to tap into his fear-based power. When a member of the collective causes a creature to have the shaken, panicked, or frightened condition, that collective member gains a +1 morale\nbonus to attack rolls and saving throws for a number of rounds equal to the fear projectors Charisma modifier. Every four levels thereafter (9th, 13th, 17), this morale bonus improves by 1. This ability replaces the teamwork feat normally gained at 6th level." compset="ClSpecial"></thing>
  <thing id="cPUPrmFear" name="Permeating Fear" description="At 10th level, the fear projector can expend his psionic focus to channel his project fear ability through his collective and target all creatures within 30 ft. of any member of his collective. The fear projector must wait ten minutes after using this ability before he can use it again. This ability replaces the strategy normally gained at 10th level." compset="ClSpecial"></thing>
  <thing id="arPUMiasmi" name="Miasmic" description="Most vitalists have some understanding of how to cure poisons or diseases, but there are some vitalists that take a unique interest in understanding poisons and diseases and how to use these afflictions in a more offensive nature. These miasmic vitalists can then use this knowledge to cause sickness instead of curing it." compset="ClassVary" uniqueness="unique">
    <fieldval field="srcPageNum" value="289"/>
    <fieldval field="srcBookInf" value="Ultimate Psionics"/>
    <usesource source="pPsiUn"/>
    <tag group="AbReplace" tag="cPUStealHT"/>
    <tag group="AbReplace" tag="cPUVitTraW"/>
    <tag group="ClVaryName" tag="AppParen"/>
    <tag group="AbReplace" tag="cPUVitKnac"/>
    <tag group="AbReplace" tag="cPUVitReqA"/>
    <tag group="ProductId" tag="HLCommunit"/>
    <bootstrap thing="cPUNoxTale">
      <autotag group="ClSpecWhen" tag="1"/>
      </bootstrap>
    <bootstrap thing="cPUSickTou">
      <autotag group="ClSpecWhen" tag="1"/>
      </bootstrap>
    <bootstrap thing="cPUSickTou">
      <autotag group="ClSpecWhen" tag="5"/>
      </bootstrap>
    <bootstrap thing="cPUSickTou">
      <autotag group="ClSpecWhen" tag="9"/>
      </bootstrap>
    <bootstrap thing="cPUSickTou">
      <autotag group="ClSpecWhen" tag="13"/>
      </bootstrap>
    <bootstrap thing="cPUDisMast">
      <autotag group="ClSpecWhen" tag="3"/>
      </bootstrap>
    <bootstrap thing="cPUDisMast">
      <autotag group="ClSpecWhen" tag="7"/>
      </bootstrap>
    <bootstrap thing="cPUBlkToxn">
      <autotag group="ClSpecWhen" tag="5"/>
      </bootstrap>
    <link linkage="varies" thing="cHelpPU5"/>
    </thing>
  <thing id="cPUNoxTale" name="Noxious Talent" description="*Not implemented yet\nThe miasmic gains sense poison* and sicken body* as 0th level talents. This ability replaces knacks." compset="ClSpecial">
    <tag group="ProductId" tag="HLCommunit"/>
    </thing>
  <thing id="cPUDisMast" name="Disease Mastery" description="At 3rd level, a miasmic is immune to all diseases, including supernatural, magical, and psionic diseases, including mummy rot.\nAt 7th level, with a touch and by expending his psionic focus, the miasmic can absorb any mundane or supernatural disease affecting the target. The miasmic immediately suffers the effect of the disease unless he makes a successful save against the diseases save (if a save is normally allowed). A successful save negates the diseases effect, while on a failed save, the miasmic suffers the effects of the disease until the end of his next turn, after which he becomes immune to that application of the disease.\nThis ability replaces steal health." compset="ClSpecial">
    <tag group="ProductId" tag="HLCommunit"/>
    </thing>
  <thing id="cPUBlkToxn" name="Block Toxin" description="Starting at 5th level, members of the miasmics collective can request assistance against poisons or diseases. As an immediate action, the collective member can request the miasmic grant immunity to a specific disease or poison that they are currently affected by. The miasmic can grant this immunity by spending 5 power points as a free action even if it is not his turn and making a manifester level check against the save DC of the poison or disease. If the check is successful, the collective member is treated as immune to that specific application of poison or disease. This does not cure any damage suffered prior to the request being made. A miasmic can do this a number of times per day equal to 3 + his Wisdom modifier. This ability replaces request aid." compset="ClSpecial">
    <tag group="AbilType" tag="Super"/>
    <tag group="ProductId" tag="HLCommunit"/>
    <tag group="User" tag="Tracker"/>
    <tag group="ChargeCalc" tag="AttrUses3"/>
    <tag group="ChargeAttr" tag="aWIS"/>
    <tag group="Usage" tag="Day"/>
    </thing>
  <thing id="cPUExqAgny" name="Exquisite Agony" description="When a member of the sadists collective dies, instead of needing to make a save to avoid taking damage, the sadist gains a number of temporary power points equal to the Hit Die of the creature killed. These power points last a number of rounds equal to the sadists Wisdom modifier and do not stack with each other or other temporary power points. This ability replaces knacks." compset="ClSpecial">
    <tag group="AbilType" tag="Super"/>
    <tag group="ProductId" tag="HLCommunit"/>
    </thing>
  <thing id="cPULingrPn" name="Lingering Pain" description="A sadist of 3rd level learns to make wounds more painful than usual. Any time the sadist inflicts hit point damage on a creature and the\nsadist is maintaining psionic focus, it also causes bleed damage equal to half the sadists level unless the target makes a successful Fortitude save (DC 10 + 1/2 the sadists class level + the sadists Wisdom modifier). This ability replaces the power known normally gained at 3rd level; the sadist does not learn a new vitalist power until 5th level." compset="ClSpecial">
    <tag group="AbilType" tag="Super"/>
    <tag group="abAction" tag="PUManFocus"/>
    <tag group="abSave" tag="FortNeg"/>
    <tag group="StandardDC" tag="aWIS"/>
    <tag group="ProductId" tag="HLCommunit"/>
    </thing>
  <thing id="cPUEmpInPn" name="Empowered in Pain" description="A sadist of 5th level can treat any power he manifests of the healing subdiscipline as if affected by the Empower Power feat by expending\nhis psionic focus and causing a number of hit points in damage to one member of his collective equal to the total number of power points spent on the power. The member targeted by this damage cannot be the recipient of the healing (whether directly or through effects such\nas collective healing) and may attempt a Will save (DC 10 + 1/2 the sadists class level + the vitalists Wisdom modifier) to negate the effect, but doing so means the power is not empowered and psionic focus is still expended. The sadist cannot inflict this damage upon\nhimself. This ability replaces request aid." compset="ClSpecial">
    <tag group="AbilType" tag="Super"/>
    <tag group="abAction" tag="PUExpFocus"/>
    <tag group="abSave" tag="WillNeg"/>
    <tag group="StandardDC" tag="aWIS"/>
    <tag group="ProductId" tag="HLCommunit"/>
    </thing>
  <thing id="arPUSadist" name="Sadist" description="While most vitalists focus on healing wounds or siphoning off healing energy, some relish the pain their collective members feel. These sadists are able to empower their abilities when others feel pain, making them less predictable in how they will handle the wounds of their allies." compset="ClassVary" uniqueness="unique">
    <fieldval field="srcBookInf" value="Ultimate Psionics"/>
    <fieldval field="srcPageNum" value="289"/>
    <arrayval field="cvPsiPowTo" index="2" value="-1"/>
    <arrayval field="cvPsiPowTo" index="3" value="-1"/>
    <arrayval field="cvPsiPowTo" index="4" value="-1"/>
    <arrayval field="cvPsiPowTo" index="5" value="-1"/>
    <arrayval field="cvPsiPowTo" index="6" value="-1"/>
    <arrayval field="cvPsiPowTo" index="7" value="-1"/>
    <arrayval field="cvPsiPowTo" index="8" value="-1"/>
    <arrayval field="cvPsiPowTo" index="9" value="-1"/>
    <arrayval field="cvPsiPowTo" index="10" value="-1"/>
    <arrayval field="cvPsiPowTo" index="11" value="-1"/>
    <arrayval field="cvPsiPowTo" index="12" value="-1"/>
    <arrayval field="cvPsiPowTo" index="13" value="-1"/>
    <arrayval field="cvPsiPowTo" index="14" value="-1"/>
    <arrayval field="cvPsiPowTo" index="15" value="-1"/>
    <arrayval field="cvPsiPowTo" index="16" value="-1"/>
    <arrayval field="cvPsiPowTo" index="17" value="-1"/>
    <arrayval field="cvPsiPowTo" index="18" value="-1"/>
    <arrayval field="cvPsiPowTo" index="19" value="-1"/>
    <arrayval field="cvPsiPowTo" index="20" value="-1"/>
    <arrayval field="cvPsiPowTo" index="21" value="-1"/>
    <arrayval field="cvPsiPowTo" index="22" value="-1"/>
    <arrayval field="cvPsiPowTo" index="23" value="-1"/>
    <arrayval field="cvPsiPowTo" index="24" value="-1"/>
    <arrayval field="cvPsiPowTo" index="25" value="-1"/>
    <arrayval field="cvPsiPowTo" index="26" value="-1"/>
    <arrayval field="cvPsiPowTo" index="27" value="-1"/>
    <arrayval field="cvPsiPowTo" index="28" value="-1"/>
    <arrayval field="cvPsiPowTo" index="29" value="-1"/>
    <arrayval field="cvPsiPowTo" index="30" value="-1"/>
    <arrayval field="cvPsiPowTo" index="31" value="-1"/>
    <arrayval field="cvPsiPowTo" index="32" value="-1"/>
    <arrayval field="cvPsiPowTo" index="33" value="-1"/>
    <arrayval field="cvPsiPowTo" index="34" value="-1"/>
    <arrayval field="cvPsiPowTo" index="35" value="-1"/>
    <arrayval field="cvPsiPowTo" index="36" value="-1"/>
    <arrayval field="cvPsiPowTo" index="37" value="-1"/>
    <arrayval field="cvPsiPowTo" index="38" value="-1"/>
    <arrayval field="cvPsiPowTo" index="39" value="-1"/>
    <arrayval field="cvPsiPowTo" index="40" value="-1"/>
    <arrayval field="cvPsiPowTo" index="41" value="-1"/>
    <arrayval field="cvPsiPowTo" index="42" value="-1"/>
    <arrayval field="cvPsiPowTo" index="43" value="-1"/>
    <arrayval field="cvPsiPowTo" index="44" value="-1"/>
    <arrayval field="cvPsiPowTo" index="45" value="-1"/>
    <arrayval field="cvPsiPowTo" index="46" value="-1"/>
    <arrayval field="cvPsiPowTo" index="47" value="-1"/>
    <arrayval field="cvPsiPowTo" index="48" value="-1"/>
    <arrayval field="cvPsiPowTo" index="49" value="-1"/>
    <usesource source="pPsiUn"/>
    <tag group="AbReplace" tag="cPUVitKnac"/>
    <tag group="ClVaryName" tag="AppParen"/>
    <tag group="AbReplace" tag="cPUVitReqA"/>
    <tag group="ProductId" tag="HLCommunit"/>
    <bootstrap thing="cPUExqAgny">
      <autotag group="ClSpecWhen" tag="1"/>
      </bootstrap>
    <bootstrap thing="cPULingrPn">
      <autotag group="ClSpecWhen" tag="3"/>
      </bootstrap>
    <bootstrap thing="cPUEmpInPn">
      <autotag group="ClSpecWhen" tag="5"/>
      </bootstrap>
    <link linkage="varies" thing="cHelpPU5"/>
    </thing>
  <thing id="cHelpBSn" name="Body Snatcher" description="A body snatcher is a telepath of no small skill, capable of jumping from body to body with the ease an actor shifts between roles. Although the discipline developed as a way to truly know others minds, it rapidly developed into a means of borrowing anothers body and eventually progressed to more permanent means. Most body snatchers are telepaths, although occasionally other manifesters will spend the time to learn the techniques to become a body snatcher.\n\n  {b}Role{/b}: With their ability to switch bodies with others, body snatchers can make for difficult opponents to defeat. The biggest threat to a body snatcher is an opponent who is immune to mind-affecting powers, so constructs, undead, and similar enemies can be particularly difficult foes.\n\n  {b}Alignment{/b}: Although the act of stealing a body has an evil connotation, body snatchers can be of any alignment." compset="Class" uniqueness="unique">
    <fieldval field="cHDSides" value="6"/>
    <fieldval field="cAbbr" value="BSn"/>
    <fieldval field="cSkills" value="2"/>
    <fieldval field="srcBookInf" value="Ultimate Psionics"/>
    <fieldval field="srcPageNum" value="351"/>
    <arrayval field="cMagLevTot" index="3" value="3"/>
    <arrayval field="cMagLevTot" index="4" value="4"/>
    <arrayval field="cMagLevTot" index="5" value="5"/>
    <arrayval field="cMagLevTot" index="1" value="1"/>
    <arrayval field="cMagLevTot" index="2" value="2"/>
    <tag group="ClassSkill" tag="Perform"/>
    <tag group="ClassSkill" tag="skPUAhypno"/>
    <tag group="ClassSkill" tag="skBluff"/>
    <tag group="ClassSkill" tag="skDiplo"/>
    <tag group="ClassSkill" tag="skSenseMot"/>
    <tag group="ClassSkill" tag="skSpellcr"/>
    <tag group="cRef" tag="Poor"/>
    <tag group="cWill" tag="Good"/>
    <tag group="Classes" tag="cHelpBSn" name="Body Snatcher"/>
    <tag group="cAttack" tag="Poor"/>
    <tag group="ClassRole" tag="Special"/>
    <tag group="AgeColumn" tag="3"/>
    <tag group="cFort" tag="Poor"/>
    <bootstrap thing="cPUMldExch">
      <autotag group="ClSpecWhen" tag="1"/>
      </bootstrap>
    <bootstrap thing="cPUTFlRem">
      <autotag group="ClSpecWhen" tag="2"/>
      </bootstrap>
    <bootstrap thing="cPUTrmXfer">
      <autotag group="ClSpecWhen" tag="2"/>
      </bootstrap>
    <bootstrap thing="cPUMimMnd">
      <autotag group="ClSpecWhen" tag="3"/>
      </bootstrap>
    <bootstrap thing="cPURpdXfer">
      <autotag group="ClSpecWhen" tag="4"/>
      </bootstrap>
    <bootstrap thing="cPUSlHost">
      <autotag group="ClSpecWhen" tag="4"/>
      </bootstrap>
    <bootstrap thing="cPUMLCont">
      <autotag group="ClSpecWhen" tag="5"/>
      </bootstrap>
    <bootstrap thing="cPUGMldEx">
      <autotag group="ClSpecWhen" tag="5"/>
      </bootstrap>
    <bootstrap thing="cPUDIOTB">
      <autotag group="ClSpecWhen" tag="6"/>
      </bootstrap>
    <bootstrap thing="cPUTrMndSw">
      <autotag group="ClSpecWhen" tag="6"/>
      </bootstrap>
    <bootstrap thing="cPUBdyTh">
      <autotag group="ClSpecWhen" tag="1"/>
      </bootstrap>
    <bootstrap thing="cPUExtXfer">
      <autotag group="ClSpecWhen" tag="1"/>
      </bootstrap>
    </thing>
  <thing id="cHelpPU6" name="Body Snatcher" compset="ClassLevel" maxlimit="6">
    <usesource source="pPsiUn"/>
    <tag group="ClassType" tag="Prestige"/>
    <tag group="ProductId" tag="HLCommunit"/>
    <bootstrap thing="cHelpBSn"></bootstrap>
    <link linkage="helper" thing="cHelpBSn"/>
    <exprreq message="Extend Power feat required"><![CDATA[#hasfeat[fPUExtPow] <> 0]]></exprreq>
    <exprreq message="Manifester level 10 required."><![CDATA[tagcount[Hero.Manifester] >= 10]]></exprreq>
    <exprreq message="Two metapsionic feats required"><![CDATA[tagcount[fCategory.Metapsion] >= 2]]></exprreq>
    <exprreq message="Bluff 10 ranks required."><![CDATA[#skillranks[skBluff] >= 10]]></exprreq>
    <exprreq message="Perform (Acting) 3 ranks required."><![CDATA[#skillranks[skPerfAct] >= 3]]></exprreq>
    <exprreq message="Sense Motive 3 ranks required"><![CDATA[#skillranks[skSenseMot] >= 3]]></exprreq>
    <prereq message="Ability to manifest Brain Lock required.">
      <validate><![CDATA[
        var PowerID as String
        var HavePower as number

        PowerID = "puBraiLck2"
        Call HavePower
        @valid = HavePower]]></validate>
      </prereq>
    <prereq message="Ability to manifest Conceal Thoughts required.">
      <validate><![CDATA[
        var PowerID as String
        var HavePower as number

        PowerID = "puConTho0|puConTho1"
        Call HavePower
        @valid = HavePower]]></validate>
      </prereq>
    </thing>
  <thing id="cPUBdyTh" name="Body Thief" description="At 1st level, a body snatcher adds mind switch to her powers known. A body snatchers manifester level for mind switch is equal to her normal manifester level plus her class level, which may allow her to manifest it even if she could not normally do so. This improves its level-dependent parameters, including the limit on Hit Dice it can affect and the amount of power points that can be spent manifesting it. For example, Valis, a telepath 11 / body snatcher 4, has a manifester\nlevel of 14 normally, but manifests mind switch in all ways as if her manifester level were 18.\n\nThis has not been implemented.  Use Adjustments to implement" compset="ClSpecial">
    <fieldval field="usrCandid1" value="component.Class &amp; Psionics.Class"/>
    <fieldval field="usrCandid2" value="component.BasePower"/>
    <usesource source="pPsiUn"/>
    <tag group="DescInfo" tag="puMindSwt6"/>
    <tag group="AbilType" tag="Extra"/>
    <tag group="ChooseSrc1" tag="Hero"/>
    <tag group="ChooseSrc2" tag="Thing"/>
    <tag group="ProductId" tag="HLCommunit"/>
    <eval phase="PreLevel" priority="5000"><![CDATA[
      ~ If we're disabled, do nothing
      doneif (tagis[Helper.FtDisable] <> 0)
      ~ If nothing chosen get out now
      doneif (field[usrChosen1].ischosen <> 1)
      ~ If nothing chosen get out now
      doneif (field[usrChosen2].ischosen <> 1)

      ~ Get spell level from selection
      perform field[usrChosen2].chosen.pulltags[ClsAllowPs.?]
      perform field[usrChosen1].chosen.pushtags[ClsAllowPs.?]

      ~ Increase the powers known known field by one]]></eval>
    <prereq message="You must choose your new power from your class tab.">
      <validate><![CDATA[
        ~ Valid if we are not a pick
        validif (@ispick = 0)
        ~ If nothing chosen then we are valid
        validif (altpick.tagcount[ClsAllowPs.?] = 0)

        var sTag as string
        sTag = altpick.tagids[ClsAllowPs.?]
        ~ See if we can find the power live on hero
        perform hero.findchild[BasePower,sTag].setfocus
        ~ We are valid if we got a hit
        validif (state.isfocus <> 0)]]></validate>
      </prereq>
    </thing>
  <thing id="cPUExtXfer" name="Extended Transfer" description="A body snatcher may apply her Extend Power feat to her mind switch power without spending additional power points. She still needs to expend her psionic focus to use this ability." compset="ClSpecial">
    <tag group="ProductId" tag="HLCommunit"/>
    </thing>
  <thing id="cPUMldExch" name="Melding Exchange" description="During a mind switch, a body snatchers mind briefly interfaces with that of her target, resulting in a one-way exchange of information.  In addition to rudimentary or instinctive knowledge of the subject as normal for the power, she also learns the subjects name, where he lives, and who his principle associates and enemies are. While she remains in the subjects body, she also gains knowledge of all of the subjects languages (written and spoken), treats any Knowledge check made with a skill with which the subject had ranks as a trained check, and gains a +2 competence bonus per class level on any skill check used to impersonate the subject." compset="ClSpecial">
    <tag group="AbilType" tag="Extra"/>
    <tag group="ProductId" tag="HLCommunit"/>
    </thing>
  <thing id="cPUTFlRem" name="The Flesh Remembers" description="At 2nd level, a body snatcher can connect with a hosts kinaesthetic memories (muscle memories) and draw upon learned physical capabilities. While under the influence of mind switch, she gains the host bodys weapon and armor proficiencies. Additionally, she may choose to use her hosts ranks in skills keyed to Strength, Dexterity, or Constitution instead of her own. Her training limits how completely she can draw upon her host, though  she cannot emulate a higher rank than her class level + her Intelligence modifier. For instance, Valis (a 4th level body snatcher with an Intelligence modifier of +6) could use her hosts ranks in a physical skill such as Climb, but if the host has more than 10 ranks in Climb, she behaves as if the host had only 10 ranks." compset="ClSpecial">
    <tag group="AbilType" tag="Extra"/>
    <tag group="ProductId" tag="HLCommunit"/>
    </thing>
  <thing id="cPUTrmXfer" name="Traumatic Transfer" description="When manifesting mind switch, a body snatcher of 2nd level or higher may elect to make the process traumatic and disorienting to the other mind. The subject is stunned for 1 round upon arriving in the body snatchers body, and is dazed for\n1d4 rounds thereafter." compset="ClSpecial">
    <tag group="AbilType" tag="Extra"/>
    <tag group="ProductId" tag="HLCommunit"/>
    </thing>
  <thing id="cPUMimMnd" name="Mimic Mind" description="A 3rd-level body snatcher may use conceal thoughts to create a false set of surface thoughts appropriate for the body she currently occupies. If the body snatcher succeeds on a saving throw against an attempt to read her mind while under conceal thoughts, the intruder reads only the decoy thoughts. While the body snatcher does not need to specify the nature of these thoughts (although she may choose to do so), they will reflect what the prying party might expect to find were the bodys normal mind in residence. In addition, while under conceal thoughts, a body snatcher may emulate the alignment of the subject for purposes of fooling abilities that detect alignment.\n  At 5th level, this ability extends to include false memories, foiling effects such as mind probe." compset="ClSpecial">
    <tag group="AbilType" tag="Super"/>
    <tag group="ProductId" tag="HLCommunit"/>
    </thing>
  <thing id="cPURpdXfer" name="Rapid Transfer" description="At 4th level, a body snatcher manifests mind switch as a standard action instead of a full-round action." compset="ClSpecial">
    <tag group="AbilType" tag="Extra"/>
    <tag group="ProductId" tag="HLCommunit"/>
    </thing>
  <thing id="cPUSlHost" name="Seal the Host" description="At 4th level, a body snatcher learns to augment her mind switch power in a unique fashion, potentially sealing the subjects higher mind from taking control of her body. She adds the following augment to mind switch:\nIf you spend 2 additional power points, the subjects higher mind may be sealed away when it arrives in your body. If your mind switch is successful, the subject must make a second Will save or be dazed for as long as it remains in your body, similar to the brain lock power.  This is in addition to your traumatic transfer ability." compset="ClSpecial">
    <tag group="AbilType" tag="Extra"/>
    <tag group="ProductId" tag="HLCommunit"/>
    </thing>
  <thing id="cPUMLCont" name="Mindleap Contingency" description="At 5th level, a body snatcher unlocks the ability to use a unique metapsionic effect known as a mindleap contingency. Powers that specify a single target and can affect the body snatchers current form can be made into mindleap contingent\npowers. A mindleap contingent power, once manifest, lies dormant, undetectable and undispellable, for up to five minutes (after which time it fades harmlessly), or until the body snatcher leaves her current body via mind switch (either to return to her original body or to possess another). Immediately after the switch occurs, the mindleap contingency triggers, and the linked power takes effect on the body she was in when she established the contingency. Any choices to be made about the effect must be made when the power is manifest, not when it triggers. Saving throws made against a mindleap contingent power suffer a -5 penalty due to the sudden shift in bodies.\n  For example, Valis the telepath/body snatcher has already mind switched with a subject and is about to shift her mind back to her body. She manifests memory modification (opting to erase the memory of her time in the body) on her current (host) body as a mindleap contingency, after which she returns her mind to her native body. The subject, upon return to its body, is affected by the memory modification power, and must make a Will save (at -5) or be forced to forget the experience.\n  Using this ability is akin to using a metapsionic feat  a body snatcher must expend her psionic focus when establishing a mindleap contingency, and establishing one increases the powers power point cost by 4." compset="ClSpecial">
    <tag group="AbilType" tag="Super"/>
    <tag group="ProductId" tag="HLCommunit"/>
    </thing>
  <thing id="cPUGMldEx" name="Greater Melding Exchange" description="When a 5th level body snatcher uses her melding exchange ability, she draws far more knowledge from her target than usual. She may use the subjects ranks in Knowledge skills in place of her own, and she learns the command words\nor thoughts for any items the subject has (provided they were known to the subject). Additionally, as a standard action, she may expend her psionic focus to mentally ask her newfound memories one question, typically about the subjects past or personality. She learns the answer to that question to the best of the subjects knowledge. Asking about rote facts is often unnecessary, due to the granting of Knowledge ranks  this ability extends beyond the Knowledge skill." compset="ClSpecial">
    <tag group="AbilType" tag="Super"/>
    <tag group="ProductId" tag="HLCommunit"/>
    </thing>
  <thing id="cPUDIOTB" name="Death Is Only The Beginning" description="Common folklore suggests that many people see their lives flash before their eyes just before they die. In some ways, this is literal truth for a body snatcher, although she tends to see only opportunity. Immediately upon being reduced to -1 hit points or lower, or failing a saving throw against an effect that would kill her, a 6th level body snatcher may expend her psionic focus to manifest true mind switch as an immediate action at the same manifester level she manifests mind switch. She may only target her killer with this effect (thus, if the killer is out of range, this ability is worthless), and the save DC is reduced by 4 due to the desperate nature of this technique. If successful, her mind immediately switches places with\nher killers and her old body dies. She suffers level loss as normal for losing her previous body after a true mind switch." compset="ClSpecial">
    <tag group="AbilType" tag="Super"/>
    <tag group="ProductId" tag="HLCommunit"/>
    </thing>
  <thing id="cPUTrMndSw" name="True Mind Switch" description="A 6th level body snatcher adds true mind switch to her powers known at 6th level, even if she is incapable of manifesting 9th level powers. She may apply all her body snatcher class features (except seal the host and rapid transfer) to any manifestation of true mind switch, even one made at the moment of death through the use of death is only the beginning. \n\nThis has not been implemented.  Use Adjustments to implement" compset="ClSpecial">
    <fieldval field="usrCandid1" value="component.Class &amp; Psionics.Class"/>
    <fieldval field="usrCandid2" value="component.BasePower"/>
    <tag group="DescInfo" tag="puMindSwt6"/>
    <tag group="AbilType" tag="Extra"/>
    <tag group="ChooseSrc1" tag="Hero"/>
    <tag group="ChooseSrc2" tag="Thing"/>
    <tag group="ProductId" tag="HLCommunit"/>
    <eval phase="PreLevel" priority="5000"><![CDATA[
      ~ If we're disabled, do nothing
      doneif (tagis[Helper.FtDisable] <> 0)
      ~ If nothing chosen get out now
      doneif (field[usrChosen1].ischosen <> 1)
      ~ If nothing chosen get out now
      doneif (field[usrChosen2].ischosen <> 1)

      ~ Get spell level from selection
      perform field[usrChosen2].chosen.pulltags[ClsAllowPs.?]
      perform field[usrChosen1].chosen.pushtags[ClsAllowPs.?]

      ~ Increase the powers known known field by one]]></eval>
    <prereq message="You must choose your new power from your class tab.">
      <validate><![CDATA[
        ~ Valid if we are not a pick
        validif (@ispick = 0)
        ~ If nothing chosen then we are valid
        validif (altpick.tagcount[ClsAllowPs.?] = 0)

        var sTag as string
        sTag = altpick.tagids[ClsAllowPs.?]
        ~ See if we can find the power live on hero
        perform hero.findchild[BasePower,sTag].setfocus
        ~ We are valid if we got a hit
        validif (state.isfocus <> 0)]]></validate>
      </prereq>
    </thing>
  <thing id="cHelpPU7" name="Adaptive Warrior" description="Most masters of melee combat hone a particular fighting style over their career, learning the intricacies of a particular set of tactics to use against their opponents. But there are a select few who have learned to study the tactics, maneuvers, and style of those around them, adjusting their combat style based upon the circumstances.\nPsychic warriors and soulknives tend to be the most commonly found adaptive warriors, for their focus on combat is a natural lead in to that of the adaptive warrior. \n{b}Role:{/b} Adaptive warriors are most often found in the front lines of a battle, adjusting their fighting style to match the particular enemy of the moment. \n{b}Alignment{/b}: Adaptive warriors can be of any alignment." compset="Class" uniqueness="unique">
    <fieldval field="cHDSides" value="10"/>
    <fieldval field="cAbbr" value="AWr"/>
    <fieldval field="cSkills" value="2"/>
    <fieldval field="srcBookInf" value="Ultimate Psionics"/>
    <fieldval field="srcPageNum" value="349"/>
    <arrayval field="cMagLevTot" index="3" value="3"/>
    <arrayval field="cMagLevTot" index="4" value="4"/>
    <arrayval field="cMagLevTot" index="6" value="5"/>
    <arrayval field="cMagLevTot" index="7" value="6"/>
    <arrayval field="cMagLevTot" index="8" value="7"/>
    <arrayval field="cMagLevTot" index="9" value="8"/>
    <arrayval field="cMagLevTot" index="1" value="1"/>
    <arrayval field="cMagLevTot" index="2" value="2"/>
    <usesource source="pPsiUn"/>
    <tag group="ClassSkill" tag="skIntim"/>
    <tag group="ClassSkill" tag="skPercep"/>
    <tag group="ClassSkill" tag="skSenseMot"/>
    <tag group="cRef" tag="Good"/>
    <tag group="cWill" tag="Poor"/>
    <tag group="Classes" tag="cHelpPU7"/>
    <tag group="cAttack" tag="Poor"/>
    <tag group="ClassRole" tag="Combat"/>
    <tag group="AgeColumn" tag="1"/>
    <tag group="cFort" tag="Good"/>
    <tag group="ClassSkill" tag="skAcrobat"/>
    <tag group="ProductId" tag="HLCommunit"/>
    <tag group="ClassSkill" tag="skBluff"/>
    <tag group="ClassSkill" tag="skPUAhypno"/>
    <bootstrap thing="fArmShLgt"></bootstrap>
    <bootstrap thing="fWepMart"></bootstrap>
    <bootstrap thing="fArmShield"></bootstrap>
    <bootstrap thing="fSimple"></bootstrap>
    <bootstrap thing="fArmHeavy"></bootstrap>
    <bootstrap thing="cPUExTeq">
      <autotag group="ClSpecWhen" tag="1"/>
      </bootstrap>
    <bootstrap thing="cPUCFiStyl">
      <autotag group="ClSpecWhen" tag="1"/>
      </bootstrap>
    <bootstrap thing="cPUMimSk">
      <autotag group="ClSpecWhen" tag="2"/>
      </bootstrap>
    <bootstrap thing="cPUMimProf">
      <autotag group="ClSpecWhen" tag="3"/>
      </bootstrap>
    <bootstrap thing="cPUBlkAtk">
      <autotag group="ClSpecWhen" tag="5"/>
      </bootstrap>
    <bootstrap thing="cPUAccCmbt">
      <autotag group="ClSpecWhen" tag="6"/>
      </bootstrap>
    <bootstrap thing="cPUExtMem">
      <autotag group="ClSpecWhen" tag="7"/>
      </bootstrap>
    <bootstrap thing="cPUExtExam">
      <autotag group="ClSpecWhen" tag="8"/>
      </bootstrap>
    <bootstrap thing="cPUMimFeat">
      <autotag group="ClSpecWhen" tag="9"/>
      </bootstrap>
    <bootstrap thing="cPUCFStyle">
      <autotag group="ClSpecWhen" tag="10"/>
      </bootstrap>
    <bootstrap thing="fArmLight"></bootstrap>
    <bootstrap thing="fArmMedium"></bootstrap>
    </thing>
  <thing id="cPUAdaWar" name="Adaptive Warrior" compset="ClassLevel" maxlimit="10">
    <usesource source="pPsiUn"/>
    <tag group="ClassType" tag="Prestige"/>
    <tag group="ProductId" tag="HLCommunit"/>
    <bootstrap thing="cHelpPU7"></bootstrap>
    <link linkage="helper" thing="cHelpPU7"/>
    </thing>
  <thing id="cPUExTeq" name="Examine Technique" description="As long as an adaptive warrior maintains psionic focus, he is able to examine and remember the techniques of any creature within line of sight once per round as a move action. An adaptive warrior may examine up to his class level in\nenemies as long as all enemies are within line of sight. An adaptive warrior may choose to use this ability on allies in order to gain the benefits of his other class abilities. Once an adaptive warrior expends his psionic focus, he loses access to any techniques he examines until he uses this ability again. At 6th level, an adaptive warrior can use this ability as a swift action.{br}{br}{b}Note:{/b} This ability is not yet scripted." compset="ClSpecial">
    <tag group="AbilType" tag="Super"/>
    <tag group="ProductId" tag="HLCommunit"/>
    </thing>
  <thing id="cPUCFiStyl" name="Counter Fighting Style" description="As long as the adaptive warrior has examined an enemy for at least one round using Examine Technique, he gains a competence bonus on attack and damage rolls made against that opponent equal to half his class level (minimum +1). This bonus lasts for one minute after using Examine Fighting stile, or until the adaptive warrior uses his Examine Technique ability on another target or has expended his psionic focus. At 4th level, an adaptive warrior may expend his psionic focus when attacking an enemy he has examined to automatically threaten a critical hit. He must still make a successful attack roll against that enemy, and still gains the competence bonus to attack and damage rolls on that attack. Subsequent attacks do not gain the competence bonus from this ability again until the adaptive warrior once again uses the Examine Technique ability.{br}{br}{b}Note:{/b} This ability is not yet scripted." compset="ClSpecial">
    <tag group="AbilType" tag="Super"/>
    <tag group="ProductId" tag="HLCommunit"/>
    </thing>
  <thing id="cPUMimSk" name="Mimic Skill" description="As long as an adaptive warrior of 2nd level or higher maintains psionic focus, he may mimic any skill that uses Strength, Dexterity, or Constitution as its ability score modifier that he has seen used within the past minute by a creature targeted by Examine Technique. The adaptive warrior must have seen the skill being used by someone trained in the skill. The adaptive warrior is treated as having a number of skill ranks in the skill equal to his class level.{br}{br}{b}Note:{/b} This ability is not yet scripted." compset="ClSpecial">
    <tag group="AbilType" tag="Super"/>
    <tag group="User" tag="Activation"/>
    <tag group="ProductId" tag="HLCommunit"/>
    </thing>
  <thing id="cPUMimProf" name="Mimick Proficiency" description="As long as an adaptive warrior of 3rd level or higher maintains psionic focus, he may wield any weapon as if he had proficiency with that weapon as long as he has used Examine Technique on someone with proficiency and wielding the weapon within the past minute.{br}{br}{b}Note:{/b} This ability is not yet scripted." compset="ClSpecial">
    <tag group="User" tag="Activation"/>
    <tag group="ProductId" tag="HLCommunit"/>
    </thing>
  <thing id="cPUBlkAtk" name="Block Attack" description="As long as an adaptive warrior of 5th level maintains psionic focus, he may, as an immediate action, attempt to block any attack, but not touch attack, made by an opponent he has used his Examine Technique ability on within the past minute.\nTo successfully block the attack, the adaptive warrior makes an attack roll against the enemys attack roll, adding his class level to the roll. If the adaptive warriors attack roll is equal to or greater than the enemys attack, the attack is blocked and the adaptive warrior takes no damage and suffers no effects from the attack. This ability may not be used against opponents two or more size categories larger than the adaptive warrior.{br}{br}{b}Note:{/b} This ability is not yet scripted." compset="ClSpecial">
    <tag group="ProductId" tag="HLCommunit"/>
    </thing>
  <thing id="cPUAccCmbt" name="Accelerated Combat" description="An adaptive warrior of 6th level or higher may, by expending psionic focus, rapidly speed up any fighting style he has witnessed within the past minute. Once every ten minutes, when the adaptive warrior attacks an opponent that he has used\nExamine Technique on within the past minute, he may make two additional attacks at his highest attack bonus as part of a full attack action. In addition, he gains a +2 circumstance bonus to his Armor Class until the\nbeginning of his next turn.{br}{br}{b}Note:{/b} This ability is not yet scripted." compset="ClSpecial">
    <tag group="AbilType" tag="Super"/>
    <tag group="ProductId" tag="HLCommunit"/>
    </thing>
  <thing id="cPUExtMem" name="Extended Memory" description="Once an adaptive warrior reaches 7th level, the length of time he can choose to remember a particular fighting style, skill, proficiency, or feat is increased to one hour. In addition, the adaptive warrior may as a swift action attempt to recall\na single fighting style, skill, proficiency, or feat even after expending psionic focus by making a successful Autohypnosis roll (DC 15 + the number of rounds since witnessing the style, skill, proficiency, or feat). The adaptive warrior must currently have psionic focus to use this ability.{br}{br}{b}Note:{/b} This ability is not yet scripted." compset="ClSpecial">
    <tag group="AbilType" tag="Super"/>
    <tag group="ProductId" tag="HLCommunit"/>
    </thing>
  <thing id="cPUExtExam" name="Extended Examination" description="An adaptive warrior of 8th level or higher is able to examine creatures for longer periods of time to pick up more subtle aspects of a creatures fighting style or abilities. By examining a creature using Examine Technique as a full-round \naction, an adaptive warriors competence bonus against that enemy for the following round increases to his class level when using his Counter Fighting Style and Block Attack abilities.{br}{br}{b}Note:{/b} This ability is not yet scripted." compset="ClSpecial">
    <tag group="ProductId" tag="HLCommunit"/>
    </thing>
  <thing id="cPUMimFeat" name="Mimic Feat" description="As long as an adaptive warrior of 9th level or higher maintains psionic focus, he may mimic any Combat, Critical, or Psionic feat that he has seen used within the past minute by a creature targeted by Examine Technique. The feat must actually be a feat that is used as part of an action, such as Deep Impact, and not a passive ability, such as Psionic Body. The adaptive warrior must meet any prerequisites the feat may have to mimic it.{br}{br}{b}Note:{/b} This ability is not yet scripted." compset="ClSpecial">
    <tag group="AbilType" tag="Super"/>
    <tag group="ProductId" tag="HLCommunit"/>
    </thing>
  <thing id="cPUCFStyle" name="Combine Fighting Styles" description="Upon achieving 10th level, an adaptive warrior is able to combine the different fighting styles he has examined in the past hour, creating an unpredictable, yet highly effective technique that baffles his opponents. As long as the adaptive warrior maintains psionic focus, has used his Examine Technique ability on at least two creatures in the past hour, and has not expended his psionic focus since using his Examine Technique, he can, as a swift action, treat his opponents as flat-footed when making attacks against them until the start of his next turn. This ability may be used a number of times per day equal to 4 + the adaptive warriors Intelligence modifier.{br}{br}{b}Note:{/b} This ability is not yet scripted." compset="ClSpecial">
    <tag group="AbilType" tag="Super"/>
    <tag group="ProductId" tag="HLCommunit"/>
    </thing>
  <thing id="arPUDeadFt" name="Deadly Fist" description="{i}{b}Not fully implemented{/i}{/b}\nSome soulknives learn to channel the psionic energy of a mind blade into their unarmed strikes, making them lethal without the need for a weapon." compset="ClassVary" uniqueness="unique">
    <fieldval field="srcBookInf" value="Ultimate Psionics"/>
    <fieldval field="srcPageNum" value="280"/>
    <arrayval field="cvBonFtMod" index="0" value="-1"/>
    <arrayval field="cvBonFtMod" index="1" value="-1"/>
    <arrayval field="cvBonFtMod" index="2" value="-1"/>
    <arrayval field="cvBonFtMod" index="3" value="-1"/>
    <arrayval field="cvBonFtMod" index="4" value="-1"/>
    <arrayval field="cvBonFtMod" index="5" value="-1"/>
    <arrayval field="cvBonFtMod" index="6" value="-1"/>
    <arrayval field="cvBonFtMod" index="7" value="-1"/>
    <arrayval field="cvBonFtMod" index="8" value="-1"/>
    <arrayval field="cvBonFtMod" index="9" value="-1"/>
    <arrayval field="cvBonFtMod" index="10" value="-1"/>
    <arrayval field="cvBonFtMod" index="11" value="-1"/>
    <arrayval field="cvBonFtMod" index="12" value="-1"/>
    <arrayval field="cvBonFtMod" index="13" value="-1"/>
    <arrayval field="cvBonFtMod" index="14" value="-1"/>
    <arrayval field="cvBonFtMod" index="15" value="-1"/>
    <arrayval field="cvBonFtMod" index="16" value="-1"/>
    <arrayval field="cvBonFtMod" index="17" value="-1"/>
    <arrayval field="cvBonFtMod" index="18" value="-1"/>
    <arrayval field="cvBonFtMod" index="19" value="-1"/>
    <usesource source="pPsiUn" parent="pDscar" name="DSP - Ultimate Psionics"/>
    <tag group="ProductId" tag="HLCommunit"/>
    <tag group="AbReplace" tag="cSknEnhMB"/>
    <tag group="AbReplace" tag="cSknMindBl"/>
    <tag group="AbReplace" tag="cSknQuiDra"/>
    <tag group="AbReplace" tag="cSknThrMB"/>
    <tag group="PsiAttr" tag="aWIS" name="Wisdom" abbrev="Wisdom"/>
    <tag group="ClVaryName" tag="AppParen" name="Append (in Parentheses)" abbrev="Append (in Parentheses)"/>
    <bootstrap thing="cPUEmpStri">
      <autotag group="ClSpecWhen" tag="1"/>
      </bootstrap>
    <bootstrap thing="cPUEnhStri">
      <autotag group="ClSpecWhen" tag="1"/>
      </bootstrap>
    <bootstrap thing="cPUUnarmdA">
      <autotag group="ClSpecWhen" tag="1"/>
      </bootstrap>
    <bootstrap thing="cPUPsyDisc">
      <autotag group="ClSpecWhen" tag="1"/>
      </bootstrap>
    <bootstrap thing="cPUQuickEm">
      <autotag group="ClSpecWhen" tag="5"/>
      </bootstrap>
    <link linkage="varies" thing="cHelpSkn"/>
    </thing>
  <thing id="cPUEmpStri" name="Empowered Strikes" description="{i}{b}Not fully implemented{/i}{/b}\nAt 1st level, the deadly fist can, as a move action, wreath his body in psionic energy distilled from his own mind. This energy lasts until the\ndeadly fist chooses to dismiss it as a free action. When empowered strikes is active, the deadly fists unarmed strikes deal 1d6 points of damage if Mediumsized (or your normal unarmed strike damage, if higher) and are considered to be magic weapons for the purposes of overcoming damage reduction. Adjust unarmed damage if the deadly fist is a size other than Medium.\nThis effect is similar to a mind blade, except the deadly fist cannot change the form of empowered strikes, although he can change the damage type of his attacks between bludgeoning, piercing, and slashing, just like a normal soulknife. This effect cannot be broken like\na mind blade, and it is still considered to be unarmed attacks instead of a weapon.\nIn all other ways, empowered strikes functions as a mind blade, including using psychic strike.\nThis replaces the form mind blade class feature, but counts as form mind blade for prerequisites or requirements." compset="ClSpecial">
    <tag group="ProductId" tag="HLCommunit"/>
    <tag group="abAction" tag="Move"/>
    <tag group="abAction" tag="Free"/>
    </thing>
  <thing id="cPUEnhStri" name="Enhanced Strikes" description="{i}{b}Not fully implemented{/i}{/b}\nThe deadly fists empowered strikes are improved like a standard soulknifes mind blade, except the enhancement bonus or weapon special abilities apply to the deadly fists unarmed attacks, rather than to a weapon.\nThis replaces the enhanced mind blade class feature, but counts as enhanced mind blade for prerequisites or requirements." compset="ClSpecial">
    <tag group="ProductId" tag="HLCommunit"/>
    </thing>
  <thing id="cPUUnarmdA" name="Unarmed Assault" description="{i}{b}Not fully implemented{/i}{/b}\nAt 1st level, the deadly fist gains the Improved Unarmed Strike feat as a bonus feat. In addition, the deadly fist gains the Flurry of Fists blade skill.\nThis ability replaces the bonus feat gained at 1st level." compset="ClSpecial">
    <tag group="ProductId" tag="HLCommunit"/>
    </thing>
  <thing id="cPUPsyDisc" name="Psychokinetic Discharge" description="{i}{b}Not fully implemented{/i}{/b}\nA deadly fist of 1st level learns how to take the energy he has charged into his unarmed strikes and release it as a blast of energy at an opponent. As a ranged attack, the deadly fist can make an unarmed attack at an opponent. The attack deals damage as normal for the deadly fists unarmed attacks.\nThe range increment of the attack is 10, but is considered to be a projectile instead of a thrown weapon, so the attack has a maximum range of 10 increments instead of 5. Whether or not the attack hits, the deadly fists unarmed attacks are no longer empowered and he\nmust take the normal time to empower them.\nThis ability replaces throw mind blade." compset="ClSpecial">
    <tag group="ProductId" tag="HLCommunit"/>
    </thing>
  <thing id="cPUQuickEm" name="Quick Empower" description="{i}{b}Not fully implemented{/i}{/b}\nAt 5th level, the deadly fist can activate his empowered strikes ability as a free action instead of as a move action. He may only do so once per round. This ability replaces quick draw." compset="ClSpecial">
    <tag group="ProductId" tag="HLCommunit"/>
    </thing>
  <thing id="arPUArmBld" name="Armored Blade" description="{i}{b}Not fully implemented{/i}{/b}\nAlthough most soulknives choose to focus their psionic energy into weapons they can wield, some have chosen to channel their energy into a more defensive form, creating armor to protect themselves as well as the weapons to strike at their enemies." compset="ClassVary" uniqueness="unique">
    <fieldval field="srcPageNum" value="279"/>
    <fieldval field="srcBookInf" value="Ultimate Psionics"/>
    <usesource source="pPsiUn"/>
    <tag group="ClVaryName" tag="AppParen"/>
    <tag group="ProductId" tag="HLCommunit"/>
    <bootstrap thing="cPUAbMndAr">
      <autotag group="ClSpecWhen" tag="1"/>
      </bootstrap>
    <bootstrap thing="cPUShpMArm">
      <autotag group="ClSpecWhen" tag="1"/>
      </bootstrap>
    <bootstrap thing="cPUEnhMArm">
      <autotag group="ClSpecWhen" tag="3"/>
      </bootstrap>
    <bootstrap thing="cPUEnhMArm">
      <autotag group="ClSpecWhen" tag="5"/>
      </bootstrap>
    <bootstrap thing="cPUEnhMArm">
      <autotag group="ClSpecWhen" tag="7"/>
      </bootstrap>
    <bootstrap thing="cPUEnhMArm">
      <autotag group="ClSpecWhen" tag="9"/>
      </bootstrap>
    <bootstrap thing="cPUEnhMArm">
      <autotag group="ClSpecWhen" tag="11"/>
      </bootstrap>
    <bootstrap thing="cPUEnhMArm">
      <autotag group="ClSpecWhen" tag="13"/>
      </bootstrap>
    <bootstrap thing="cPUEnhMArm">
      <autotag group="ClSpecWhen" tag="15"/>
      </bootstrap>
    <bootstrap thing="cPUEnhMArm">
      <autotag group="ClSpecWhen" tag="17"/>
      </bootstrap>
    <bootstrap thing="cPUEnhMArm">
      <autotag group="ClSpecWhen" tag="19"/>
      </bootstrap>
    <link linkage="varies" thing="cHelpSkn"/>
    </thing>
  <thing id="arPUCuthrt" name="Cutthroat" description="With the ability to create a blade from thin air, soulknives can be extremely effective assassins. Cutthroat soulknives work to be even better at infiltration as well as how to perfectly place strikes against their opponents." compset="ClassVary" uniqueness="unique">
    <fieldval field="srcPageNum" value="280"/>
    <fieldval field="srcBookInf" value="Ultimate Psionics"/>
    <arrayval field="cvBonFtMod" index="0" value="-1"/>
    <arrayval field="cvBonFtMod" index="1" value="-1"/>
    <arrayval field="cvBonFtMod" index="2" value="-1"/>
    <arrayval field="cvBonFtMod" index="3" value="-1"/>
    <arrayval field="cvBonFtMod" index="4" value="-1"/>
    <arrayval field="cvBonFtMod" index="5" value="-1"/>
    <arrayval field="cvBonFtMod" index="6" value="-1"/>
    <arrayval field="cvBonFtMod" index="7" value="-1"/>
    <arrayval field="cvBonFtMod" index="8" value="-1"/>
    <arrayval field="cvBonFtMod" index="9" value="-1"/>
    <arrayval field="cvBonFtMod" index="10" value="-1"/>
    <arrayval field="cvBonFtMod" index="11" value="-1"/>
    <arrayval field="cvBonFtMod" index="12" value="-1"/>
    <arrayval field="cvBonFtMod" index="13" value="-1"/>
    <arrayval field="cvBonFtMod" index="14" value="-1"/>
    <arrayval field="cvBonFtMod" index="15" value="-1"/>
    <arrayval field="cvBonFtMod" index="16" value="-1"/>
    <arrayval field="cvBonFtMod" index="17" value="-1"/>
    <arrayval field="cvBonFtMod" index="18" value="-1"/>
    <arrayval field="cvBonFtMod" index="19" value="-1"/>
    <usesource source="pPsiUn"/>
    <tag group="fDisable" tag="fArmShield"/>
    <tag group="ClVaryName" tag="AppParen"/>
    <tag group="AbReplace" tag="cSknPsyStr"/>
    <tag group="fDisable" tag="fArmMedium"/>
    <tag group="ProductId" tag="HLCommunit"/>
    <bootstrap thing="cPUCunning">
      <autotag group="ClSpecWhen" tag="2"/>
      </bootstrap>
    <bootstrap thing="cPUCovTrai">
      <autotag group="ClSpecWhen" tag="1"/>
      </bootstrap>
    <bootstrap thing="cSneakAtt">
      <containerreq phase="First" priority="2500">Hero.PsiFocus</containerreq>
      <autotag group="ClSpecWhen" tag="3"/>
      </bootstrap>
    <bootstrap thing="cSneakAtt">
      <containerreq phase="First" priority="2500">Hero.PsiFocus</containerreq>
      <autotag group="ClSpecWhen" tag="6"/>
      </bootstrap>
    <bootstrap thing="cSneakAtt">
      <containerreq phase="First" priority="2500">Hero.PsiFocus</containerreq>
      <autotag group="ClSpecWhen" tag="10"/>
      </bootstrap>
    <bootstrap thing="cSneakAtt">
      <containerreq phase="First" priority="2500">Hero.PsiFocus</containerreq>
      <autotag group="ClSpecWhen" tag="14"/>
      </bootstrap>
    <bootstrap thing="cSneakAtt">
      <containerreq phase="First" priority="2500">Hero.PsiFocus</containerreq>
      <autotag group="ClSpecWhen" tag="18"/>
      </bootstrap>
    <link linkage="varies" thing="cHelpSkn"/>
    </thing>
  <thing id="arPUFerlHt" name="Feral Heart" description="{i}{b}Not fully implemented{/i}{/b}\nMind over matter is usually viewed to be the domain of the psion, the disciplined mind ruling over the body. Yet powerful feral instincts are also part of the mind, and when these instincts are born inside one with psionic potential, a feral heart is born. Their mind reforms their\nbodies, often into bestial forms, giving rise to many misconceptions about them being werewolves." compset="ClassVary" uniqueness="unique">
    <fieldval field="srcPageNum" value="281"/>
    <fieldval field="srcBookInf" value="Ultimate Psionics"/>
    <arrayval field="cvBonFtMod" index="0" value="-1"/>
    <arrayval field="cvBonFtMod" index="1" value="-1"/>
    <arrayval field="cvBonFtMod" index="2" value="-1"/>
    <arrayval field="cvBonFtMod" index="3" value="-1"/>
    <arrayval field="cvBonFtMod" index="4" value="-1"/>
    <arrayval field="cvBonFtMod" index="5" value="-1"/>
    <arrayval field="cvBonFtMod" index="6" value="-1"/>
    <arrayval field="cvBonFtMod" index="7" value="-1"/>
    <arrayval field="cvBonFtMod" index="8" value="-1"/>
    <arrayval field="cvBonFtMod" index="9" value="-1"/>
    <arrayval field="cvBonFtMod" index="10" value="-1"/>
    <arrayval field="cvBonFtMod" index="11" value="-1"/>
    <arrayval field="cvBonFtMod" index="12" value="-1"/>
    <arrayval field="cvBonFtMod" index="13" value="-1"/>
    <arrayval field="cvBonFtMod" index="14" value="-1"/>
    <arrayval field="cvBonFtMod" index="15" value="-1"/>
    <arrayval field="cvBonFtMod" index="16" value="-1"/>
    <arrayval field="cvBonFtMod" index="17" value="-1"/>
    <arrayval field="cvBonFtMod" index="18" value="-1"/>
    <arrayval field="cvBonFtMod" index="19" value="-1"/>
    <usesource source="pPsiUn"/>
    <tag group="ClVaryName" tag="AppParen"/>
    <tag group="ProductId" tag="HLCommunit"/>
    <tag group="AbReplace" tag="cSknMindBl"/>
    <tag group="AbReplace" tag="cSknEnhMB"/>
    <tag group="AbReplace" tag="cSknPsyStr"/>
    <tag group="AbReplace" tag="cSknQuiDra"/>
    <tag group="AbReplace" tag="cSknShaMB"/>
    <tag group="AbReplace" tag="cSknThrMB"/>
    <link linkage="varies" thing="cHelpSkn"/>
    </thing>
  <thing id="arPUShldBl" name="Shielded Blade" description="{i}{b}Not fully implemented{/i}{/b}\nSome soulknives choose to focus on both offense and defense, splitting the energy of their mind blade into a sword and a shield." compset="ClassVary" uniqueness="unique">
    <fieldval field="srcPageNum" value="283"/>
    <fieldval field="srcBookInf" value="Ultimate Psionics"/>
    <arrayval field="cvBonFtMod" index="0" value="-1"/>
    <arrayval field="cvBonFtMod" index="1" value="-1"/>
    <arrayval field="cvBonFtMod" index="2" value="-1"/>
    <arrayval field="cvBonFtMod" index="3" value="-1"/>
    <arrayval field="cvBonFtMod" index="4" value="-1"/>
    <arrayval field="cvBonFtMod" index="5" value="-1"/>
    <arrayval field="cvBonFtMod" index="6" value="-1"/>
    <arrayval field="cvBonFtMod" index="7" value="-1"/>
    <arrayval field="cvBonFtMod" index="8" value="-1"/>
    <arrayval field="cvBonFtMod" index="9" value="-1"/>
    <arrayval field="cvBonFtMod" index="10" value="-1"/>
    <arrayval field="cvBonFtMod" index="11" value="-1"/>
    <arrayval field="cvBonFtMod" index="12" value="-1"/>
    <arrayval field="cvBonFtMod" index="13" value="-1"/>
    <arrayval field="cvBonFtMod" index="14" value="-1"/>
    <arrayval field="cvBonFtMod" index="15" value="-1"/>
    <arrayval field="cvBonFtMod" index="16" value="-1"/>
    <arrayval field="cvBonFtMod" index="17" value="-1"/>
    <arrayval field="cvBonFtMod" index="18" value="-1"/>
    <arrayval field="cvBonFtMod" index="19" value="-1"/>
    <usesource source="pPsiUn"/>
    <tag group="ProductId" tag="HLCommunit"/>
    <tag group="ClVaryName" tag="AppParen"/>
    <tag group="Helper" tag="RemovePrim"/>
    <link linkage="varies" thing="cHelpSkn"/>
    </thing>
  <thing id="arPUBatWld" name="Battle Wilder" description="{i}{b}Not fully implemented{/i}{/b}\nThe battle wilder channels her emotions not into her manifesting ability, but into her combat prowess. While the battle wilder is still capable of and effective at using powers, she also gains improved battle capacity, as well as expanded training in weapons." compset="ClassVary" uniqueness="unique">
    <fieldval field="srcPageNum" value="290"/>
    <fieldval field="srcBookInf" value="Ultimate Psionics"/>
    <usesource source="pPsiUn"/>
    <tag group="ProductId" tag="HLCommunit"/>
    <tag group="ClVaryName" tag="AppParen"/>
    <tag group="AbReplace" tag="cWldWildSu"/>
    <tag group="AbReplace" tag="raKPPriEup"/>
    <tag group="AbReplace" tag="cWldImpSur"/>
    <tag group="AbReplace" tag="cWldSurBla"/>
    <tag group="AbReplace" tag="cWldSurBnd"/>
    <tag group="AbReplace" tag="cWldPerSur"/>
    <bootstrap thing="cPUCombFrt">
      <autotag group="ClSpecWhen" tag="5"/>
      </bootstrap>
    <bootstrap thing="fWepMart"></bootstrap>
    <bootstrap thing="cPUCombSur">
      <autotag group="ClSpecWhen" tag="1"/>
      </bootstrap>
    <bootstrap thing="cPUSurgAss">
      <autotag group="ClSpecWhen" tag="1"/>
      </bootstrap>
    <bootstrap thing="cPUCombEup">
      <autotag group="ClSpecWhen" tag="4"/>
      </bootstrap>
    <bootstrap thing="cPUPhyOver">
      <autotag group="ClSpecWhen" tag="20"/>
      </bootstrap>
    <link linkage="varies" thing="cHelpWld"/>
    </thing>
  <thing id="cPUCombSur" name="Combat Surge" description="A battle wilder channels her emotions into a physical boost of energy that strengthens her body. A battle wilder can invoke a combat surge in two possible manners. She can invoke a combat surge while manifesting a power or by spending 1 power point as a swift action. In either case, the battle wilder gains a +2 enhancement bonus to her Strength for one round after invoking a combat surge.\n  At 3rd level, the enhancement bonus to Strength increases to +4. At 7th level, the battle wilder also gains a +2 enhancement bonus to Constitution during a combat surge. At 11th level, the enhancement bonus to Constitution increases by +2. At 15th level, the enhancement bonus to Strength increases to +6. At 19th level, the enhancement bonus to Constitution increases to +6.\n  This ability replaces wild surge. The battle wilder does not get to select a surge type." compset="ClSpecial">
    <fieldval field="abValue" value="2"/>
    <fieldval field="abValue2" value="4"/>
    <fieldval field="abValue3" value="6"/>
    <usesource source="pPsiUn"/>
    <tag group="ProductId" tag="HLCommunit"/>
    <tag group="User" tag="Activation"/>
    <eval phase="PreAttr" priority="10000"><![CDATA[      ~ If we're not shown, just get out now
      doneif (tagis[Helper.ShowSpec] <> 1)
      ~ if we've been disabled, get out now
      doneif (tagis[Helper.SpcDisable] <> 0)
      ~ if ability not activated, get out now
      doneif (tagis[Helper.Activated] = 0)

      ~if activated calculate the bonus based on level
      if (#levelcount[Wilder] >= 19) then
         #applybonus[BonEnhance,hero.childfound[aSTR],field[abValue3].value]
         #applybonus[BonEnhance,hero.childfound[aCON],field[abValue3].value]
      elseif (#levelcount[Wilder] >= 15) then
         #applybonus[BonEnhance,hero.childfound[aSTR],field[abValue3].value]
         #applybonus[BonEnhance,hero.childfound[aCON],field[abValue2].value]
      elseif (#levelcount[Wilder] >= 11) then
         #applybonus[BonEnhance,hero.childfound[aSTR],field[abValue2].value]
         #applybonus[BonEnhance,hero.childfound[aCON],field[abValue2].value]
      elseif (#levelcount[Wilder] >= 7) then
         #applybonus[BonEnhance,hero.childfound[aSTR],field[abValue2].value]
         #applybonus[BonEnhance,hero.childfound[aCON],field[abValue].value]
      elseif (#levelcount[Wilder] >= 3) then
         #applybonus[BonEnhance,hero.childfound[aSTR],field[abValue2].value]
      elseif (#levelcount[Wilder] >= 1) then
         #applybonus[BonEnhance,hero.childfound[aSTR],field[abValue].value]
      endif]]></eval>
    </thing>
  <thing id="cPUSurgAss" name="Surging Assault" description="A battle wilder can expend her psionic focus as part of a full attack to gain one additional attack at her highest attack bonus. This ability replaces surge blast." compset="ClSpecial">
    <usesource source="pPsiUn"/>
    <tag group="ProductId" tag="HLCommunit"/>
    </thing>
  <thing id="cPUCombEup" name="Combat Euphoria" description="{i}{b}Not fully implemented{/i}{/b}\nAt 4th level. when a battle wilder uses her combat surge ability, she gains a +1 morale bonus on attack rolls, damage rolls, and saving throws for a number of rounds equal to the battle wilders Charisma modifier (minimum 1).\n  If a battle wilder is overcome by psychic enervation following her combat surge, she does not gain the morale bonus for this use of her combat surge ability.\n  At 12th level, the morale bonus on a battle wilders attack rolls, damage rolls, and saving throws increases to +2. At 20th level, the bonus increases to +3.\n  This ability replaces surging euphoria." compset="ClSpecial">
    <usesource source="pPsiUn"/>
    <tag group="ProductId" tag="HLCommunit"/>
    </thing>
  <thing id="cPUCombFrt" name="Combat Fortitude" description="Starting at 5th level, the battle wilder gains a +1 bonus to Fortitude saves as long as she is maintaining psionic focus. Every four levels beyond 5th (9th, 13th, and 17th level), this bonus improves by +1.\n  Starting at 17th level, whenever the battle wilder is subject to an effect that allows a Fortitude save, the battle wilder receives a second Fortitude save to negate the effect in addition to any save the effect may allow; if the spell or power already allows a Fortitude save to\nnegate, the battle wilder makes a second one, and would need to fail both to be affected.\n  This ability replaces Improved surge bond." compset="ClSpecial">
    <eval phase="PreAttr" priority="10000"><![CDATA[      ~ If we're not shown, just get out now
      doneif (tagis[Helper.ShowSpec] <> 1)
      ~ if we've been disabled, get out now
      doneif (tagis[Helper.SpcDisable] <> 0)

      var v_focus as number
      call PUPsiFocus
      ~ If not psionically focused get out now!
      doneif (v_focus = 0)

      ~if psi-focused calculate the bonus based on level
      if (#levelcount[Wilder] >= 17) then
         #applybonus[Bonus,hero.childfound[svFort],4]
      elseif (#levelcount[Wilder] >= 13) then
         #applybonus[Bonus,hero.childfound[svFort],3]
      elseif (#levelcount[Wilder] >= 9) then
         #applybonus[Bonus,hero.childfound[svFort],2]
      elseif (#levelcount[Wilder] >= 5) then
         #applybonus[Bonus,hero.childfound[svFort],1]
      endif]]></eval>
    </thing>
  <thing id="cPUPhyOver" name="Physical Overload" description="{i}{b}Not fully implemented{/i}{/b}\nA battle wilder of 20th level is able to push herself and greatly increase her combat ability. Once per day, the battle wilder can invoke a combat surge and gain a +8 enhancement bonus to both Strength and Constitution for a number of rounds equal to the battle wilders Charisma modifier (minimum 1). In addition, while under the affects of physical overload, the battle wilder treats her base attack bonus as equal to her battle wilder level, which may grant additional iterative attacks. Invoking a physical overload comes with it a guaranteed psychic enervation that does double the normal effect when the physical overload ends and this psychic enervation cannot be modified by feats or other abilities that would mitigate or otherwise alter it. This ability replaces perfect surge." compset="ClSpecial">
    <fieldval field="trkMax" value="1"/>
    <usesource source="pPsiUn"/>
    <tag group="User" tag="Tracker"/>
    <tag group="Usage" tag="Day"/>
    <tag group="ProductId" tag="HLCommunit"/>
    </thing>
  <thing id="cPUAbMndAr" name="Form Mind Armaments" description="{i}{b}Not fully implemented{/i}{/b}\nThe armored blade can form a mind blade in the same fashion as a standard soulknife, using the normal rules under the Form Mind Blade class feature. In addition, as a separate move action, he may form mind armor.\n  Mind armor can be formed as light, medium, or heavy form. Light form is treated in all ways (except visually) as a masterwork chain shirt. Medium form is treated in all ways (except visually) as masterwork chainmail. Heavy form is treated in all ways (except visually) as masterwork splint mail. Mind armor is treated like a mind blade in all other ways (breaking, null psionics fields, etc) and can be dismissed as a free action.\n  An armored blade is always considered proficient in his mind armor.\n  This replaces the form mind blade class feature, but counts as form mind blade for prerequisites or requirements.\n\n{b}Note:{/b} From the two drop down menus you must pick the type of mind armor (ie Light, Medium, or Heavy). Because these values can be changed often and in combat they display now on the In-Play tab also." compset="ClSpecial" summary="Form a semi-solid armor composed of psychic energy distilled from your own mind.">
    <arrayval field="usrArray" index="0" value="Light"/>
    <arrayval field="usrArray" index="1" value="Medium"/>
    <arrayval field="usrArray" index="2" value="Heavy"/>
    <tag group="SpecType" tag="ArmorClass"/>
    <tag group="ChooseSrc1" tag="Hero" name="All Picks on Hero" abbrev="All Picks on Hero"/>
    <tag group="Helper" tag="ActivMenu" name="ActivMenu" abbrev="ActivMenu"/>
    <tag group="AbilType" tag="Super"/>
    <eval phase="First" priority="50" name="Add Mind Blade Tags"><![CDATA[
      ~ If we've been Disabled, get out now
      doneif (tagis[Helper.SpcDisable] <> 0)

      ~ If nothing chosen get out now!
      doneif (field[usrChosen1].ischosen <> 1)

      perform field[usrChosen1].chosen.pulltags[MindBlade.?]
      perform hero.pushtags[MindBlade.?]]]></eval>
    <eval phase="PostLevel" priority="10000" index="2"><![CDATA[
      ~ If we're not shown, just get out now
      doneif (tagis[Helper.ShowSpec] <> 1)
      ~ If we've been Disabled, get out now
      doneif (tagis[Helper.SpcDisable] <> 0)
      ~ If we've not chosen anything, get out
      doneif (field[usrChosen1].ischosen = 0)

      ~ Bludgeoning
      if (field[usrIndex].value = 0) then
        perform assign[wType.B]
      ~ Piercing
      elseif (field[usrIndex].value = 1) then
        perform assign[wType.P]
      ~ Slashing
      elseif (field[usrIndex].value = 2) then
        perform assign[wType.S]
      endif

      ~ Find all Mindblades and set the damage type tag
      foreach pick in hero from BaseWep where "IsWeapon.wMindBlade"
        perform eachpick.delete[wType.?]
        perform eachpick.gizmo.delete[wType.?]
        perform eachpick.pushtags[wType.?]
        perform eachpick.gizmo.pushtags[wType.?]
      nexteach]]></eval>
    </thing>
  <thing id="cPUShpMArm" name="Shape Mind Armaments" description="The armored blade can shape his mind blade and mind armor in the same fashion as a standard soulknife shapes his mind blade. Her mind blade and mind armor must be reshaped separately.\n  This replaces the shape mind blade class feature, but counts as shape mind blade for prerequisites or requirements." compset="ClSpecial" summary="Change the form of your mind armament, or reassign its abilities">
    <usesource source="pPsiUn"/>
    <tag group="ProductId" tag="HLCommunit"/>
    </thing>
  <thing id="cPUEnhMArm" name="Enhanced Mind Armament" description="{i}{b}Not fully implemented{/i}{/b}\nThe armored blades mind armor and mind blade are improved like a standard soulknifes mind blade, including if the armored blade creates two mind blades, except the enhancement bonus increases at a reduced rate, rather than every odd level, as indicated on Table: Mind Armament Progression. The enhancement bonus for mind armor is unaffected if the armored blade shapes two mind blades.\nThe armored blade can select armor special abilities from the following.\nThis replaces the enhanced mind blade class feature, but counts as enhanced mind blade for prerequisites or requirements.\n\n{b}Note:{/b}  Currently the scripts will not error check if you increase the bonus past what you should be allowed or take a invalid item power.  This will come in a future update." compset="ClSpecial" summary="You can enhance your mind armament with extra power.">
    <usesource source="pPsiUn"/>
    <tag group="SpecType" tag="ArmorClass"/>
    <tag group="ProductId" tag="HLCommunit"/>
    <tag group="AbilType" tag="Super"/>
    <eval phase="Final" priority="10000"><![CDATA[
      ~ Set the list name
      field[listname].text = field[thingname].text & " " & signed(field[xIndex].value)

      ~ If we're not shown, just get out now
      doneif (tagis[Helper.ShowSpec] <> 1)
      ~ if we've been disabled, get out now
      doneif (tagis[Helper.SpcDisable] <> 0)

      field[abValue].value += field[xCount].value
      field[livename].text = field[thingname].text & " " & signed(field[abValue].value)
      field[abSumm].text = "You can enhance your Mind Armament with a total enhancement bonus of +" & field[abValue].value & "."]]></eval>
    </thing>
  <thing id="cPUCovTrai" name="Covert Training" description="A cutthroat gains 6 skill points + a number of skill points equal to his Intelligence modifier at each level, instead of the normal 4 skill points + Intelligence modifier at each level. This ability replaces the medium armor proficiency and shield proficiency normally gained by soulknives." compset="ClSpecial">
    <usesource source="pPsiUn"/>
    <tag group="ProductId" tag="HLCommunit"/>
    <tag group="AbilType" tag="Extra"/>
    <eval phase="PostLevel" priority="10000"><![CDATA[      ~ If we're not shown, just get out now
      doneif (tagis[Helper.ShowSpec] <> 1)
      ~ if we've been disabled, get out now
      doneif (tagis[Helper.SpcDisable] <> 0)

      ~increase hero's skill points earned from 4 to 6 per level
      hero.child[Totals].field[tSkBonus].value += 2]]></eval>
    </thing>
  <thing id="cPUCunning" name="Cunning" description="A cutthroat of 2nd level gains a +1 competence bonus on Bluff and Stealth skill checks made while maintaining psionic focus.  Furthermore, Bluff is a class skill for the cutthroat. At 6th level and every four soulknife levels thereafter, this bonus increases by 1 (to\na maximum of +5 at 18th level).\n  The cutthroat can expend his psionic focus to double this bonus for a single Bluff or Stealth skill check.\n  This ability replaces the bonus feat gained at first level." compset="ClSpecial">
    <fieldval field="abValue" value="1"/>
    <usesource source="pPsiUn"/>
    <tag group="ProductId" tag="HLCommunit"/>
    <tag group="AbilType" tag="Super"/>
    <tag group="abAction" tag="PUExpFocus"/>
    <tag group="abAction" tag="PUManFocus"/>
    <eval phase="PostLevel" priority="10000"><![CDATA[      ~ If we're not shown, just get out now
      doneif (tagis[Helper.ShowSpec] <> 1)
      ~ if we've been disabled, get out now
      doneif (tagis[Helper.SpcDisable] <> 0)

      ~ make Bluff class skill
      #makeclassskill[skBluff]

      ~ check if Psi-focused
      var v_focus as number
      call PUPsiFocus
      ~ If not psionically focused get out now!
      doneif (v_focus = 0)

      ~ gain comp bonus on Bluff and Stealth when Psi-focused
      if (#levelcount[Soulknife] >= 18) then
        field[abValue].value = 5
      elseif (#levelcount[Soulknife] >= 14) then
        field[abValue].value = 4
      elseif (#levelcount[Soulknife] >= 10) then
        field[abValue].value = 3
      elseif (#levelcount[Soulknife] >= 6) then
        field[abValue].value = 2
      endif

      #applybonus[BonComp,hero.childfound[skBluff],field[abValue].value]
      #applybonus[BonComp,hero.childfound[skStealth],field[abValue].value]]]></eval>
    </thing>
  <thing id="cSknPUBite" name="Bite" description="{i}{b}Not fully implemented{/i}{/b}\nThe feral heart gains a bite attack as a primary natural attack that deals 1d8 points of damage (if a Medium-sized creature) and is affected by the enhanced claws ability, but the enhancement bonus on it is reduced by 1 (to a minimum of 0) and it has the same configuration from enhanced claws. If this would result in the bite having no enhancement bonus and a weapon special ability such as {i}flaming{/i}, the bite does not gain any weapon special abilities granted by enhanced claws and is instead only considered to be psionic for the purposes of damage reduction. This bite attack, like most bite attacks, deals bludgeoning, piercing, and slashing damage. The feral heart must be at least 6th level in order to select this blade skill." compset="CustomSpec" uniqueness="unique">
    <usesource source="pPsiUn"/>
    <tag group="ProductId" tag="HLCommunit"/>
    <tag group="SpecSource" tag="arPUFerlHt"/>
    <tag group="abCategory" tag="PUBladeSk"/>
    <prereq message="Feral Heart level 6+ required">
      <validate><![CDATA[        var classcheck as string
        var levels as number

        classcheck = "Soulknife"

        call PUPreReqs

        validif (levels >= 6)]]></validate>
      </prereq>
    </thing>
  <thing id="cSknPUPoun" name="Pounce" description="If the feral heart charges he can still make a full attack at the end of the charge instead of a single attack, although the full attack must be made with only natural attacks. The feral heart must be at least 10th level to select this blade skill." compset="CustomSpec" uniqueness="unique">
    <usesource source="pPsiUn"/>
    <tag group="SpecSource" tag="arPUFerlHt"/>
    <tag group="ProductId" tag="HLCommunit"/>
    <tag group="abCategory" tag="PUBladeSk"/>
    <prereq message="Feral Heart level 10+ required">
      <validate><![CDATA[        var classcheck as string
        var levels as number

        classcheck = "Soulknife"

        call PUPreReqs

        validif (levels >= 10)]]></validate>
      </prereq>
    </thing>
  <thing id="cSknPUQikS" name="Quick Shift" description="The feral heart can form all of his natural attacks as a free action. He can choose to form only some or all of his natural attacks with this ability." compset="CustomSpec" uniqueness="unique">
    <usesource source="pPsiUn"/>
    <tag group="ProductId" tag="HLCommunit"/>
    <tag group="SpecSource" tag="arPUFerlHt"/>
    <tag group="abCategory" tag="PUBladeSk"/>
    </thing>
  <thing id="cSknPURake" name="Rake" description="The feral heart can claw an opponent he is currently grappling in addition to maintaining the grapple. The feral heart cannot use this ability the round he initiates the grapple but can use it if grappled by another or while maintaining the grappled condition. The feral heart must be at least 4th level to select this blade skill." compset="CustomSpec" uniqueness="unique">
    <usesource source="pPsiUn"/>
    <tag group="ProductId" tag="HLCommunit"/>
    <tag group="SpecSource" tag="arPUFerlHt"/>
    <tag group="abCategory" tag="PUBladeSk"/>
    <prereq message="Feral Heart level 4+ required">
      <validate><![CDATA[        var classcheck as string
        var levels as number

        classcheck = "Soulknife"

        call PUPreReqs

        validif (levels >= 4)]]></validate>
      </prereq>
    </thing>
  <thing id="cSknPUFHRd" name="Rend" description="When the feral heart successfully strikes with both claws against a single creature, he can cause additional damage equal to one claw attack plus 1+1/2 his Strength bonus. This blade skill can only be used once per round. The feral heart must be at least 12th level to select this blade skill." compset="CustomSpec" uniqueness="unique">
    <usesource source="pPsiUn"/>
    <tag group="ProductId" tag="HLCommunit"/>
    <tag group="SpecSource" tag="arPUFerlHt"/>
    <tag group="abCategory" tag="PUBladeSk"/>
    <prereq message="Feral Heart level 12+ required">
      <validate><![CDATA[        var classcheck as string
        var levels as number

        classcheck = "Soulknife"

        call PUPreReqs

        validif (levels >= 12)]]></validate>
      </prereq>
    </thing>
  <thing id="cSknPUThSk" name="Thick Skin" description="The feral heart gains a +2 natural armor bonus to his AC." compset="CustomSpec" uniqueness="unique">
    <fieldval field="abValue" value="2"/>
    <usesource source="pPsiUn"/>
    <tag group="ProductId" tag="HLCommunit"/>
    <tag group="SpecSource" tag="arPUFerlHt"/>
    <tag group="abCategory" tag="PUBladeSk"/>
    <eval phase="PostLevel" priority="10000">~add bonus to natural armor class
      hero.child[ArmorClass].field[tACNatural].value += field[abValue].value</eval>
    </thing>
  <thing id="cSknPUThSI" name="Thick Skin, Improved" description="The natural armor bonus gained from thick skin is improved by 1. This blade skill can be taken up to three times; its effects stack." compset="CustomSpec" maxlimit="3">
    <usesource source="pPsiUn"/>
    <tag group="ProductId" tag="HLCommunit"/>
    <tag group="SpecSource" tag="arPUFerlHt"/>
    <tag group="abCategory" tag="PUBladeSk"/>
    <eval phase="PostLevel" priority="10000">~increase bonus to Thick Skin
      hero.child[cSknPUThSk].field[abValue].value += 1</eval>
    <exprreq message="Thick Skin Blade Skill required"><![CDATA[#hasability[cSknPUThSk] <> 0]]></exprreq>
    </thing>
  <thing id="cPUIssuOrd" name="Issue Order" description="A commander of 4th level can, as a swift action, direct one member of his collective to take an action that requires either a standard or move action. On that members next turn, they must perform that command unless they make a successful Will saving throw at the same DC as that of the commanders Unwilling Participant* DC. This ability replaces the strategy normally gained at 4th level, but functions like a strategy, including using the same pool of 3 + the tacticans Charisma modifier limited uses per day." compset="ClSpecial" summary="As a swift action, direct 1 member your collective to take an action.">
    <tag group="AbilType" tag="Super"/>
    <tag group="ProductId" tag="HLCommunit"/>
    </thing>
  <thing id="arPUShrd" name="Shroud" description="The best hunter is one who is not seen before taking down her prey. The shroud is just such a hunter, using her psionic prowess to hide from view and track silently." compset="ClassVary" uniqueness="unique">
    <tag group="ClVaryName" tag="AppParen"/>
    <tag group="AbReplace" tag="cPUMrkWnd"/>
    <tag group="AbReplace" tag="cPUDisenga"/>
    <tag group="AbReplace" tag="cPUDefShot"/>
    <tag group="AbReplace" tag="cPUEvArrow"/>
    <bootstrap thing="cPUHidHunt">
      <autotag group="ClSpecWhen" tag="6"/>
      </bootstrap>
    <bootstrap thing="cPUHidHunt">
      <autotag group="ClSpecWhen" tag="10"/>
      </bootstrap>
    <bootstrap thing="cPUHidHunt">
      <autotag group="ClSpecWhen" tag="14"/>
      </bootstrap>
    <bootstrap thing="cPUHidHunt">
      <autotag group="ClSpecWhen" tag="18"/>
      </bootstrap>
    <bootstrap thing="cPUShHideP">
      <autotag group="ClSpecWhen" tag="7"/>
      </bootstrap>
    <bootstrap thing="cPUShUnAss">
      <autotag group="ClSpecWhen" tag="13"/>
      </bootstrap>
    <bootstrap thing="cPUUnseen">
      <autotag group="ClSpecWhen" tag="1"/>
      </bootstrap>
    <bootstrap thing="cPUHidHunt">
      <autotag group="ClSpecWhen" tag="2"/>
      </bootstrap>
    <link linkage="varies" thing="cHelpPU3"/>
    </thing>
  <thing id="cPUUnseen" name="Unseen" description="A shroud can use her heightened awareness of her surroundings and psionic energy to read the environment and blend in so as to be undetectable. While maintaining psionic focus, she can spend a swift action to become invisible for a umber of rounds equal to her Wisdom modifier. The invisibility ends as soon as the shroud attacks a creature. She can use this ability a number of times per day equal to 3 + her class level. This ability replaces wind reader." compset="ClSpecial">
    <fieldval field="abRange" value="Personal"/>
    <fieldval field="actName" value="Unseen"/>
    <usesource source="pDscar"/>
    <tag group="AbilType" tag="Super"/>
    <tag group="abDuration" tag="Round"/>
    <tag group="User" tag="Activation"/>
    <tag group="abRange" tag="Personal"/>
    <tag group="Helper" tag="UserAdjust"/>
    <tag group="abAction" tag="Swift"/>
    <tag group="ProductId" tag="HLCommunit"/>
    <tag group="SpInfo" tag="spInvisib2"/>
    <tag group="User" tag="Tracker"/>
    <tag group="Usage" tag="Day"/>
    <tag group="ChargeCalc" tag="AttrUses3"/>
    <tag group="ChargeAttr" tag="aWIS"/>
    <eval phase="PostAttr" priority="10000"><![CDATA[
      ~ Duration is equal to the Wisdom modifier in rounds
      ~ If Not psionically focused get out now
      var v_focus as number
      call PUPsiFocus
      doneif (v_focus <> 1)
      field[abDuration].value += #attrbonus[aWIS]]]></eval>
    </thing>
  <thing id="cPUHidHunt" name="Hidden Hunter" description="Starting at 2nd level, the shroud gains a bonus +1 bonus to Stealth skill checks. At 6th level and every 4 levels thereafter, this bonus increases by 1. This ability replaces evade arrows." compset="ClSpecial">
    <tag group="SpecType" tag="Skill"/>
    <tag group="AbilType" tag="Extra"/>
    <tag group="Helper" tag="SpecUp"/>
    <eval phase="PostLevel" priority="10000"><![CDATA[
      field[listname].text = field[thingname].text & " (" & signed(field[xIndex].value) & ")"

      ~ If we're not shown, just get out now
      doneif (tagis[Helper.ShowSpec] <> 1)
      ~ if we've been disabled, get out now
      doneif (tagis[Helper.SpcDisable] <> 0)

      field[abValue].value += field[xCount].value
      field[livename].text = field[thingname].text & " " & signed(field[abValue].value)

      field[CustDesc].text = "+" & field[abValue].value & " bonus to Stealth checks."
      hero.childfound[skStealth].field[Bonus].value += field[abValue].value]]></eval>
    </thing>
  <thing id="cPUShHideP" name="Hide in Plain Sight" description="At 7th level or higher, the shroud can use the Stealth skill even when being observed by expending her psionic focus when making her Stealth skill check.  This ability replaces disengage." compset="ClSpecial" summary="As long as you maintain psionic focus, you can use the Stealth skill to hide, even while being observed.">
    <tag group="abAction" tag="PUManFocus"/>
    </thing>
  <thing id="cPUShUnAss" name="Unseen Assault" description="Starting at 13th level, when the shroud uses her unseen ability, the effect does not end when she attacks a creature. This ability replaces defensive shot." compset="ClSpecial">
    <fieldval field="abRange" value="Personal"/>
    <fieldval field="actName" value="Unseen"/>
    <usesource source="pDscar"/>
    <tag group="AbilType" tag="Super"/>
    <tag group="abDuration" tag="Round"/>
    <tag group="User" tag="Activation"/>
    <tag group="abRange" tag="Personal"/>
    <tag group="Helper" tag="UserAdjust"/>
    <tag group="abAction" tag="Swift"/>
    <tag group="ProductId" tag="HLCommunit"/>
    <tag group="User" tag="Tracker"/>
    <tag group="Usage" tag="Day"/>
    <tag group="ChargeCalc" tag="AttrUses3"/>
    <tag group="ChargeAttr" tag="aWIS"/>
    <tag group="DescInfo" tag="cPUUnseen"/>
    <tag group="SpInfo" tag="spInviGre4"/>
    <eval phase="PostAttr" priority="10000"><![CDATA[
      ~ Duration is equal to the Wisdom modifier in rounds
      ~ If Not psionically focused get out now
      var v_focus as number
      call PUPsiFocus
        doneif (v_focus <> 1)
      field[abDuration].value += #attrbonus[aWIS]]]></eval>
    </thing>
  <thing id="cPUEvArrow" name="Evade Arrows" description="At 2nd level, a marksmans familiarity with ranged attacks and her natural intuition alerts her to danger from mundane ranged attacks. She gains a +1 Dodge bonus to Armor Class against ranged attacks (but not ranged touch attacks). At 6th level and every four marksman levels thereafter, this Dodge bonus increases by 1." compset="ClSpecial">
    <tag group="SpecType" tag="Skill"/>
    <tag group="AbilType" tag="Extra"/>
    <tag group="Helper" tag="SpecUp"/>
    <eval phase="PostLevel" priority="10000"><![CDATA[
      field[listname].text = field[thingname].text & " (" & signed(field[xIndex].value) & ")"

      ~ If we're not shown, just get out now
      doneif (tagis[Helper.ShowSpec] <> 1)
      ~ if we've been disabled, get out now
      doneif (tagis[Helper.SpcDisable] <> 0)

      field[abValue].value += field[xCount].value
      field[livename].text = field[thingname].text & " " & signed(field[abValue].value)

      #situational[hero.childfound[ArmorClass],signed(field[abValue].value) & " Dodge bonus to Ranged Attacks.",field[thingname].text]]]></eval>
    </thing>
  </document>
