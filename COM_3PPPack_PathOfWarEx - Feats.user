<?xml version="1.0" encoding="UTF-8"?>
<document signature="Hero Lab Data">
  <loadonce key="COM_3PPPack_PathOfWarEx - Feats"/>
  <fileinfo>
    <info_author>Author: TheIronGolem
Email: mail@theirongolem.com</info_author>
    </fileinfo>
  <thing id="fPWBatFerv" name="Battle Fervor" description="{b}Prerequisites:{/b} Fervor or Lay on Hands class feature, able to initiate maneuvers\n\n{b}Benefits:{/b} When you use Fervor or Lay on Hands to heal yourself as a swift action, your next strike deals bonus damage equal to 1/2 the amount you healed." compset="Feat" uniqueness="useronce">
    <usesource source="srcPOWEx"/>
    <tag group="fCategory" tag="Combat"/>
    <tag group="ProductId" tag="HLCommunit"/>
    <tag group="Helper" tag="ShowSpec"/>
    <exprreq message="Must be able to initiate martial maneuvers"><![CDATA[hero.tagis[PathOfWar.HeroInit] <> 0]]></exprreq>
    <exprreq message="Lay on Hands or Fervor class feature required"><![CDATA[(#hasability[cPalLayHnd] + #hasability[cWaPFervor]) <> 0]]></exprreq>
    </thing>
  <thing id="fPWBlightF" name="Blight Fight" description="The weak crumble before your power.\n\n{b}Prerequisites:{/b} 1 or more maneuvers known from the Cursed Razor, Eternal Guardian and/or Steel Serpent disciplines.\n\n{b}Benefits:{/b} Cursed, diseased, and/or poisoned creatures suffer a -2 penalty to saving throws made against your maneuvers." compset="Feat" uniqueness="useronce">
    <usesource source="srcPOWEx"/>
    <tag group="fCategory" tag="Combat"/>
    <tag group="ProductId" tag="HLCommunit"/>
    <tag group="Helper" tag="ShowSpec"/>
    <exprreq message="Must have at least one maneuver from the Cursed Razor, Eternal Guardian or Steel Serpent disciplines."><![CDATA[hero.tagis[HasMan.SteelSerp] + hero.tagis[HasMan.CurseRazor] + hero.tagis[HasMan.EternGuard] <> 0]]></exprreq>
    </thing>
  <thing id="fPWChanRec" name="Channeled Recovery" description="{b}Prerequisites:{/b} Channel Energy class feature, 1 maneuver of 3rd level or higher known\n\n{b}Benefits:{/b} When you channel energy to heal allies, allies in your channeled energy area may choose to forgo healing and instead recover 1 maneuver as a free action, even if it’s not their turn." compset="Feat" uniqueness="useronce">
    <usesource source="srcPOWEx"/>
    <tag group="ProductId" tag="HLCommunit"/>
    <tag group="Helper" tag="ShowSpec"/>
    <exprreq message="Channel Energy class feature required"><![CDATA[#hasability[xChannel] <> 0]]></exprreq>
    <prereq message="Maneuver of 3rd level or higher known">
      <validate><![CDATA[      foreach pick in hero from PWManuever
        validif (eachpick.tagvalue[mLevel.?] >= 3)
      nexteach]]></validate>
      </prereq>
    </thing>
  <thing id="fPWDkAllur" name="Dark Allure" description="Those Claimed by you are distracted by your presence.\n\n{b}Prerequisites:{/b} Able to Claim creatures\n\n{b}Benefit:{/b} Creatures Claimed by you suffer a penalty equal to the number of creatures you currently have Claimed on attack rolls made against creatures other than you.\n\n{b}Special:{/b} Characters with the Dark Authority feat may not select this feat (and vice versa)." compset="Feat" uniqueness="useronce">
    <usesource source="srcPOWEx"/>
    <tag group="fCategory" tag="Combat"/>
    <tag group="ProductId" tag="HLCommunit"/>
    <tag group="Helper" tag="ShowSpec"/>
    <exprreq message="Must not have the Dark Authority feat">#hasfeat[fPWDrkAuth] = 0</exprreq>
    <exprreq message="Must be able to Claim creatures"><![CDATA[#hasability[cPW4DrkClm] + #hasability[cPW2SlClm] <> 0]]></exprreq>
    </thing>
  <thing id="fPWDrkAuth" name="Dark Authority" description="Those you have Claimed as your own tremble at the mere thought of defying you.\n\n{b}Prerequisites:{/b} Able to Claim creatures\n\n{b}Benefit:{/b} Creatures Claimed by you suffer a penalty equal to the number of creatures you currently have Claimed on attack rolls made against creatures other than you.\n\n{b}Special:{/b} Characters with the Dark Authority feat may not select this feat (and vice versa)." compset="Feat" uniqueness="useronce">
    <usesource source="srcPOWEx"/>
    <tag group="fCategory" tag="Combat"/>
    <tag group="ProductId" tag="HLCommunit"/>
    <tag group="Helper" tag="ShowSpec"/>
    <exprreq message="Must not have the Dark Allure feat">#hasfeat[fPWDkAllur] = 0</exprreq>
    <exprreq message="Must be able to Claim creatures"><![CDATA[#hasability[cPW4DrkClm] + #hasability[cPW2SlClm] <> 0]]></exprreq>
    </thing>
  <thing id="fPWDrkPres" name="Dark Presence" description="Those you have Claimed cannot escape your malice.\n\n{b}Prerequisites:{/b} Able to Claim creatures\n\n{b}Benefit:{/b} Creatures Claimed by you provoke an attack of opportunity from you whenever they make a five foot step into or out of one of your threatened squares." compset="Feat" uniqueness="useronce">
    <usesource source="srcPOWEx"/>
    <tag group="fCategory" tag="Combat"/>
    <tag group="ProductId" tag="HLCommunit"/>
    <tag group="Helper" tag="ShowSpec"/>
    <exprreq message="Must be able to Claim creatures"><![CDATA[#hasability[cPW4DrkClm] + #hasability[cPW2SlClm] <> 0]]></exprreq>
    </thing>
  <thing id="fPWDrkAgIn" name="Darksilver Initiate" description="{b}Prerequisite:{/b} Quick Draw, 2 Steel Serpent Maneuvers known, 2 Mithral Current Maneuvers known\n\n{b}Benefit:{/b} Once per encounter, when you initiate a Mithral Current Strike and a Steel Serpent boost in the same round, resolve the Mithral Current maneuver as if you&apos;d drawn your weapon as part of the attack." compset="Feat" uniqueness="useronce">
    <usesource source="srcPOWEx"/>
    <tag group="fCategory" tag="Combat"/>
    <tag group="ProductId" tag="HLCommunit"/>
    <tag group="Helper" tag="ShowSpec"/>
    <exprreq message="Quick Draw feat required">#hasfeat[fQuickDraw] = 0</exprreq>
    <exprreq message="Must know 2 Steel Serpent maneuvers"><![CDATA[hero.tagis[HasMan.SteelSerp] >= 2]]></exprreq>
    <exprreq message="Must know 2 Mithral Current maneuvers"><![CDATA[hero.tagis[HasMan.MithCurr] >= 2]]></exprreq>
    </thing>
  <thing id="fPWElecMan" name="Electrum Manticore" description="{b}Prerequisite:{/b} 2 Silver Crane Maneuvers known, 2 Golden Lion Maneuvers known\n\n{b}Benefit:{/b} Once per encounter, you may initiate a Golden Lion boost as part of assuming a Silver Crane stance, or initiate a Silver Crane boost as part of assuming a Golden Lion stance." compset="Feat" uniqueness="useronce">
    <usesource source="srcPOWEx"/>
    <tag group="fCategory" tag="Combat"/>
    <tag group="ProductId" tag="HLCommunit"/>
    <tag group="Helper" tag="ShowSpec"/>
    <exprreq message="Must know 2 Silver Crane maneuvers"><![CDATA[hero.tagis[HasMan.SilvrCrane] >= 2]]></exprreq>
    <exprreq message="Must know 2 Golden Lion maneuvers"><![CDATA[hero.tagis[HasMan.GoldenLion] >= 2]]></exprreq>
    </thing>
  <thing id="fPWEndProt" name="Enduring Protector" description="{b}Prerequisite:{/b} Combat Reflexes, Martial Power\n\n{b}Benefit:{/b} Whenever you reduce an opponent to 0 Hit Points or fewer with an Attack of Opportunity, you gain temporary Hit Points equal to the slain creatures Hit Dice.  These temporary hit points do not stack and last for 1 round or until lost." compset="Feat" uniqueness="useronce">
    <usesource source="srcPOWEx"/>
    <tag group="fCategory" tag="Combat"/>
    <tag group="ProductId" tag="HLCommunit"/>
    <tag group="Helper" tag="ShowSpec"/>
    <exprreq message="Combat Reflexes feat required"><![CDATA[#hasfeat[fComRef] <> 0]]></exprreq>
    <exprreq message="Martial Power feat required"><![CDATA[#hasfeat[fPWMartPow] <> 0]]></exprreq>
    </thing>
  <thing id="fPWElemSun" name="Elemental Sun" description="{b}Prerequisite:{/b} 1 Elemental Flux Stance, 1 Solar Wind Stance\n\n{b}Benefit:{/b} When you initiate a Solar Wind maneuver while in an Elemental Flux stance, half of the damage you deal is the same as your active energy type for Elemental Flux." compset="Feat" uniqueness="useronce">
    <usesource source="srcPOWEx"/>
    <tag group="fCategory" tag="Combat"/>
    <tag group="ProductId" tag="HLCommunit"/>
    <tag group="Helper" tag="ShowSpec"/>
    <exprreq message="Must know at least one Solar Wind stance"><![CDATA[hero.tagis[HasStance.SolarWind] >= 1]]></exprreq>
    <exprreq message="Must know at least one Elemental Flux stance"><![CDATA[hero.tagis[HasStance.ElemFlux] >= 1]]></exprreq>
    </thing>
  <thing id="fPWEtHglas" name="Eternal Hourglass" description="{b}Prerequisite:{/b} 2 Riven Hourglass Maneuvers known, 2 Eternal Guardian Maneuvers known\n\n{b}Benefit:{/b} Once per encounter, while in a Riven Hourglass stance, you can initiate an Eternal Guardian counter as a free action, even if it&apos;s not your turn.  This means, for example, that you can initiate a second counter in the same round or use a swift action on your next turn." compset="Feat" uniqueness="useronce">
    <usesource source="srcPOWEx"/>
    <tag group="fCategory" tag="Combat"/>
    <tag group="ProductId" tag="HLCommunit"/>
    <tag group="Helper" tag="ShowSpec"/>
    <exprreq message="Must know 2 Riven Hourglass maneuvers"><![CDATA[hero.tagis[HasMan.RivnHglass] >= 2]]></exprreq>
    <exprreq message="Must know 2 Eternal Guardian maneuvers"><![CDATA[hero.tagis[HasMan.EternGuard] >= 2]]></exprreq>
    </thing>
  <thing id="fPWFerGods" name="Feral Goddess" description="{b}Prerequisite:{/b} One Sleeping goddess maneuver known, able to manifest one power that grants natural weapons (such as {i}claws of the beast {/i} or {i}metamorphosis {/i})\n\n{b}Benefit:{/b} All natural weapons created by psionic powers are treated as Sleeping Goddess discipline weapons to you and are treated as magic for the purpose of overcoming damage reduction.\n\n{b}NOTE{/b}: Hero Lab is not able to check the power prequisite, so you will need to take care to make sure you have an appropriate power before selecting this feat." compset="Feat" uniqueness="useronce">
    <usesource source="srcPOWEx"/>
    <tag group="ProductId" tag="HLCommunit"/>
    <tag group="Helper" tag="ShowSpec"/>
    <exprreq message="Must know at least one Sleeping Goddess maneuver"><![CDATA[hero.tagis[HasMan.SlpGoddess] >= 1]]></exprreq>
    </thing>
  <thing id="fPWFlMtFst" name="Flowing Mithral Fist" description="{b}Prerequisites:{/b} 1 Mithral Current Stance, Improved Unarmed Strike\n\n{b}Benefit:{/b} Your unarmed strikes are now considered Discipline Weapons for Mithral Current.  In addition to sheathing your hands normally, you can sheathe your hands once per round as a free action (even when it is not your turn) that does not provoke attacks of opportunity by placing them in your pockets, under your sleeves or in an otherwise nonthreatening position.\n\n{b}Normal:{/b} Unarmed Strikes are not discipline weapons for Mithral Current.\n\n{b}NOTE:{/b} This feat is not yet functional." compset="Feat" uniqueness="useronce">
    <usesource source="srcPOWEx"/>
    <tag group="fCategory" tag="Combat"/>
    <tag group="ProductId" tag="HLCommunit"/>
    <tag group="Helper" tag="ShowSpec"/>
    <exprreq message="Must know at least one Mithral Current maneuver"><![CDATA[hero.tagis[HasMan.MithCurr] >= 1]]></exprreq>
    <exprreq message="Improved Unarmed Strike required"><![CDATA[#hasfeat[fImpUnarm] <> 0]]></exprreq>
    </thing>
  <thing id="fPWFotGods" name="Forge of the Goddess" description="{b}Prerequisites:{/b} One Sleeping Goddess maneuver known, able to manifest {i}call weaponry{/i}\n\n{b}Benefit:{/b} You treat any weapon you create with the {i}call weaponry{/i} power as a Sleeping Goddess discipline weapon. In addition, you reduce the power point cost for manifesting {i}call weaponry{/i} by 1 (minimum 0)\n\n{b}NOTE{/b}: Hero Lab is not able to check the power prequisite, so you will need to take care to make sure you have the {i}call weaponry{/i} power before selecting this feat." compset="Feat" uniqueness="useronce">
    <usesource source="srcPOWEx"/>
    <tag group="ProductId" tag="HLCommunit"/>
    <tag group="Helper" tag="ShowSpec"/>
    <exprreq message="Must know at least one Sleeping Goddess maneuver"><![CDATA[hero.tagis[HasMan.SlpGoddess] >= 1]]></exprreq>
    </thing>
  <thing id="fPWGrspDrk" name="Grasp of Darkness" description="Your malicious intentions ensnare many creatures at once, placing them under your power.\n\n{b}Prerequisites:{/b} Dark Claim class feature\n\n{b}Benefit:{/b} You may Claim up to 2 additional enemies (for a total of 3 enemies) at one time when using your Dark Claim, recovering an additional maneuver in the process." compset="Feat" uniqueness="useronce">
    <usesource source="srcPOWEx"/>
    <tag group="fCategory" tag="Combat"/>
    <tag group="ProductId" tag="HLCommunit"/>
    <tag group="Helper" tag="ShowSpec"/>
    <exprreq message="Dark Claim class feature required"><![CDATA[#hasability[cPW4DrkClm] <> 0]]></exprreq>
    </thing>
  <thing id="fPWKatExp" name="Daisho Expertise" description="Your grace and skill with both the katana and wakizashi is on the level of a prodigy.\n\n{b}Prerequisites:{/b} Proficiency with the katana or wakizashi.\n\n{b}Benefit:{/b} Increase the damage die of katanas and wakizashi you wield by one die step. In addition, you may use your Dexterity modifier instead of your Strength modifier when making attack rolls with either weapon. This feat counts as Weapon Finesse for purposes of meeting the prerequisites of other feats.\n\n{b}Special:{/b} If you are proficient with the katana as a martial weapon, you meet the prerequisites for this feat, although you only gain its benefit while wielding a katana in two hands (to gain these benefits while wielding the katana in one hand, you must possess Exotic Weapon Proficiency with the weapon). You must possess Exotic Weapon Proficiency with the wakizashi to gain the benefits of this feat with a wakizashi." compset="Feat" summary="Use Dex instead of Str on attack rolls with katanas and wakizashi, and increase their damage dice." uniqueness="useronce">
    <usesource source="srcPOWEx"/>
    <tag group="fCategory" tag="Combat"/>
    <tag group="Helper" tag="ShowSpec"/>
    <tag group="ProductId" tag="HLCommunit"/>
    <tag group="HasFeat" tag="fWepFin"/>
    <eval phase="PostLevel" priority="5000"><![CDATA[
      ~ If we're disabled, do nothing & 
      doneif (tagis[Helper.FtDisable] <> 0)

      var searchexpr as string
      
      ~ Default to Katana only
      searchexpr = "IsWeapon.wKatana"
      
      ~ We have Wakizashi exotic profic then include Wakizashi
      if (hero.tagis[WepProf.wWakizashi] = 1) then
        searchexpr &= "|IsWeapon.wWakizashi"
      endif

      ~ Find all katanas/Wakizashi on the hero
      foreach pick in hero from BaseWep where searchexpr
      
        ~ Katana
        if (eachpick.tagis[IsWeapon.wKatana] = 1) then
          ~ Do we have exotic weapon prof?
          if (hero.tagis[WepProf.wKatana] = 1) then
            perform eachpick.assign[Helper.Finesse]
            perform eachpick.assign[Helper.DamageUp]          

          ~..No exotic weapon prof
          else
            ~ Check to see if we have it in two hands?
            if (eachpick.field[gIsEquip].value + eachpick.field[wIs2nd].value = 2) then
              perform eachpick.assign[Helper.Finesse]
              perform eachpick.assign[Helper.DamageUp]
            endif
          endif
  
        ~ Wakizashi      
        elseif (eachpick.tagis[IsWeapon.wWakizashi] = 1) then
          perform eachpick.assign[Helper.DamageUp]        
        endif
        
      nexteach]]></eval>
    <exprreq message="Katana or wakizashi proficiency required"><![CDATA[#hasfeat[fWepMart] + hero.tagis[WepProf.wKatana] + hero.tagis[WepProf.wWakizashi] <> 0]]></exprreq>
    </thing>
  <thing id="fPWAglDncr" name="Agile Dancer" description="{b}Prerequisites:{/b} Perform (Dance) 3 ranks\n\n{b}Benefits:{/b} You can use Perform (Dance) in place of Acrobatics and can use the higher of your Dexterity or Charisma modifiers for Perform (Dance) checks." compset="Feat" uniqueness="useronce">
    <usesource source="srcPOWEx"/>
    <tag group="fCategory" tag="Combat"/>
    <tag group="ProductId" tag="HLCommunit"/>
    <tag group="Helper" tag="ShowSpec"/>
    <eval phase="First" priority="10000">~ Allow DEX to be used for Perform (Dance) if higher
      perform hero.childfound[skPerfDanc].assign[SkillOpt.aDEX]</eval>
    <prereq message="Perform (Dance) 3 ranks required">
      <validate><![CDATA[      validif (#skillranks[skPerfDanc] >= 3)]]></validate>
      </prereq>
    </thing>
  <thing id="fPWMalevol" name="Malevolence" description="Creatures you have Claimed become cursed.\n\n{b}Prerequisites:{/b} Able to Claim creatures\n\n{b}Benefit:{/b} Creatures Claimed by you are cursed and suffer a -2 penalty to their CMB and skill checks (the penalty expires when the Claim does, though the cursed condition might not)." compset="Feat" uniqueness="useronce">
    <usesource source="srcPOWEx"/>
    <tag group="fCategory" tag="Combat"/>
    <tag group="Helper" tag="ShowSpec"/>
    <tag group="ProductId" tag="HLCommunit"/>
    <exprreq message="Must be able to Claim creatures"><![CDATA[#hasability[cPW4DrkClm] + #hasability[cPW2SlClm] <> 0]]></exprreq>
    </thing>
  <thing id="fPWMassMdr" name="Mass Murder" description="You are impelled to acts of horrific violence.\n\n{b}Prerequisites:{/b} Massacre class feature 1/encounter or higher\n\n{b}Benefit:{/b} You gain an additional use per encounter of your Massacre ability.\nSpecial: You may take this feat up to twice. Its effects stack." compset="Feat" maxlimit="2">
    <fieldval field="abValue" value="1"/>
    <usesource source="srcPOWEx"/>
    <tag group="Helper" tag="ShowSpec"/>
    <tag group="ProductId" tag="HLCommunit"/>
    <tag group="fCategory" tag="Combat"/>
    <eval phase="PostLevel" priority="11000"><![CDATA[      ~ If we're disabled, do nothing
      doneif (tagis[Helper.FtDisable] <> 0)

      ~ Add to usage of Massacre
      hero.childfound[cPW4Masscr].field[trkMax].value += field[abValue].value]]></eval>
    <exprreq message="Massacre class feature required"><![CDATA[#hasability[cPW4Masscr] <> 0]]></exprreq>
    </thing>
  <thing id="fPWMirMoon" name="Mirror of the Moon" description="{b}Prerequisite:{/b} 2 Shattered Mirror Maneuvers known, 2 Veiled Moon Maneuvers known, able to initiate maneuvers of 4th level or higher\n\n{b}Benefit:{/b} When you initiate a Veiled Moon Maneuver with a [teleportation] effect that targets yourself, you leave behind a major image of yourself for 1 round.  This major image moves and behaves as if you had been concentrating on it for the round." compset="Feat" uniqueness="useronce">
    <usesource source="srcPOWEx"/>
    <tag group="fCategory" tag="Combat"/>
    <tag group="Helper" tag="ShowSpec"/>
    <tag group="ProductId" tag="HLCommunit"/>
    <eval phase="PostAttr" priority="10000"><![CDATA[      ~ If we're disabled, do nothing
      doneif (tagis[Helper.FtDisable] <> 0)

      ~ Find all appropriate maneuvers and append to the description
      foreach pick in hero from PWManuever where "Discipline.VeiledMoon & mDescript.Teleport & mTarget.You"
        eachpick.field[DescAppend].text &= "{b}" & field[thingname].text & "{/b}: When you initiate this maneuver, you leave behind a {i}major image{/i} of yourself for 1 round.  This {i}major image{/i} moves and behaves as if you had been concentrating on it for the round."
      nexteach]]></eval>
    <exprreq message="Must know 2 Veiled Moon maneuvers"><![CDATA[hero.tagcount[HasMan.VeiledMoon] >= 2]]></exprreq>
    <exprreq message="Must know 2 Shattered Mirror maneuvers"><![CDATA[hero.tagcount[HasMan.ShaMirror] >= 2]]></exprreq>
    <prereq message="Must be able to initiate 4th-level maneuvers">
      <validate><![CDATA[      ~ It takes an IL of 7 to initiate 4th-level maneuvers
      foreach pick in hero from PWManList
          validif (eachpick.field[cIL].value >= 7)
      nexteach]]></validate>
      </prereq>
    </thing>
  <thing id="fPWMltAgSt" name="Molten Silver Strike" description="{b}Prerequisite:{/b} Quick Draw, 2 Solar Wind Maneuvers known, 2 Mithral Current Maneuvers known\n\n{b}Benefit:{/b} You can use Solar Wind Boosts on Mithral Current strikes that allow you to attack enemies at range.\n\n{b}Normal:{/b} Mithral Current strikes use melee attack rolls, which prevents them from being combined with maneuvers that affect ranged attacks." compset="Feat" uniqueness="useronce">
    <usesource source="srcPOWEx"/>
    <tag group="fCategory" tag="Combat"/>
    <tag group="Helper" tag="ShowSpec"/>
    <tag group="ProductId" tag="HLCommunit"/>
    <eval phase="PostAttr" priority="10000"><![CDATA[      ~ If we're disabled, do nothing
      doneif (tagis[Helper.FtDisable] <> 0)

      ~ Find all appropriate maneuvers and append to the description
      foreach pick in hero from PWManuever where "Discipline.SolarWind & mType.Boost"
        eachpick.field[DescAppend].text &= "{b}" & field[thingname].text & "{/b}: You can use this boost on Mithral Current strikes that allow you to attack enemies at range."
      nexteach]]></eval>
    <exprreq message="Must know 2 Solar Wind maneuvers"><![CDATA[hero.tagcount[HasMan.SolarWind] >= 2]]></exprreq>
    <exprreq message="Must know 2 Mithral Current maneuvers"><![CDATA[hero.tagcount[HasMan.MithCurr] >= 2]]></exprreq>
    <exprreq message="Quick Draw feat required"><![CDATA[#hasfeat[fQuickDraw] <> 0]]></exprreq>
    </thing>
  <thing id="fPWPinArrw" name="Pinning Arrow" description="{b}Prerequisite:{/b} Point-Blank Shot, Precise Shot\n\n{b}Benefit:{/b}  You can attempt a combat maneuver check with a ranged attack to pin a target in place.  The attack is made with your dexterity modifier instead of your strength modifier.  If the combat maneuver check is successful, the target cannot leave their square for 1 round.  They can still take other actions as normal, but cannot leave their square.  Creatures with a fly speed are able to make a fly check (DC equal to your CMB roll) to prevent themselves from falling as a result of having their movement stopped." compset="Feat" uniqueness="useronce">
    <usesource source="srcPOWEx"/>
    <tag group="fCategory" tag="Combat"/>
    <tag group="Helper" tag="ShowSpec"/>
    <tag group="ProductId" tag="HLCommunit"/>
    <exprreq message="Point-Blank Shot feat required"><![CDATA[#hasfeat[fPointBlnk] <> 0]]></exprreq>
    <exprreq message="Precise Shot feat required"><![CDATA[#hasfeat[fPrecShot] <> 0]]></exprreq>
    </thing>
  <thing id="fPWProdTWF" name="Prodigious Two-Weapon Fighting" description="Your great physical might allows you to wield two large weapons with ease.\n\n{b}Prerequisite:{/b} Strength 13\n\n{b}Benefit:{/b} You may fight with a one-handed weapon in your offhand as if it were a light weapon. In addition, you may use your Strength score instead of your Dexterity score for the purpose of qualifying for Two-Weapon Fighting and any feats with Two-Weapon Fighting as a prerequisite.\n\n{b}NOTE:{/b} This feat cannot actually change the prerequisites for other feats, so if you don&apos;t have the DEX score normally required then the TWF feats then you will still see validation errors saying your DEX score is not high enough.  You can remove those errors by adding the &quot;Feat, Bonus&quot; adjustment and selecting the TWF feat in question." compset="Feat" summary="Treat a 1-handed offhand weapon as light; use STR instead of DEX to qualify for TWF feats" uniqueness="useronce">
    <fieldval field="reqStr" value="13"/>
    <usesource source="srcPOWEx"/>
    <tag group="Helper" tag="ShowSpec"/>
    <tag group="ProductId" tag="HLCommunit"/>
    <tag group="fCategory" tag="Combat"/>
    <eval phase="First" priority="20000"><![CDATA[      ~ If we're disabled, do nothing
      doneif (tagis[Helper.FtDisable] <> 0)

      ~ If we have a one-handed weapon in the off-hand, make it Light
      foreach pick in hero from BaseWep where "wClass.OneHanded & fieldVal:wIs2nd = 1"
        perform eachpick.delete[wClass.OneHanded]
        perform eachpick.assign[wClass.Light]
      nexteach]]></eval>
    </thing>
  <thing id="fPWRchShdw" name="Reach through Shadows" description="Drawing on the chains of dark power afflicting them, you strike down those you have Claimed.\n\n{b}Prerequisites:{/b} Grasp of Darkness, Intelligence 15+\n\n{b}Benefit:{/b} You may treat creatures Claimed by you that are 35 or more feet away from you as though they were 30 feet away from you for the purposes of targeting powers, maneuvers, and spells." compset="Feat" uniqueness="useronce">
    <usesource source="srcPOWEx"/>
    <tag group="fCategory" tag="Combat"/>
    <tag group="Helper" tag="ShowSpec"/>
    <tag group="ProductId" tag="HLCommunit"/>
    <exprreq message="Grasp of Darkness feat required"><![CDATA[#hasfeat[fPWGrspDrk] <> 0]]></exprreq>
    <exprreq message="Intelligence 15+ required"><![CDATA[#attrvalue[aINT] >= 15]]></exprreq>
    </thing>
  <thing id="fPWSinEatr" name="Sin Eater" description="You prosper as your enemies fail.\n\n{b}Prerequisites:{/b} Able to Claim creatures\n\n{b}Benefit:{/b} Whenever a creature Claimed by you is reduced to o or less hit points you gain temporary hit points equal to 2 times the Claimed creature’s hit dice." compset="Feat" uniqueness="useronce">
    <usesource source="srcPOWEx"/>
    <tag group="fCategory" tag="Combat"/>
    <tag group="Helper" tag="ShowSpec"/>
    <tag group="ProductId" tag="HLCommunit"/>
    <exprreq message="Must be able to Claim creatures"><![CDATA[#hasability[cPW4DrkClm] + #hasability[cPW2SlClm] <> 0]]></exprreq>
    </thing>
  <thing id="fPWSeizeOp" name="Seize the Opportunity" description="{b}Prerequisite:{/b} Combat Reflexes, BAB +1\n\n{b}Benefit:{/b} When you make an attack of opportunity, you can use an attack action (like vital strike) or combat maneuver (such as a bull rush, disarm or dirty trick) in place of an attack of opportunity.  You still cannot move when it isn’t your turn." compset="Feat" uniqueness="useronce">
    <usesource source="srcPOWEx"/>
    <tag group="fCategory" tag="Combat"/>
    <tag group="Helper" tag="ShowSpec"/>
    <tag group="ProductId" tag="HLCommunit"/>
    <exprreq message="Base attack bonus +1 required"><![CDATA[#BAB[] >= 1]]></exprreq>
    <exprreq message="Combat Reflexes feat required"><![CDATA[#hasfeat[fComRef] <> 0]]></exprreq>
    </thing>
  <thing id="fPWWndsWar" name="Winds of War" description="Those you have Claimed cannot hide, and now they can no longer even run.\n\n{b}Prerequisites:{/b} Able to Claim creatures\n\n{b}Benefit:{/b} You gain a 5 ft. bonus to your movement speeds. This bonus increases by 5 ft. for each creature you currently have Claimed." compset="Feat" uniqueness="useronce">
    <fieldval field="abValue" value="5"/>
    <usesource source="srcPOWEx"/>
    <tag group="Helper" tag="ShowSpec"/>
    <tag group="ProductId" tag="HLCommunit"/>
    <tag group="fCategory" tag="Combat"/>
    <eval phase="PostAttr" priority="10000"><![CDATA[      ~ If we're disabled, do nothing
      doneif (tagis[Helper.FtDisable] <> 0)

      ~ Get the ability we use to Claim creatures
      perform hero.childfound[cPW4DrkClm].setfocus
      if (state.isfocus = 0) then
        perform hero.childfound[cPW2SlClm].setfocus
      endif
      doneif (state.isfocus = 0)

      ~ Speed bonus starts at 5
      field[abValue2].value = field[abValue].value

      ~ Bonus increases by 5 for each Claimed target
      field[abValue2].value += (focus.field[actUser].value * field[abValue].value)
      
      ~ Apply final bonus to movement speed
      hero.child[Speed].field[Bonus].value += field[abValue2].value]]></eval>
    <exprreq message="Must be able to Claim creatures"><![CDATA[#hasability[cPW4DrkClm] + #hasability[cPW2SlClm] <> 0]]></exprreq>
    </thing>
  <thing id="fPWUnbColl" name="Unbreakable Collective" description="{b}Prerequisites:{/b} Collective class feature, base fortitude save +2\n\n{b}Benefit:{/b} You automatically succeed on your Fortitude save when a member of your collective dies." compset="Feat" uniqueness="useronce">
    <usesource source="srcPOWEx"/>
    <tag group="Helper" tag="ShowSpec"/>
    <tag group="ProductId" tag="HLCommunit"/>
    <tag group="fCategory" tag="Psionic"/>
    <eval phase="Final" priority="10000"><![CDATA[      ~ If we're disabled, do nothing
      doneif (tagis[Helper.FtDisable] <> 0)

      #appenddesc[cPUCollect, "{b}" & field[name].text & "{/b}: You automatically succeed on your Fortitude save when a member of your collective dies."]]]></eval>
    <exprreq message="Collective class feature required"><![CDATA[(#hasability[cPUCollect] + #hasability[cPUTacColl] + #hasability[cPUVitColl] + #hasability[cPW5Collec]) <> 0]]></exprreq>
    <exprreq message="Fort save bonus +2 required"><![CDATA[hero.child[svFort].field[svBase].value >= 2]]></exprreq>
    </thing>
  <thing id="fPWBBStyle" name="Broken Blade Style" description="Your fists strike harder than any blade\n\n{b}Prerequisites:{/b} 1 or more Broken Blade stances, Improved Unarmed Strike, Acrobatics 3 ranks\n\n{b}Benefit:{/b} Your unarmed strikes ignore DR and hardness equal to 1/2 your character level." compset="Feat" uniqueness="useronce">
    <usesource source="srcPOWEx"/>
    <tag group="fCategory" tag="Combat"/>
    <tag group="fCategory" tag="Style"/>
    <tag group="Helper" tag="ShowSpec"/>
    <tag group="User" tag="Activation"/>
    <tag group="Custom" tag="ActiveStyl"/>
    <eval phase="PostLevel" priority="10000"><![CDATA[
      ~ If we're disabled, do nothing
      doneif (tagis[Helper.FtDisable] <> 0)

      ~if we're not active, we're done
      doneif (field[abilActive].value = 0)


      perform hero.assign[Custom.ActiveStyl]]]></eval>
    <evalrule phase="Validation" priority="5000" message="Too many style feats active." summary="Too many style feats active."><![CDATA[validif (hero.tagcount[Custom.ActiveStyl] <= 1 + hero.tagcount[Custom.MaxActStyl])]]></evalrule>
    <exprreq message="Must know one or more Broken Blade stances"><![CDATA[hero.tagcount[HasStance.BrokenBlad] > 0]]></exprreq>
    <exprreq message="Improved Unarmed Strike feat required"><![CDATA[#hasfeat[fImpUnarm] <> 0]]></exprreq>
    <exprreq message="Acrobatics 3+ ranks required"><![CDATA[#skillranks[skAcrobat] >= 3]]></exprreq>
    </thing>
  <thing id="fPWBBCrush" name="Broken Blade Crush" description="A blow from your fist crushes armor as easily as bones\n\n{b}Prerequisites:{/b} Broken Blade Style, Acrobatics 7 ranks\n\n{b}Benefit:{/b} Once per round, when you make an unarmed strike against an opponent wearing armor, you may make an unarmed sunder attempt as a free action that does not provoke attacks of opportunity." compset="Feat" uniqueness="useronce">
    <usesource source="srcPOWEx"/>
    <tag group="fCategory" tag="Combat"/>
    <tag group="fCategory" tag="Style"/>
    <tag group="Helper" tag="ShowSpec"/>
    <exprreq message="Broken Blade Style feat required"><![CDATA[#hasfeat[fPWBBStyle] <> 0]]></exprreq>
    <exprreq message="Acrobatics 7+ ranks required"><![CDATA[#skillranks[skAcrobat] >= 7]]></exprreq>
    </thing>
  <thing id="fPWBBRythm" name="Broken Blade Rythym" description="Every blow from your fist builds on the last.\n\n{b}Prerequisites:{/b} Broken Blade Crush, Acrobatics 11 ranks\n\n{b}Benefit:{/b} Once per round when you succeed on an attack roll as part of a Broken Blade strike, you can make a free combat maneuver attempt against one opponent in melee range." compset="Feat" uniqueness="useronce">
    <usesource source="srcPOWEx"/>
    <tag group="fCategory" tag="Combat"/>
    <tag group="fCategory" tag="Style"/>
    <tag group="Helper" tag="ShowSpec"/>
    <exprreq message="Broken Blade Crush feat required"><![CDATA[#hasfeat[fPWBBCrush] <> 0]]></exprreq>
    <exprreq message="Acrobatics 11+ ranks required"><![CDATA[#skillranks[skAcrobat] >= 11]]></exprreq>
    </thing>
  <thing id="fPWBSStyle" name="Black Seraph Style" description="You laugh off the cowardly assaults of your foes.\n\n{b}Prerequisites:{/b} 1 or more Black Seraph stances, Intimidate 3 ranks\n\n{b}Benefit:{/b} You gain a +1 profane bonus to armor class and saving throws against creatures that are shaken, frightened, panicked, or cowering. This bonus increases by +1 for every 5 character levels." compset="Feat" uniqueness="useronce">
    <fieldval field="abValue" value="1"/>
    <fieldval field="actName2" value="Attacker under fear effect"/>
    <usesource source="srcPOWEx"/>
    <tag group="Helper" tag="ShowSpec"/>
    <tag group="User" tag="Activation"/>
    <tag group="Custom" tag="ActiveStyl"/>
    <tag group="fCategory" tag="Style"/>
    <tag group="fCategory" tag="Combat"/>
    <eval phase="PostLevel" priority="10000"><![CDATA[
      ~ If we're disabled, do nothing
      doneif (tagis[Helper.FtDisable] <> 0)

      ~ Calculate AC bonus
      field[abValue].value += round(herofield[tTotLevel].value/5,0,-1)

      ~if we're not active, we're done
      doneif (field[abilActive].value = 0)

      ~ Stop now if we don't have any valid attackers to apply the bonus against
      doneif (field[abilAct2].value = 0)

      ~ Apply profane bonus to AC
      #applybonus[BonProfane, hero.child[ArmorClass], field[abValue].value]

      ~ Assign active style tag
      perform hero.assign[Custom.ActiveStyl]]]></eval>
    <eval phase="Render" priority="20000" index="2"><![CDATA[      field[livename].text &= " " & signed(field[abValue].value)]]></eval>
    <evalrule phase="Validation" priority="5000" message="Too many style feats active." summary="Too many style feats active."><![CDATA[validif (hero.tagcount[Custom.ActiveStyl] <= 1 + hero.tagcount[Custom.MaxActStyl])]]></evalrule>
    <exprreq message="Must know one or more Black Seraph stances"><![CDATA[hero.tagcount[HasStance.BlackSerph] > 0]]></exprreq>
    <exprreq message="Intimidate 3+ ranks required"><![CDATA[#skillranks[skIntim] >= 3]]></exprreq>
    </thing>
  <thing id="fPWBSMalev" name="Black Seraph&apos;s Malevolence" description="You rip into creatures that cannot withstand your terror.\n\n{b}Prerequisites:{/b} Black Seraph Style, Intimidate 7 ranks\n\n{b}Benefit:{/b} You treat creatures that are shaken, frightened, panicked, or cowering as being good-aligned when calculating profane damage you deal against them." compset="Feat" uniqueness="useronce">
    <usesource source="srcPOWEx"/>
    <tag group="Helper" tag="ShowSpec"/>
    <tag group="User" tag="Activation"/>
    <tag group="fCategory" tag="Combat"/>
    <exprreq message="Black Seraph Style feat required"><![CDATA[#hasfeat[fPWBSStyle] <> 0]]></exprreq>
    <exprreq message="Intimidate 7+ ranks required"><![CDATA[#skillranks[skIntim] >= 7]]></exprreq>
    </thing>
  <thing id="fPWBSAnnil" name="Black Seraph Annihilation" description="You drive your foes before you.\n\n{b}Prerequisites:{/b} Black Seraph’s Malevolence, Intimidate 11 ranks\n\n{b}Benefit:{/b} Creatures within 30 feet of you lose immunity to fear. Creatures that are immune to mind-affecting effects can still be affected by fear, but gain a +5 resistance bonus to any saving throw granted." compset="Feat" uniqueness="useronce">
    <usesource source="srcPOWEx"/>
    <tag group="Helper" tag="ShowSpec"/>
    <tag group="User" tag="Activation"/>
    <tag group="fCategory" tag="Combat"/>
    <exprreq message="Black Seraph&apos;s Malevolence feat required"><![CDATA[#hasfeat[fPWBSMalev] <> 0]]></exprreq>
    <exprreq message="Intimidate 11+ ranks required"><![CDATA[#skillranks[skIntim] >= 11]]></exprreq>
    </thing>
  <thing id="fPWCRStyle" name="Cursed Razor Style" description="You persecute those under the influence of your dark power.\n\n{b}Prerequisites:{/b} 1 or more Cursed Razor stances, Spellcraft 3 ranks.\n\n{b}Benefit:{/b} Whenever you damage a cursed creature with a melee attack, that creature suffers an additional 2 points of bleed damage, plus 2 points for every 4 character levels you possess. A DC 15 Heal check or the application of magical healing halts this damage." compset="Feat" uniqueness="useronce">
    <fieldval field="abValue" value="2"/>
    <fieldval field="actName2" value="Target is cursed"/>
    <usesource source="srcPOWEx"/>
    <tag group="User" tag="Activation"/>
    <tag group="Custom" tag="ActiveStyl"/>
    <tag group="fCategory" tag="Style"/>
    <tag group="fCategory" tag="Combat"/>
    <tag group="Helper" tag="ShowSpec"/>
    <eval phase="Render" priority="20000" index="2"><![CDATA[      field[livename].text &= " (" & signed(field[abValue].value) & " bleed damage)"]]></eval>
    <eval phase="PostLevel" priority="10000"><![CDATA[
      ~ If we're disabled, do nothing
      doneif (tagis[Helper.FtDisable] <> 0)

      ~ Calculate additional bleed damage
      field[abValue].value += round(herofield[tTotLevel].value/4,0,-1) * 2

      ~if we're not active, we're done
      doneif (field[abilActive].value = 0)

      ~ Assign active style tag
      perform hero.assign[Custom.ActiveStyl]

      ~ If we have a cursed target, add bleed damage
      if (field[abilAct2].value <> 0) then
        foreach pick in hero from BaseWep 
          #extradamage[eachpick, signed(field[abValue].value) & " bleed", field[thingname].text]
        nexteach
      endif]]></eval>
    <evalrule phase="Validation" priority="5000" message="Too many style feats active." summary="Too many style feats active."><![CDATA[validif (hero.tagcount[Custom.ActiveStyl] <= 1 + hero.tagcount[Custom.MaxActStyl])]]></evalrule>
    <exprreq message="Spellcraft 3+ ranks required"><![CDATA[#skillranks[skSpellcr] >= 3]]></exprreq>
    <exprreq message="Must know one or more Cursed Razor stances"><![CDATA[hero.tagcount[HasStance.CurseRazor] > 0]]></exprreq>
    </thing>
  <thing id="fPWCRPlag" name="Cursed Razor Plague" description="Your curses spread amongst your enemies.\n\n{b}Prerequisites:{/b} Cursed Razor Style, Spellcraft 7 ranks\n\n{b}Benefit:{/b} Whenever you cause an opponent to become cursed by an effect other than this feat, you may select an additional opponent within 30 ft.; the additional opponent becomes cursed for the same duration." compset="Feat" uniqueness="useronce">
    <usesource source="srcPOWEx"/>
    <tag group="User" tag="Activation"/>
    <tag group="fCategory" tag="Combat"/>
    <tag group="Helper" tag="ShowSpec"/>
    <exprreq message="Spellcraft 7+ ranks required"><![CDATA[#skillranks[skSpellcr] >= 7]]></exprreq>
    <exprreq message="Cursed Razor Style feat required"><![CDATA[#hasfeat[fPWCRStyle] <> 0]]></exprreq>
    </thing>
  <thing id="fPWCRMass" name="Cursed Razor Massacre" description="You tear into your victims like a plague-laced wind.\n\n{b}Prerequisites:{/b} Cursed Razor Plague, Spellcraft 11 ranks\n\n{b}Benefit:{/b} Whenever you strike a cursed creature with a melee attack you may make an additional attack against a different cursed creature within your reach. This additional attack is made at your highest attack bonus and may be made up to once per round." compset="Feat" uniqueness="useronce">
    <usesource source="srcPOWEx"/>
    <tag group="User" tag="Activation"/>
    <tag group="fCategory" tag="Combat"/>
    <tag group="Helper" tag="ShowSpec"/>
    <exprreq message="Spellcraft 11+ ranks required"><![CDATA[#skillranks[skSpellcr] >= 11]]></exprreq>
    <exprreq message="Cursed Razor Plague feat required"><![CDATA[#hasfeat[fPWCRPlag] <> 0]]></exprreq>
    </thing>
  <thing id="fPWGLStyle" name="Golden Lion Style" description="You are adept at taking advantage of your allies missed opportunities\n\n{b}Prerequisites:{/b} 1 or more Golden Lion stances, Diplomacy 3 ranks\n\n{b}Benefit:{/b} Whenever an ally who is flanking the same enemy as you misses an attack against that opponent, you can make an attack of opportunity against that opponent." compset="Feat" uniqueness="useronce">
    <usesource source="srcPOWEx"/>
    <tag group="User" tag="Activation"/>
    <tag group="Custom" tag="ActiveStyl"/>
    <tag group="fCategory" tag="Style"/>
    <tag group="fCategory" tag="Combat"/>
    <tag group="Helper" tag="ShowSpec"/>
    <eval phase="PostLevel" priority="10000"><![CDATA[
      ~ If we're disabled, do nothing
      doneif (tagis[Helper.FtDisable] <> 0)

      ~if we're not active, we're done
      doneif (field[abilActive].value = 0)

      ~ Assign active style tag
      perform hero.assign[Custom.ActiveStyl]]]></eval>
    <evalrule phase="Validation" priority="5000" message="Too many style feats active." summary="Too many style feats active."><![CDATA[validif (hero.tagcount[Custom.ActiveStyl] <= 1 + hero.tagcount[Custom.MaxActStyl])]]></evalrule>
    <exprreq message="Must know one or more Golden Lion stances"><![CDATA[hero.tagcount[HasStance.GoldenLion] > 0]]></exprreq>
    <exprreq message="Diplomacy 3+ ranks required"><![CDATA[#skillranks[skDiplo] >= 3]]></exprreq>
    </thing>
  <thing id="fPWGLCharg" name="Golden Lion Charge" description="Your awareness of the battlefield lets you seize opportunity at a moment’s notice\n\n{b}Prerequisites:{/b} Golden Lion Style, Diplomacy 7 ranks\n\n{b}Benefit:{/b} Whenever an opponent within 30 feet attacks an ally and misses, you can expend a readied counter to move up to your speed, provided that movement ends with you adjacent to the opponent that missed your ally, and make a single attack of opportunity against them." compset="Feat" uniqueness="useronce">
    <usesource source="srcPOWEx"/>
    <tag group="User" tag="Activation"/>
    <tag group="fCategory" tag="Combat"/>
    <tag group="Helper" tag="ShowSpec"/>
    <exprreq message="Diplomacy 7+ ranks required"><![CDATA[#skillranks[skDiplo] >= 7]]></exprreq>
    <exprreq message="Golden Lion Style feat required"><![CDATA[#hasfeat[fPWGLStyle] <> 0]]></exprreq>
    </thing>
  <thing id="fPWGLComm" name="Golden Lion Charge" description="Your battlefield presence bolsters the will of your allies\n\n{b}Prerequisites:{/b} Golden Lion Charge\n\n{b}Benefit:{/b} You can expend a readied boost maneuver to grant all allies within 30 ft. 5 temporary hit points per attack you make this round.  These temporary hit points stack with themselves and last for up to 1 round or until lost." compset="Feat" uniqueness="useronce">
    <usesource source="srcPOWEx"/>
    <tag group="User" tag="Activation"/>
    <tag group="fCategory" tag="Combat"/>
    <tag group="Helper" tag="ShowSpec"/>
    <exprreq message="Diplomacy 11+ ranks required"><![CDATA[#skillranks[skDiplo] >= 1]]></exprreq>
    <exprreq message="Golden Lion Charge feat required"><![CDATA[#hasfeat[fPWGLCharg] <> 0]]></exprreq>
    </thing>
  <thing id="fPWITStyle" name="Iron Tortoise Style" description="You guard yourself and allies with your trusty shield at your side\n\n{b}Prerequisites:{/b} Proficiency with shields, 1 more Iron Tortoise stances, Bluff 3 ranks\n\n{b}Benefit:{/b} You deal damage with shield bash attacks as though you were one size larger than you actually are. This stacks with other effects that increase size." compset="Feat" uniqueness="useronce">
    <usesource source="srcPOWEx"/>
    <tag group="User" tag="Activation"/>
    <tag group="Custom" tag="ActiveStyl"/>
    <tag group="fCategory" tag="Style"/>
    <tag group="fCategory" tag="Combat"/>
    <tag group="Helper" tag="ShowSpec"/>
    <eval phase="PreLevel" priority="1000"><![CDATA[
      ~ If we're disabled, do nothing
      doneif (tagis[Helper.FtDisable] <> 0)

      ~if we're not active, we're done
      doneif (field[abilActive].value = 0)

      ~ Assign active style tag
      perform hero.assign[Custom.ActiveStyl]

      ~ Increase our shield bash damage by one die step
      foreach pick in hero from BaseWep where "wCategory.ShieldBash"
        perform eachpick.assign[Helper.DamageUp]
      nexteach]]></eval>
    <evalrule phase="Validation" priority="5000" message="Too many style feats active." summary="Too many style feats active."><![CDATA[validif (hero.tagcount[Custom.ActiveStyl] <= 1 + hero.tagcount[Custom.MaxActStyl])]]></evalrule>
    <exprreq message="Must know one or more Iron Tortoise stances"><![CDATA[hero.tagcount[HasStance.IronTort] > 0]]></exprreq>
    <exprreq message="Bluff 3+ ranks required"><![CDATA[#skillranks[skBluff] >= 3]]></exprreq>
    </thing>
  <thing id="fPWITShell" name="Iron Tortoise Shell" description="Your shield protects you from more than just physical assaults\n\n{b}Prerequisites:{/b} Iron Tortoise Style, Bluff 7 ranks\n\n{b}Benefit:{/b} Whenever you initiate a counter, you gain the evasion special ability until the end of your next turn." compset="Feat" uniqueness="useronce">
    <usesource source="srcPOWEx"/>
    <tag group="User" tag="Activation"/>
    <tag group="fCategory" tag="Combat"/>
    <tag group="Helper" tag="ShowSpec"/>
    <exprreq message="Iron Tortoise Style feat required"><![CDATA[#hasfeat[fPWITStyle] <> 0]]></exprreq>
    <exprreq message="Bluff 7+ ranks required"><![CDATA[#skillranks[skBluff] >= 7]]></exprreq>
    </thing>
  <thing id="fPWITSnap" name="Iron Tortoise Snap" description="Your sword-and-shield style is brutally efficient.\n\n{b}Prerequisites:{/b} Iron Tortoise Shell, Bluff 13 ranks\n\n{b}Benefit:{/b} You may make an additional attack at your highest attack bonus with a non-shield weapon whenever you hit a creature with a shield bash. This additional attack must be made against the creature struck by your shield bash. You may only make up to two additional attacks per round in this manner." compset="Feat" uniqueness="useronce">
    <usesource source="srcPOWEx"/>
    <tag group="User" tag="Activation"/>
    <tag group="fCategory" tag="Combat"/>
    <tag group="Helper" tag="ShowSpec"/>
    <exprreq message="Iron Tortoise Shell feat required"><![CDATA[#hasfeat[fPWITShell] <> 0]]></exprreq>
    <exprreq message="Bluff 13+ ranks required"><![CDATA[#skillranks[skBluff] >= 13]]></exprreq>
    </thing>
  <thing id="fPWPFStyle" name="Primal Fury Style" description="Your fury drives you to close with your foes so that you can tear into them more easily\n\n{b}Prerequisites:{/b} 1 or more Primal Fury stances, Survival 3 ranks\n\n{b}Benefit:{/b} When you charge a creature, add a +5 ft competence bonus to your charge distance for every 4 character levels." compset="Feat" uniqueness="useronce">
    <fieldval field="abValue" value="5"/>
    <usesource source="srcPOWEx"/>
    <tag group="Custom" tag="ActiveStyl"/>
    <tag group="fCategory" tag="Style"/>
    <tag group="fCategory" tag="Combat"/>
    <tag group="Helper" tag="ShowSpec"/>
    <tag group="User" tag="Activation"/>
    <eval phase="PostLevel" priority="10000"><![CDATA[      ~ If we're disabled, do nothing
      doneif (tagis[Helper.FtDisable] <> 0)

      ~ Calculate additional speed bonus
      field[abValue].value += round(herofield[tTotLevel].value/4,0,-1) * 5

      ~if we're not active, we're done
      doneif (field[abilActive].value = 0)

      ~ Assign active style tag
      perform hero.assign[Custom.ActiveStyl]

      ~ Stop now if we're not charging
      doneif (hero.childfound[pstChargin].field[pIsOn].value <> 1)

      ~ Add competence bonus to speed
      #competencebonus[hero.child[Speed], field[abValue].value]]]></eval>
    <eval phase="Render" priority="10000" index="2"><![CDATA[      field[livename].text &= " (" & signed(field[abValue].value) & " ft)"]]></eval>
    <evalrule phase="Validation" priority="5000" message="Too many style feats active." summary="Too many style feats active."><![CDATA[validif (hero.tagcount[Custom.ActiveStyl] <= 1 + hero.tagcount[Custom.MaxActStyl])]]></evalrule>
    <exprreq message="Survival 3+ ranks required"><![CDATA[#skillranks[skSurvival] >= 3]]></exprreq>
    <exprreq message="Must know one or more Primal Fury stances"><![CDATA[hero.tagcount[HasStance.PrimalFury] > 0]]></exprreq>
    </thing>
  <thing id="fPWPFSlash" name="Primal Fury Slash" description="Your swift movements and skill allow you to strike enemies as you close with your target.\n\n{b}Prerequisites:{/b} Primal Fury Style, Survival 7 ranks\n\n{b}Benefit:{/b} When you charge a creature, you can make a single attack against any other creature that is adjacent to you at any point during your movement." compset="Feat" uniqueness="useronce">
    <usesource source="srcPOWEx"/>
    <tag group="Custom" tag="ActiveStyl"/>
    <tag group="fCategory" tag="Combat"/>
    <tag group="Helper" tag="ShowSpec"/>
    <exprreq message="Survival 7+ ranks required"><![CDATA[#skillranks[skSurvival] >= 7]]></exprreq>
    <exprreq message="Primal Fury Style feat required"><![CDATA[#hasfeat[fPWPFStyle] <> 0]]></exprreq>
    </thing>
  <thing id="fPWPFSavg" name="Primal Fury Savagery" description="You strike with speed and strength beyond that of any other\n\n{b}Prerequisites:{/b} Primal Fury Slash, Survival 11 ranks\n\n{b}Benefit:{/b} When you charge an opponent, your attack deals 2d6 bleed damage in addition to its normal damage.  This bleed damage is not increased if you make more than one attack against the same target.  The bleed damage lasts until healed by a DC 15 heal check or any amount of magical healing." compset="Feat" uniqueness="useronce">
    <fieldval field="abValue" value="2"/>
    <fieldval field="abValue2" value="6"/>
    <usesource source="srcPOWEx"/>
    <tag group="fCategory" tag="Combat"/>
    <tag group="Helper" tag="ShowSpec"/>
    <eval phase="PostLevel" priority="10000"><![CDATA[      ~ If we're disabled, do nothing
      doneif (tagis[Helper.FtDisable] <> 0)

      ~if Primal Fury Style is not active, we're done
      doneif (hero.childfound[fPWPFStyle].field[abilActive].value <> 1)

      ~ Stop now if we're not charging
      doneif (hero.childfound[pstChargin].field[pIsOn].value <> 1)

      ~ Add bleed damage to attacks
      foreach pick in hero from BaseWep
        #extradamage[eachpick, "+" & field[abValue].value & "d" & field[abValue2].value & " bleed", field[thingname].text]
      nexteach]]></eval>
    <exprreq message="Survival 11+ ranks required"><![CDATA[#skillranks[skSurvival] >= 11]]></exprreq>
    <exprreq message="Primal Fury Slash feat required"><![CDATA[#hasfeat[fPWPFSlash] <> 0]]></exprreq>
    </thing>
  <thing id="fPWSMStyle" name="Shattered Mirror Style" description="You are skilled in the art of reflective combat.\n\n{b}Prerequisites:{/b} 1 or more Shattered Mirror stances, Craft 3 ranks\n\n{b}Benefit:{/b} When wielding one or more Shattered Mirror discipline weapons, increase your shield bonus to AC by +2 (even if you don’t have a shield bonus)." compset="Feat" uniqueness="useronce">
    <fieldval field="abValue" value="2"/>
    <usesource source="srcPOWEx"/>
    <tag group="fCategory" tag="Style"/>
    <tag group="Helper" tag="ShowSpec"/>
    <tag group="User" tag="Activation"/>
    <tag group="Custom" tag="ActiveStyl"/>
    <tag group="fCategory" tag="Combat"/>
    <eval phase="PostLevel" priority="10000"><![CDATA[      ~ If we're disabled, do nothing
      doneif (tagis[Helper.FtDisable] <> 0)

      ~if we're not active, we're done
      doneif (field[abilActive].value = 0)

      perform hero.assign[Custom.ActiveStyl]

      ~ Stop now if we don't have a Shattered Mirror weapon equipped
      doneif (hero.findchild[BaseWep, "(Hero.MainHand | Hero.OffHand) & (Discipline.ShaMirror | " & hero.childfound[zPWShaMirr].tagids[wFtrGroup.?, " | "] & ")"].tagis[thingid.?] = 0)

      ~ Add AC bonus
      hero.child[ArmorClass].field[tACShield].value += field[abValue].value]]></eval>
    <evalrule phase="Validation" priority="5000" message="Too many style feats active." summary="Too many style feats active."><![CDATA[validif (hero.tagcount[Custom.ActiveStyl] <= 1 + hero.tagcount[Custom.MaxActStyl])]]></evalrule>
    <exprreq message="Must know one or more Shattered Mirror stances"><![CDATA[hero.tagcount[HasStance.ShaMirror] > 0]]></exprreq>
    <prereq message="Craft 3+ ranks required">
      <validate><![CDATA[      foreach pick in hero from BaseSkill where "Helper.SkCatCraft"
        validif (eachpick.field[skRanks].value >= 3)
      nexteach]]></validate>
      </prereq>
    </thing>
  <thing id="fPWSMWaltz" name="Shattered Mirror Waltz" description="Your supernatural swordplay lets you move like an illusion.\n\n{b}Prerequisites:{/b} Shattered Mirror Style, Craft 7 ranks\n\n{b}Benefit:{/b} You ignore movement penalties inflicted by difficult terrain (other forms of penalties, such as damage, still affect you)." compset="Feat" uniqueness="useronce">
    <usesource source="srcPOWEx"/>
    <tag group="fCategory" tag="Style"/>
    <tag group="Helper" tag="ShowSpec"/>
    <tag group="User" tag="Activation"/>
    <tag group="fCategory" tag="Combat"/>
    <exprreq message="Shattered Mirror Style feat required"><![CDATA[#hasfeat[fPWSMStyle] <> 0]]></exprreq>
    <prereq message="Craft 7+ ranks required">
      <validate><![CDATA[      foreach pick in hero from BaseSkill where "Helper.SkCatCraft"
        validif (eachpick.field[skRanks].value >= 7)
      nexteach]]></validate>
      </prereq>
    </thing>
  <thing id="fPWSMDual" name="Shattered Mirror Duality" description="Your reality-distorting power reflects your attacks, making it hard to defend against you.\n\n{b}Prerequisites:{/b} Shattered Mirror Waltz, Craft 13 ranks\n\n{b}Benefit:{/b} Once per round, you may expend one of your readied boosts as a swift action. If you do, roll each attack you make this round twice and use the better result." compset="Feat" uniqueness="useronce">
    <usesource source="srcPOWEx"/>
    <tag group="fCategory" tag="Style"/>
    <tag group="Helper" tag="ShowSpec"/>
    <tag group="User" tag="Activation"/>
    <tag group="fCategory" tag="Combat"/>
    <exprreq message="Shattered Mirror Waltz feat required"><![CDATA[#hasfeat[fPWSMWaltz] <> 0]]></exprreq>
    <prereq message="Craft 13+ ranks required">
      <validate><![CDATA[      foreach pick in hero from BaseSkill where "Helper.SkCatCraft"
        validif (eachpick.field[skRanks].value >= 13)
      nexteach]]></validate>
      </prereq>
    </thing>
  <thing id="fPWSTStyle" name="Scarlet Throne Style" description="Your skill with a single blade allows you to strike with the same force as those much stronger than you.\n\n{b}Prerequisites:{/b} 1 or more Scarlet Throne stances, Sense Motive 3 ranks\n\n{b}Benefit:{/b} When wielding your weapon one handed with nothing in your off hand, you treat your weapon as being wielded in two hands for purposes of feats and abilities which would benefit from this change.\n\n{b}NOTE:{/b} Currently, the mechanical effects of this feat cannot be effectively implemented in Hero Lab.  When using this feat, set your weapon to be equipped in both hands when you need to calculate effects." compset="Feat" uniqueness="useronce">
    <fieldval field="abValue" value="2"/>
    <usesource source="srcPOWEx"/>
    <tag group="fCategory" tag="Style"/>
    <tag group="Helper" tag="ShowSpec"/>
    <tag group="User" tag="Activation"/>
    <tag group="Custom" tag="ActiveStyl"/>
    <tag group="fCategory" tag="Combat"/>
    <eval phase="PostLevel" priority="10000"><![CDATA[      ~ If we're disabled, do nothing
      doneif (tagis[Helper.FtDisable] <> 0)

      ~if we're not active, we're done
      doneif (field[abilActive].value = 0)

      perform hero.assign[Custom.ActiveStyl]

      ~ Stop now if we don't have exactly one weapon in exactly one hand
      doneif (hero.tagcount[Hero.EquipWep] + hero.tagcount[Hero.EquipMain] + hero.tagcount[Hero.EquipOff] <> 2)]]></eval>
    <evalrule phase="Validation" priority="5000" message="Too many style feats active." summary="Too many style feats active."><![CDATA[validif (hero.tagcount[Custom.ActiveStyl] <= 1 + hero.tagcount[Custom.MaxActStyl])]]></evalrule>
    <exprreq message="Must know one or more Scarlet Throne stances"><![CDATA[hero.tagcount[HasStance.ScarletThr] > 0]]></exprreq>
    <exprreq message="Sense Motive 3+ ranks required"><![CDATA[#skillranks[skSenseMot] >= 3]]></exprreq>
    </thing>
  <thing id="fPWSTDign" name="Scarlet Throne Dignity" description="Noble training has enabled you to withstand attacks that would harm those of lesser breeding.\n\n{b}Prerequisites:{/b} Scarlet Throne Style, Sense Motive 7 ranks\n\n{b}Benefit:{/b} You can expend a readied maneuver as an immediate action to make an opposed attack roll in place of your AC.  If your attack roll is higher than your opponent’s attack roll, you negate the attack and you may move 5 feet as a free action. This movement does not provoke attacks of opportunity and does not count as your 5-foot step." compset="Feat" uniqueness="useronce">
    <usesource source="srcPOWEx"/>
    <tag group="fCategory" tag="Style"/>
    <tag group="Helper" tag="ShowSpec"/>
    <tag group="fCategory" tag="Combat"/>
    <exprreq message="Scarlet Throne Style feat required"><![CDATA[#hasfeat[fPWSTStyle] <> 0]]></exprreq>
    <exprreq message="Sense Motive 7+ ranks required"><![CDATA[#skillranks[skSenseMot] >= 7]]></exprreq>
    </thing>
  <thing id="fPWSTRipst" name="Scarlet Throne Riposte" description="You seize opportunity as it comes, taking advantage of your enemy’s poor position after a missed attack.\n\n{b}Prerequisites:{/b} Scarlet Throne Dignity, Sense Motive 11 Ranks\n\n{b}Benefit:{/b} Whenever you successfully negate an attack from an enemy (such as through Scarlet Throne Dignity or a counter), your opponent provokes an attack of opportunity from you. Any given creature can only provoke this attack of opportunity once per round from you." compset="Feat" uniqueness="useronce">
    <usesource source="srcPOWEx"/>
    <tag group="fCategory" tag="Style"/>
    <tag group="Helper" tag="ShowSpec"/>
    <tag group="fCategory" tag="Combat"/>
    <exprreq message="Scarlet Throne Dignity  feat required"><![CDATA[#hasfeat[fPWSTDign] <> 0]]></exprreq>
    <exprreq message="Sense Motive 11+ ranks required"><![CDATA[#skillranks[skSenseMot] >= 11]]></exprreq>
    </thing>
  <thing id="fPWSCStyle" name="Silver Crane Style" description="Your mercy shields your allies.\n\n{b}Prerequisites:{/b} 1 or more Silver Crane stances, Perception 3 ranks\n\n{b}Benefit:{/b} As a free action, you may suffer a -1 penalty to your armor class and Reflex saves until the beginning of your next turn. If you do, other allies within 20 ft. gain a +1 bonus to their armor class and Reflex saves until the beginning of your next turn. These bonuses and penalties increase by 1 for every 4 character levels." compset="Feat" uniqueness="useronce">
    <fieldval field="abValue" value="-1"/>
    <fieldval field="abValue2" value="1"/>
    <usesource source="srcPOWEx"/>
    <tag group="Helper" tag="ShowSpec"/>
    <tag group="User" tag="Activation"/>
    <tag group="Custom" tag="ActiveStyl"/>
    <tag group="fCategory" tag="Combat"/>
    <tag group="fCategory" tag="Style"/>
    <eval phase="Render" priority="50000" index="2"><![CDATA[      field[livename].text &= " (" & signed(field[abValue].value) & "/" & signed(field[abValue2].value) & ")"]]></eval>
    <eval phase="PostLevel" priority="10000"><![CDATA[      ~ If we're disabled, do nothing
      doneif (tagis[Helper.FtDisable] <> 0)

      ~ Calculate additional penalty from levels
      field[abValue].value -= round(herofield[tTotLevel].value/4,0,-1)
      field[abValue2].value = absolute(field[abValue].value)

      ~if we're not active, we're done
      doneif (field[abilActive].value = 0)

      perform hero.assign[Custom.ActiveStyl]

      ~ Apply penalty to AC and Ref save
      hero.child[ArmorClass].field[Penalty].value += field[abValue].value
      hero.child[svRef].field[Penalty].value += field[abValue].value]]></eval>
    <evalrule phase="Validation" priority="5000" message="Too many style feats active." summary="Too many style feats active."><![CDATA[validif (hero.tagcount[Custom.ActiveStyl] <= 1 + hero.tagcount[Custom.MaxActStyl])]]></evalrule>
    <exprreq message="Perception 3+ ranks required"><![CDATA[#skillranks[skPercep] >= 3]]></exprreq>
    <exprreq message="Must know one or more Silver Crane stances"><![CDATA[hero.tagcount[HasStance.SilvrCrane] > 0]]></exprreq>
    </thing>
  <thing id="fPWSCFthrs" name="Silver Crane Feathers" description="You sacrifice yourself for others.\n\n{b}Prerequisites:{/b} Silver Crane Style, Perception 7 ranks\n\n{b}Benefit:{/b} As an immediate action, in response to one of your allies within 30 ft. taking ability damage or hit point damage, you may expend one of your readied counters. If you do, you suffer the ability damage and/or hit point damage in place of that ally." compset="Feat" uniqueness="useronce">
    <usesource source="srcPOWEx"/>
    <tag group="Helper" tag="ShowSpec"/>
    <tag group="fCategory" tag="Combat"/>
    <tag group="abAction" tag="Immediate"/>
    <evalrule phase="Validation" priority="5000" message="Too many style feats active." summary="Too many style feats active."><![CDATA[validif (hero.tagcount[Custom.ActiveStyl] <= 1 + hero.tagcount[Custom.MaxActStyl])]]></evalrule>
    <exprreq message="Silver Crane Style required"><![CDATA[#hasfeat[fPWSCStyle] <> 0]]></exprreq>
    <exprreq message="Perception 7+ ranks required"><![CDATA[#skillranks[skPercep] >= 7]]></exprreq>
    </thing>
  <thing id="fPWSCWing" name="Silver Crane Wing" description="Your sacrifice to others grants you divine protection\n\n{b}Prerequisites:{/b} Silver Crane Feathers, Perception 11 ranks\n\n{b}Benefit:{/b} When you use your Silver Crane Feathers feat, make a Will save (DC equals ability damage dealt + hit point damage dealt). If you succeed, the damage is negated entirely instead of being redirected to you." compset="Feat" uniqueness="useronce">
    <usesource source="srcPOWEx"/>
    <tag group="Helper" tag="ShowSpec"/>
    <tag group="fCategory" tag="Combat"/>
    <exprreq message="Perception 11+ ranks required"><![CDATA[#skillranks[skPercep] >= 11]]></exprreq>
    <exprreq message="Silver Crane Feathers required"><![CDATA[#hasfeat[fPWSCFthrs] <> 0]]></exprreq>
    </thing>
  <thing id="fPWSGStyle" name="Sleeping Goddess Style" description="You can tap into the dream state to refresh your mind and body.\n\n{b}Prerequisites:{/b} 1 or more Sleeping Goddess stances, Autohypnosis 3 ranks\n\n{b}Benefit:{/b} You can spend a standard action to gain psionic focus and recover a single maneuver.  If you have the Psionic Meditation feat, you can spend a move action to gain psionic focus and recover a single maneuver." compset="Feat" uniqueness="useronce">
    <fieldval field="abValue" value="-1"/>
    <fieldval field="abValue2" value="1"/>
    <usesource source="srcPOWEx"/>
    <tag group="Helper" tag="ShowSpec"/>
    <tag group="User" tag="Activation"/>
    <tag group="Custom" tag="ActiveStyl"/>
    <tag group="fCategory" tag="Combat"/>
    <tag group="fCategory" tag="Style"/>
    <tag group="abAction" tag="Standard"/>
    <eval phase="PostAttr" priority="10000"><![CDATA[      ~ If we're disabled, do nothing
      doneif (tagis[Helper.FtDisable] <> 0)

      if (#hasfeat[fPUPsiMed] = 1) then
        perform tagreplace[abAction.Standard,abAction.Move]
      endif]]></eval>
    <evalrule phase="Validation" priority="5000" message="Too many style feats active." summary="Too many style feats active."><![CDATA[validif (hero.tagcount[Custom.ActiveStyl] <= 1 + hero.tagcount[Custom.MaxActStyl])]]></evalrule>
    <exprreq message="Must know one or more Sleeping Goddess stances"><![CDATA[hero.tagcount[HasStance.SlpGoddess] > 0]]></exprreq>
    <exprreq message="Autohypnosis 3+ ranks required"><![CDATA[#skillranks[skPUAhypno] >= 3]]></exprreq>
    </thing>
  <thing id="fPWSGSlmbr" name="Sleeping Goddess Slumber" description="Your attacks drag your opponent’s mind into their dream world.\n\n{b}Prerequisites:{/b} Sleeping Goddess Style, Autohypnosis 7 ranks\n\n{b}Benefit:{/b} When you successfully hit an opponent with a melee attack, you can expend psionic focus to force them to make a Will save (DC 10+1/2 level+ Initiating Modifier) or fall asleep for 1 round. A creature that makes their saving throw cannot be affected by this ability again for 24 hours.\n\n{b}NOTE:{/b} The feat script has no way of knowing what your initiating modifier would be when you use this feat, so we include a dropdown that you can use to tell it which attribute is the initiating attribute." compset="Feat" uniqueness="useronce">
    <fieldval field="abValue" value="-1"/>
    <fieldval field="abValue2" value="1"/>
    <fieldval field="abDuration" value="1"/>
    <usesource source="srcPOWEx"/>
    <tag group="fCategory" tag="Combat"/>
    <tag group="abAction" tag="PUExpFocus"/>
    <tag group="abSave" tag="WillNeg"/>
    <tag group="Helper" tag="ShowSpec"/>
    <tag group="abDuration" tag="Round"/>
    <tag group="fShowWhat" tag="Attributes"/>
    <tag group="Helper" tag="ActivMenu"/>
    <tag group="ProductId" tag="HLCommunit"/>
    <eval phase="PostAttr" priority="10000"><![CDATA[      doneif (field[usrChosen1].ischosen <> 1)

      field[abDC].value = 10
      field[abDC].value += round(herofield[tTotLevel].value/2,0,-1)
      field[abDC].value += field[usrChosen1].chosen.field[aModBonus].value]]></eval>
    <exprreq message="Sleeping Goddess Style feat required"><![CDATA[#hasfeat[fPWSGStyle] <> 0]]></exprreq>
    <exprreq message="Autohypnosis 7+ ranks required"><![CDATA[#skillranks[skPUAhypno] >= 7]]></exprreq>
    </thing>
  <thing id="fPWSGStrk" name="Sleeping Goddess Strike" description="Your strikes travel through the collective unconscious of the world to strike your foes.\n\n{b}Prerequisites:{/b} Sleeping Goddess Slumber, Autohypnosis 11 ranks\n\n{b}Benefit:{/b}  Whenever you hit an opponent with a melee or ranged attack, it takes a -2 penalty to its saving throws against your maneuvers until the end of its next turn." compset="Feat" uniqueness="useronce">
    <usesource source="srcPOWEx"/>
    <tag group="Helper" tag="ShowSpec"/>
    <tag group="fCategory" tag="Combat"/>
    <tag group="ProductId" tag="HLCommunit"/>
    <exprreq message="Sleeping Goddess Slumber feat required"><![CDATA[#hasfeat[fPWSGSlmbr] <> 0]]></exprreq>
    <exprreq message="Autohypnosis 11+ ranks required"><![CDATA[#skillranks[skPUAhypno] >= 11]]></exprreq>
    </thing>
  <thing id="fPWSWStyle" name="Solar Wind Style" description="Your arrows glow as bright as the sun.\n\n{b}Prerequisites:{/b} 1 or more Solar Wind Stances, Perception 3 ranks\n\n{b}Benefit:{/b} Whenever you make a ranged attack, you deal an extra +1 fire damage per 5 character levels.  In addition your arrows (or other ammunition) emit light as a torch; this light can be suppressed or resumed as a free action." compset="Feat" uniqueness="useronce">
    <fieldval field="abValue" value="1"/>
    <usesource source="srcPOWEx"/>
    <tag group="fCategory" tag="Style"/>
    <tag group="Helper" tag="ShowSpec"/>
    <tag group="SpecType" tag="Attack"/>
    <tag group="fCategory" tag="Combat"/>
    <tag group="ProductId" tag="HLCommunit"/>
    <eval phase="PostLevel" priority="10000"><![CDATA[      ~ If we're disabled, do nothing
      doneif (tagis[Helper.FtDisable] <> 0)

      ~ Damage bonus is level/5, min 1
      field[abValue].value = maximum(1, round(herofield[tTotLevel].value/5,0,-1))

      ~ Add fire damage bonus to all ranged attacks
      ~ For weapons usable as both ranged and melee (like daggers), specify that the bonus damage only applies at range
      var edStr as string
      foreach pick in hero from BaseWep where "wCategory.Range?"
        edStr = signed(field[abValue].value) & " Fire"
        if (eachpick.tagis[wCategory.Melee] <> 0) then
          edStr &= " (ranged only)"
        endif
        #extradamage[eachpick,edStr,field[thingname].text]
      nexteach]]></eval>
    <eval phase="Render" priority="50000" index="2"><![CDATA[      field[livename].text &= " " & signed(field[abValue].value)]]></eval>
    <exprreq message="Must know one or more Solar Wind stances"><![CDATA[hero.tagcount[HasStance.SolarWind] > 0]]></exprreq>
    <exprreq message="Perception 3+ ranks required"><![CDATA[#skillranks[skPercep] >= 3]]></exprreq>
    </thing>
  <thing id="fPWSWFlash" name="Solar Wind Flash" description="The light of your arrows is blinding.\n\n{b}Prerequisites:{/b} Solar Wind Style, Perception 7 ranks\n\n{b}Benefit:{/b} Whenever you succeed on a ranged attack against a creature, you may expend one of your readied boosts as a swift action.  If you do, the creature must succeed on a Fort save (DC 10 + 1/2 your character level + your initiation modifier) or be blinded for 1 minute.\n\n{b}NOTE:{/b} The feat script has no way of knowing what your initiating modifier would be when you use this feat, so we include a dropdown that you can use to tell it which attribute is the initiating attribute." compset="Feat" uniqueness="useronce">
    <usesource source="srcPOWEx"/>
    <tag group="Helper" tag="ShowSpec"/>
    <tag group="SpecType" tag="Attack"/>
    <tag group="abAction" tag="Swift"/>
    <tag group="abSave" tag="FortNeg"/>
    <tag group="ProductId" tag="HLCommunit"/>
    <tag group="fCategory" tag="Combat"/>
    <tag group="Helper" tag="ActivMenu"/>
    <tag group="fShowWhat" tag="Attributes"/>
    <eval phase="PostAttr" priority="10000"><![CDATA[      ~ If we're disabled, do nothing
      doneif (tagis[Helper.FtDisable] <> 0)

      ~ Save DC is 10 + 1/2 level + chosen attribute mod
      doneif (field[usrChosen1].ischosen <> 1)
      field[abDC].value = 10
      field[abDC].value += round(herofield[tTotLevel].value/2,0,-1)
      field[abDC].value += field[usrChosen1].chosen.field[aModBonus].value]]></eval>
    <pickreq thing="fPWSWStyle"/>
    <exprreq message="Perception 7+ ranks required"><![CDATA[#skillranks[skPercep] >= 7]]></exprreq>
    </thing>
  <thing id="fPWSWInfrn" name="Solar Wind Inferno" description="The burning power of your arrows sears the flesh of even those immune to fire.\n\n{b}Prerequisites:{/b} Solar Wind Flash, Perception 11 ranks\n\n{b}Benefit:{/b} Your ranged attacks which deal fire damage ignore an amount of fire resistance equal to your character level.  You treat Fire Immunity as Fire Resistance 30 for purposes of this effect." compset="Feat" uniqueness="useronce">
    <usesource source="srcPOWEx"/>
    <tag group="Helper" tag="ShowSpec"/>
    <tag group="SpecType" tag="Attack"/>
    <tag group="ProductId" tag="HLCommunit"/>
    <tag group="fCategory" tag="Combat"/>
    <tag group="abAction" tag="None"/>
    <pickreq thing="fPWSWFlash"/>
    <exprreq message="Perception 11+ ranks required"><![CDATA[#skillranks[skPercep] >= 11]]></exprreq>
    </thing>
  <thing id="fPWSSStyle" name="Steel Serpent Style" description="Your training lets you take advantage of weakened foes.\n\n{b}Prerequisites:{/b} 1 or more Steel Serpent stances, Heal 3 ranks\n\n{b}Benefit:{/b} Whenever you successfully attack a creature with a Steel Serpent Maneuver, the creature suffers a -1 penalty to attack rolls and AC for 2 rounds. This penalty increases by 1 for every 5 character levels." compset="Feat" uniqueness="useronce">
    <fieldval field="abValue" value="-1"/>
    <usesource source="srcPOWEx"/>
    <tag group="fCategory" tag="Style"/>
    <tag group="Helper" tag="ShowSpec"/>
    <tag group="SpecType" tag="Attack"/>
    <tag group="fCategory" tag="Combat"/>
    <tag group="ProductId" tag="HLCommunit"/>
    <eval phase="PostLevel" priority="10000"><![CDATA[      ~ If we're disabled, do nothing
      doneif (tagis[Helper.FtDisable] <> 0)

      ~ Penalty is level/5, min 1
      field[abValue].value -= maximum(1, round(herofield[tTotLevel].value/5,0,-1))]]></eval>
    <eval phase="Render" priority="50000" index="2"><![CDATA[      field[livename].text &= " " & signed(field[abValue].value)]]></eval>
    <exprreq message="Must know one or more Steel Serpent stances"><![CDATA[hero.tagcount[HasStance.SteelSerp] > 0]]></exprreq>
    <exprreq message="Heal 3+ ranks required"><![CDATA[#skillranks[skHeal] >= 3]]></exprreq>
    </thing>
  <thing id="fPWSSFangs" name="Steel Serpent Fangs" description="You have honed your lethal intent to an art form.\n\n{b}Prerequisites:{/b} Steel Serpent Style, Heal 7 ranks\n\n{b}Benefit:{/b} You may expend one of your readied boosts as a swift action. If you do, you treat opponents suffering from ability damage as flat-footed until the beginning of your next turn." compset="Feat" uniqueness="useronce">
    <usesource source="srcPOWEx"/>
    <tag group="Helper" tag="ShowSpec"/>
    <tag group="SpecType" tag="Attack"/>
    <tag group="fCategory" tag="Combat"/>
    <tag group="ProductId" tag="HLCommunit"/>
    <pickreq thing="fPWSSStyle"/>
    <exprreq message="Heal 7+ ranks required"><![CDATA[#skillranks[skHeal] >= 7]]></exprreq>
    </thing>
  <thing id="fPWSSVenom" name="Steel Serpent Venom" description="You amplify the weakness of your victims.\n\n{b}Prerequisites:{/b} Steel Serpent Fangs, Heal 13 ranks\n\n{b}Benefit:{/b} Whenever you deal weapon damage to a creature suffering from ability score damage, that creature must succeed on a Fortitude Save (DC 10+½ level+Initiating Modifier) or  become nauseated for 1 round (multiple applications of this effect do not stack).\n\n{b}NOTE:{/b} The feat script has no way of knowing what your initiating modifier would be when you use this feat, so we include a dropdown that you can use to tell it which attribute is the initiating attribute." compset="Feat" uniqueness="useronce">
    <usesource source="srcPOWEx"/>
    <tag group="Helper" tag="ShowSpec"/>
    <tag group="SpecType" tag="Attack"/>
    <tag group="fCategory" tag="Combat"/>
    <tag group="ProductId" tag="HLCommunit"/>
    <tag group="abSave" tag="FortNeg"/>
    <tag group="Helper" tag="ActivMenu"/>
    <tag group="fShowWhat" tag="Attributes"/>
    <eval phase="PostAttr" priority="10000"><![CDATA[      ~ Save DC is 10 + 1/2 level + chosen attribute mod
      doneif (field[usrChosen1].ischosen <> 1)
      field[abDC].value = 10
      field[abDC].value += round(herofield[tTotLevel].value/2,0,-1)
      field[abDC].value += field[usrChosen1].chosen.field[aModBonus].value]]></eval>
    <pickreq thing="fPWSSFangs"/>
    <exprreq message="Heal 13+ ranks required"><![CDATA[#skillranks[skHeal] >= 13]]></exprreq>
    </thing>
  <thing id="fPWTGStyle" name="Tempest Gale Style" description="Your arrows and slings are able to strike targets in unusual ways.\n\n{b}Prerequisites:{/b} 1 or more Tempest Gale stances, Sleight of Hand 3 ranks\n\n{b}Benefit:{/b} While in this style, you can perform the following combat maneuvers with ranged weapons against any target within your first range increment: bull rush, dirty trick, disarm or trip.  Performing a combat maneuver this way is a standard action that provokes an attack of opportunity (unless you have the appropriate improved combat maneuver feat) and uses your Dexterity modifier in place of your Strength modifier on the CMB roll." compset="Feat" uniqueness="useronce">
    <usesource source="srcPOWEx"/>
    <tag group="fCategory" tag="Style"/>
    <tag group="Helper" tag="ShowSpec"/>
    <tag group="SpecType" tag="Attack"/>
    <tag group="fCategory" tag="Combat"/>
    <tag group="ProductId" tag="HLCommunit"/>
    <tag group="abAction" tag="None"/>
    <exprreq message="Sleight of Hand 3+ ranks required"><![CDATA[#skillranks[skSleight] >= 3]]></exprreq>
    <exprreq message="Must know one or more Tempest Gale stances"><![CDATA[hero.tagcount[HasStance.TmpGale] > 0]]></exprreq>
    </thing>
  <thing id="fPWTGHaze" name="Tempest Gale Haze" description="While in Tempest Gale style, ranged attacks made against you suffer a 20% miss chance." compset="Feat" uniqueness="useronce">
    <usesource source="srcPOWEx"/>
    <tag group="Helper" tag="ShowSpec"/>
    <tag group="fCategory" tag="Combat"/>
    <tag group="ProductId" tag="HLCommunit"/>
    <tag group="abAction" tag="None"/>
    <tag group="SpecType" tag="Defense"/>
    <pickreq thing="fPWTGStyle"/>
    <exprreq message="Sleight of Hand 7+ ranks required"><![CDATA[#skillranks[skSleight] >= 7]]></exprreq>
    </thing>
  <thing id="fPWTGStorm" name="Tempest Gale Storm" description="You can fire off precisely aimed shots at rapid pace\n\n{b}Prerequisites:{/b} Tempest Gale Haze, Sleight of Hand 11 ranks\n\n{b}Benefit:{/b} While in Tempest Gale Style, you can spend a standard action to make two different combat maneuver checks with ranged weapons from the following list against any target within your first range increment: bull rush, dirty trick, disarm or trip.  Performing these combat maneuvers this way is a standard action that provokes an attack of opportunity (unless you have the appropriate improved combat maneuver feat) and uses your Dexterity modifier in place of your Strength modifier on the CMB roll." compset="Feat" uniqueness="useronce">
    <usesource source="srcPOWEx"/>
    <tag group="Helper" tag="ShowSpec"/>
    <tag group="SpecType" tag="Attack"/>
    <tag group="fCategory" tag="Combat"/>
    <tag group="ProductId" tag="HLCommunit"/>
    <tag group="abAction" tag="Standard"/>
    <pickreq thing="fPWTGHaze"/>
    <exprreq message="Sleight of Hand 11+ ranks required"><![CDATA[#skillranks[skSleight] >= 11]]></exprreq>
    </thing>
  <thing id="fPWTDStyle" name="Thrashing Dragon Style" description="Your skill with two weapons makes you as dangerous as foes who wield one larger weapon.\n\n{b}Prerequisites:{/b} 1 or more Thrashing Dragon Stances, Acrobatics 3 ranks\n\n{b}Benefit:{/b} When you make a standard attack against an opponent, you can make an additional attack with your off hand weapon.  If you do so, all attacks you make this round take the normal penalties for two weapon fighting." compset="Feat" uniqueness="useronce">
    <usesource source="srcPOWEx"/>
    <tag group="fCategory" tag="Style"/>
    <tag group="Helper" tag="ShowSpec"/>
    <tag group="SpecType" tag="Attack"/>
    <tag group="fCategory" tag="Combat"/>
    <tag group="ProductId" tag="HLCommunit"/>
    <exprreq message="Must know one or more Thrashing Dragon stances"><![CDATA[hero.tagcount[HasStance.ThrashDrag] > 0]]></exprreq>
    <exprreq message="Acrobatics 3+ ranks required"><![CDATA[#skillranks[skAcrobat] >= 3]]></exprreq>
    </thing>
  <thing id="fPWTDPounc" name="Thrashing Dragon Pounce" description="Your swift movements allow you to close the gap and strike quickly against your foe.\n\n{b}Prerequisites:{/b} Thrashing Dragon Style, Acrobatics 7 ranks\n\n{b}Benefit:{/b} Whenever you an initiate a strike that allows you to make a only single melee attack, you can make an extra attack with your offhand weapon at your highest base attack bonus as a free action.  If you do so, your attacks take two weapon fighting penalties as normal for fighting with two weapons." compset="Feat" uniqueness="useronce">
    <usesource source="srcPOWEx"/>
    <tag group="Helper" tag="ShowSpec"/>
    <tag group="SpecType" tag="Attack"/>
    <tag group="fCategory" tag="Combat"/>
    <tag group="ProductId" tag="HLCommunit"/>
    <pickreq thing="fPWTDStyle"/>
    <exprreq message="Acrobatics 7+ ranks required"><![CDATA[#skillranks[skAcrobat] >= 7]]></exprreq>
    </thing>
  <thing id="fPWTDWhirl" name="Thrashing Dragon Whirlwind" description="Your fury strikes out at all enemies around you.\n\n{b}Prerequisites:{/b} Thrashing Dragon Pounce, Acrobatics 11 ranks\n\n{b}Benefit:{/b} As a full round action, you can make a single attack each against every enemy within melee range with a weapon your main hand and a weapon in your off hand. You do not take the normal penalties for fighting with two weapons while making these attacks.\n\n{b}Special:{/b} If you have more than two arms, you can use each of your off hands to make an attack, instead of just the one." compset="Feat" uniqueness="useronce">
    <usesource source="srcPOWEx"/>
    <tag group="Helper" tag="ShowSpec"/>
    <tag group="SpecType" tag="Attack"/>
    <tag group="fCategory" tag="Combat"/>
    <tag group="ProductId" tag="HLCommunit"/>
    <pickreq thing="fPWTDPounc"/>
    <exprreq message="Acrobatics 11+ ranks required"><![CDATA[#skillranks[skAcrobat] >= 11]]></exprreq>
    </thing>
  <thing id="fPWVMStyle" name="Veiled Moon Style" description="Your nights training in shadow have taught you to conceal your form when you attack.\n\n{b}Prerequisites:{/b} 1 or more Veiled Moon Stances,  Stealth 3 ranks\n\n{b}Benefit:{/b} You must declare that you are using this feat before you make your attack roll (thus, a failed attack roll ruins the attempt). If you succeed on your next melee attack, your opponent treats you as having total concealment for 1 round. You can use this ability only once per round." compset="Feat" uniqueness="useronce">
    <fieldval field="abValue" value="-1"/>
    <usesource source="srcPOWEx"/>
    <tag group="fCategory" tag="Style"/>
    <tag group="Helper" tag="ShowSpec"/>
    <tag group="SpecType" tag="Attack"/>
    <tag group="fCategory" tag="Combat"/>
    <tag group="ProductId" tag="HLCommunit"/>
    <exprreq message="Must know one or more Veiled Moon stances"><![CDATA[hero.tagcount[HasStance.VeiledMoon] > 0]]></exprreq>
    <exprreq message="Stealth 3+ ranks required"><![CDATA[#skillranks[skStealth] >= 3]]></exprreq>
    </thing>
  <thing id="fPWVMStep" name="Veiled Moon Step" description="As you move, your form flickers in and out of sight, appearing far away.\n\n{b}Prerequisites:{/b} Veiled Moon Style, Stealth 7 ranks\n\n{b}Benefit:{/b} You may expend one of your readied boosts as a swift action. If you do, increase your base land speed by 10 ft. until the beginning of your next turn, and you may teleport a number of feet equal to your base land speed as a move action this turn." compset="Feat" uniqueness="useronce">
    <fieldval field="abValue" value="10"/>
    <usesource source="srcPOWEx"/>
    <tag group="Helper" tag="ShowSpec"/>
    <tag group="SpecType" tag="Attack"/>
    <tag group="fCategory" tag="Combat"/>
    <tag group="ProductId" tag="HLCommunit"/>
    <tag group="abAction" tag="Swift"/>
    <tag group="User" tag="Activation"/>
    <eval phase="PostAttr" priority="10000"><![CDATA[      ~ If we're disabled, do nothing
      doneif (tagis[Helper.FtDisable] <> 0)

      ~ Stop now if we're not activated
      doneif (field[abilActive].value <> 1)

      ~ Increase speed
      hero.child[Speed].field[Bonus].value += field[abValue].value]]></eval>
    <pickreq thing="fPWVMStyle"/>
    <exprreq message="Stealth 7+ ranks required"><![CDATA[#skillranks[skStealth] >= 7]]></exprreq>
    </thing>
  <thing id="fPWVMWarp" name="Veiled Moon Warp" description="Your strikes can force an enemy into the aether for a short time\n\n{b}Prerequisites:{/b} Veiled Moon Step, Stealth 15 ranks\n\n{b}Benefit:{/b} As a standard action, you may expend one of your readied strikes and make a melee attack against an opponent. If it hits, deal weapon damage as normal and your victim must succeed at a Will save (DC 10 + 1/2 your character level + your initiation modifier) or become incorporeal for 1 round. Your victim&apos;s equipment does not become incorporeal, though it remains on their body, effectively rendering them incapable of using any items that do not have the ghost touch property or an equivalent effect." compset="Feat" uniqueness="useronce">
    <fieldval field="abValue" value="10"/>
    <usesource source="srcPOWEx"/>
    <tag group="Helper" tag="ShowSpec"/>
    <tag group="SpecType" tag="Attack"/>
    <tag group="fCategory" tag="Combat"/>
    <tag group="ProductId" tag="HLCommunit"/>
    <tag group="abAction" tag="Swift"/>
    <tag group="User" tag="Activation"/>
    <tag group="abSave" tag="WillNeg"/>
    <eval phase="PostAttr" priority="10000"><![CDATA[      ~ If we're disabled, do nothing
      doneif (tagis[Helper.FtDisable] <> 0)

      ~ Save DC is 10 + 1/2 level + chosen attribute mod
      doneif (field[usrChosen1].ischosen <> 1)
      field[abDC].value = 10
      field[abDC].value += round(herofield[tTotLevel].value/2,0,-1)
      field[abDC].value += field[usrChosen1].chosen.field[aModBonus].value]]></eval>
    <pickreq thing="fPWVMStep"/>
    <exprreq message="Stealth 15+ ranks required"><![CDATA[#skillranks[skStealth] >= 15]]></exprreq>
    </thing>
  <thing id="fPWRHStyle" name="Riven Hourglass Style" description="Your understanding of temporal nature can give you insight into your enemies movements\n\n{b}Prerequisites:{/b} 1 or more Riven Hourglass stances, Autohypnosis 5 ranks\n\n{b}Benefit:{/b} When you miss an attack, you can expend a readied boost maneuver as a swift action to immediately reroll the attack.  You must take the second result even if it is lower." compset="Feat" uniqueness="useronce">
    <usesource source="srcPOWEx"/>
    <tag group="Custom" tag="ActiveStyl"/>
    <tag group="fCategory" tag="Combat"/>
    <tag group="fCategory" tag="Style"/>
    <tag group="Helper" tag="ShowSpec"/>
    <tag group="abAction" tag="Swift"/>
    <tag group="SpecType" tag="Attack"/>
    <evalrule phase="Validation" priority="5000" message="Too many style feats active." summary="Too many style feats active."><![CDATA[validif (hero.tagcount[Custom.ActiveStyl] <= 1 + hero.tagcount[Custom.MaxActStyl])]]></evalrule>
    <exprreq message="Must know one or more Riven Hourglass stances"><![CDATA[hero.tagcount[HasStance.RivnHglass] > 0]]></exprreq>
    <exprreq message="Autohypnosis 5+ ranks required"><![CDATA[#skillranks[skPUAhypno] >= 5]]></exprreq>
    </thing>
  <thing id="fPWRHRewnd" name="Riven Hourglass Rewind" description="You are able to reverse the flow of temporality to recover from debilitating effects for a short time.\n\n{b}Prerequisites:{/b} Riven Hourglass Style, Autohypnosis 7 ranks\n\n{b}Benefit:{/b} You can expend a readied counter maneuver as an immediate action to suppress one ongoing condition affecting you for 1 minute (see conditions in Appendix 2 of the Core Rulebook). This does not allow you to suppress the dead, dying, helpless or unconscious conditions." compset="Feat" uniqueness="useronce">
    <usesource source="srcPOWEx"/>
    <tag group="Custom" tag="ActiveStyl"/>
    <tag group="fCategory" tag="Combat"/>
    <tag group="Helper" tag="ShowSpec"/>
    <tag group="abAction" tag="Swift"/>
    <tag group="SpecType" tag="Attack"/>
    <pickreq thing="fPWRHStyle"/>
    <exprreq message="Autohypnosis 7+ ranks required"><![CDATA[#skillranks[skPUAhypno] >= 7]]></exprreq>
    </thing>
  <thing id="fPWRHEtern" name="Riven Hourglass Eternity" description="Your grasp of time allows you to extend effects which benefit you.\n\n{b}Prerequisites:{/b} Riven Hourglass Rewind, Autohypnosis 11 ranks\n\n{b}Benefit:{/b} You can expend a readied Riven Hourglass Boost as a swift action to extend the duration of one spell, psionic power or boost currently affecting you by 1 round." compset="Feat" uniqueness="useronce">
    <usesource source="srcPOWEx"/>
    <tag group="Custom" tag="ActiveStyl"/>
    <tag group="fCategory" tag="Combat"/>
    <tag group="Helper" tag="ShowSpec"/>
    <tag group="abAction" tag="Swift"/>
    <tag group="SpecType" tag="Attack"/>
    <pickreq thing="fPWRHRewnd"/>
    <exprreq message="Autohypnosis 11+ ranks required"><![CDATA[#skillranks[skPUAhypno] >= 11]]></exprreq>
    </thing>
  <thing id="fPWMCStyle" name="Mithral Current Style" description="Even with your weapon still sheathed, your presence is enough to threaten enemies.\n\n{b}Prerequisites:{/b} 1 or more Mithral Current stances, Quick Draw, Perform (Dance) 3 ranks\n\n{b}Benefit:{/b} As long as you have a sheathed weapon on your person, you threaten all squares within your sheathed weapon’s normal reach and may make attacks of opportunity even if you are not currently wielding a weapon. You may draw a weapon as part of making an attack of opportunity; weapons drawn this way are sheathed after the attack is resolved." compset="Feat" uniqueness="useronce">
    <usesource source="srcPOWEx"/>
    <tag group="User" tag="Activation"/>
    <tag group="Custom" tag="ActiveStyl"/>
    <tag group="fCategory" tag="Style"/>
    <tag group="fCategory" tag="Combat"/>
    <tag group="Helper" tag="ShowSpec"/>
    <eval phase="PostLevel" priority="10000"><![CDATA[
      ~ If we're disabled, do nothing
      doneif (tagis[Helper.FtDisable] <> 0)

      ~if we're not active, we're done
      doneif (field[abilActive].value = 0)

      ~ Assign active style tag
      perform hero.assign[Custom.ActiveStyl]]]></eval>
    <evalrule phase="Validation" priority="5000" message="Too many style feats active." summary="Too many style feats active."><![CDATA[validif (hero.tagcount[Custom.ActiveStyl] <= 1 + hero.tagcount[Custom.MaxActStyl])]]></evalrule>
    <pickreq thing="fQuickDraw"/>
    <exprreq message="Perform (Dance) 3+ ranks required"><![CDATA[#skillranks[skPerfDanc] >= 3]]></exprreq>
    <exprreq message="Must know one or more Mithral Current stances"><![CDATA[hero.tagcount[HasStance.MithCurr] > 0]]></exprreq>
    </thing>
  <thing id="fPWMCFlow" name="Mithral Current Flow" description="The heightened senses of your bloodlust are at their greatest just before you draw your weapon.\n\n{b}Prerequisites:{/b} Mithral Current Style, Perform (Dance) 7 ranks\n\n{b}Benefit:{/b} Whenever an opponent misses an attack against you, you can move up to 10 feet without provoking attacks of opportunity as a free action, even if it isn’t your turn." compset="Feat" uniqueness="useronce">
    <fieldval field="abValue" value="4"/>
    <usesource source="srcPOWEx"/>
    <tag group="Custom" tag="ActiveStyl"/>
    <tag group="fCategory" tag="Combat"/>
    <tag group="Helper" tag="ShowSpec"/>
    <tag group="User" tag="Activation"/>
    <eval phase="PostLevel" priority="10000"><![CDATA[
      ~ If we're disabled, do nothing
      doneif (tagis[Helper.FtDisable] <> 0)

      ~if we're not active, we're done
      doneif (field[abilActive].value = 0)

      ~ Add dodge bonus to AC
      hero.child[ArmorClass].field[tACDodge].value += field[abValue].value]]></eval>
    <pickreq thing="fPWMCStyle"/>
    <exprreq message="Perform (Dance) 7+ ranks required"><![CDATA[#skillranks[skPerfDanc] >= 7]]></exprreq>
    </thing>
  <thing id="fPWMCSlice" name="Mithral Current Slice" description="Drawing your weapon from its sheath as you strike allows you to hit harder and faster.\n\n{b}Prerequisites:{/b} Mithral Current Style, Perform (Dance) 11 ranks\n\n{b}Benefit:{/b} Your first attack in a round in which you drew a weapon deals damage to your target as if they were vulnerable to silver." compset="Feat" uniqueness="useronce">
    <fieldval field="abValue" value="4"/>
    <usesource source="srcPOWEx"/>
    <tag group="fCategory" tag="Combat"/>
    <tag group="Helper" tag="ShowSpec"/>
    <tag group="Custom" tag="ActiveStyl"/>
    <pickreq thing="fPWMCStyle"/>
    <exprreq message="Perform (Dance) 11+ ranks required"><![CDATA[#skillranks[skPerfDanc] >= 11]]></exprreq>
    </thing>
  <thing id="fPWEGStyle" name="Eternal Guardian Style" description="Your combat maneuvers are empowered by psychic curses.\n\n{b}Prerequisites:{/b}1 or more Eternal Guardian Stances,  Intimidate 3 ranks\n\n{b}Benefit:{/b} Whenever you succeed on a CMB check against an opponent, they become cursed for 1 round." compset="Feat" uniqueness="useronce">
    <usesource source="srcPOWEx"/>
    <tag group="User" tag="Activation"/>
    <tag group="Custom" tag="ActiveStyl"/>
    <tag group="fCategory" tag="Style"/>
    <tag group="fCategory" tag="Combat"/>
    <tag group="Helper" tag="ShowSpec"/>
    <eval phase="PreLevel" priority="1000"><![CDATA[
      ~ If we're disabled, do nothing
      doneif (tagis[Helper.FtDisable] <> 0)

      ~if we're not active, we're done
      doneif (field[abilActive].value = 0)

      ~ Assign active style tag
      perform hero.assign[Custom.ActiveStyl]]]></eval>
    <evalrule phase="Validation" priority="5000" message="Too many style feats active." summary="Too many style feats active."><![CDATA[validif (hero.tagcount[Custom.ActiveStyl] <= 1 + hero.tagcount[Custom.MaxActStyl])]]></evalrule>
    <exprreq message="Must know one or more Eternal Guardian stances"><![CDATA[hero.tagcount[HasStance.EternGuard] > 0]]></exprreq>
    <exprreq message="Intimidate 3+ ranks required"><![CDATA[#skillranks[skIntim] >= 3]]></exprreq>
    </thing>
  <thing id="fPWEGOath" name="Eternal Guardian Oath" description="You target foes you have marked with a curse and further impair their ability to fight\n\n{b}Prerequisites:{/b} Eternal Guardian Style, Intimidate 7 ranks\n\n{b}Benefit:{/b} You can expend a readied counter maneuver as an immediate action to make a combat maneuver check against all cursed enemies in your threatened area." compset="Feat" uniqueness="useronce">
    <usesource source="srcPOWEx"/>
    <tag group="Custom" tag="ActiveStyl"/>
    <tag group="fCategory" tag="Combat"/>
    <tag group="Helper" tag="ShowSpec"/>
    <tag group="abAction" tag="Immediate"/>
    <pickreq thing="fPWEGStyle"/>
    <exprreq message="Intimidate 7+ ranks required"><![CDATA[#skillranks[skIntim] >= 7]]></exprreq>
    </thing>
  <thing id="fPWEGEndur" name="Eternal Guardian Endurance" description="You feed on the energy of fallen foes to renew your combat abilities.\n\n{b}Prerequisites:{/b} Eternal Guardian , Intimidate 11 ranks\n\n{b}Benefit:{/b} You can recover an expended maneuver as a free action whenever you reduce a cursed enemy to 0 hit points or fewer. You can only recover one expended maneuver per round this way." compset="Feat" uniqueness="useronce">
    <usesource source="srcPOWEx"/>
    <tag group="Custom" tag="ActiveStyl"/>
    <tag group="fCategory" tag="Combat"/>
    <tag group="Helper" tag="ShowSpec"/>
    <tag group="abAction" tag="Free"/>
    <pickreq thing="fPWEGOath"/>
    <exprreq message="Intimidate 11+ ranks required"><![CDATA[#skillranks[skIntim] >= 11]]></exprreq>
    </thing>
  <thing id="fPWEFStyle" name="Elemental Flux Style" description="Your understanding of Elemental Energies offers you defense as well as offense.\n\n{b}Prerequisites:{/b} 1 or more Elemental Flux stances, Spellcraft 3 ranks\n\n{b}Benefit:{/b} While this style is active, you gain Energy Resistance equal to ½ your level (min. 1).  This energy resistance is of the same type as your active energy type." compset="Feat" uniqueness="useronce">
    <fieldval field="abValue" value="2"/>
    <fieldval field="actName2" value="Target is cursed"/>
    <usesource source="srcPOWEx"/>
    <tag group="User" tag="Activation"/>
    <tag group="Custom" tag="ActiveStyl"/>
    <tag group="fCategory" tag="Style"/>
    <tag group="fCategory" tag="Combat"/>
    <tag group="Helper" tag="ShowSpec"/>
    <eval phase="Render" priority="20000" index="2"><![CDATA[      field[livename].text &= " (" & signed(field[abValue].value) & " bleed damage)"]]></eval>
    <eval phase="PostLevel" priority="10000"><![CDATA[
      ~ If we're disabled, do nothing
      doneif (tagis[Helper.FtDisable] <> 0)

      ~ Calculate additional bleed damage
      field[abValue].value += round(herofield[tTotLevel].value/4,0,-1) * 2

      ~if we're not active, we're done
      doneif (field[abilActive].value = 0)

      ~ Assign active style tag
      perform hero.assign[Custom.ActiveStyl]

      ~ If we have a cursed target, add bleed damage
      if (field[abilAct2].value <> 0) then
        foreach pick in hero from BaseWep 
          #extradamage[eachpick, signed(field[abValue].value) & " bleed", field[thingname].text]
        nexteach
      endif]]></eval>
    <evalrule phase="Validation" priority="5000" message="Too many style feats active." summary="Too many style feats active."><![CDATA[validif (hero.tagcount[Custom.ActiveStyl] <= 1 + hero.tagcount[Custom.MaxActStyl])]]></evalrule>
    <exprreq message="Spellcraft 3+ ranks required"><![CDATA[#skillranks[skSpellcr] >= 3]]></exprreq>
    <exprreq message="Must know one or more Elemental Flux stances"><![CDATA[hero.tagcount[HasStance.ElemFlux] > 0]]></exprreq>
    </thing>
  <thing id="fPWEFShift" name="Elemental Flux Shift" description="Your insight into Elements expands, allowing you to fuse disparate energies.\n\n{b}Prerequisites:{/b} Elemental Flux Style, Spellcraft 7 ranks\n\n{b}Benefit:{/b} You can spend a swift action to alter the damage of your elemental attacks, dealing ½ damage of your normal Active Energy and ½ damage from a second energy type of your choice." compset="Feat" uniqueness="useronce">
    <usesource source="srcPOWEx"/>
    <tag group="User" tag="Activation"/>
    <tag group="Custom" tag="ActiveStyl"/>
    <tag group="fCategory" tag="Style"/>
    <tag group="fCategory" tag="Combat"/>
    <tag group="Helper" tag="ShowSpec"/>
    <exprreq message="Spellcraft 7+ ranks required"><![CDATA[#skillranks[skSpellcr] >= 7]]></exprreq>
    </thing>
  <thing id="fPWEFExpl" name="Elemental Flux Explosion" description="Your strikes explode with elemental ferocity.\n\n{b}Prerequisites:{/b} Elemental Flux Shift, Spellcraft 11 ranks\n\n{b}Benefit:{/b} Your weapons are enchanted with elemental burst.  The type of burst is determined by your active energy type (i.e. flaming burst if your active type is fire)." compset="Feat" uniqueness="useronce">
    <usesource source="srcPOWEx"/>
    <tag group="User" tag="Activation"/>
    <tag group="Custom" tag="ActiveStyl"/>
    <tag group="fCategory" tag="Combat"/>
    <tag group="Helper" tag="ShowSpec"/>
    <exprreq message="Spellcraft 11+ ranks required"><![CDATA[#skillranks[skSpellcr] >= 11]]></exprreq>
    </thing>
  <thing id="fPWChrgTri" name="Charge of Triumph" description="{b}Prerequisites:{/b} Collective class feature, Psionic Charge\n\n{b}Benefit:{/b} Creatures in your collective can charge through squares containing other creatures in your collective. In addition, whenever you expend psionic focus to use your Psionic Charge feat, your allies gain the benefit on a single charge made before the beginning of your next turn." compset="Feat" summary="Collective members can charge through each other&apos;s squares" uniqueness="useronce">
    <usesource source="srcPOWEx"/>
    <tag group="fCategory" tag="Combat"/>
    <tag group="fCategory" tag="Psionic"/>
    <tag group="abAction" tag="PUExpFocus"/>
    <tag group="ProductId" tag="HLCommunit"/>
    <tag group="Helper" tag="ShowSpec"/>
    <pickreq thing="fPUPsiChrg"/>
    </thing>
  <thing id="fPWXtraCon" name="Extra Conviction" description="{b}Prerequisite:{/b} Conviction class feature\n\n{b}Benefit:{/b} Choose a conviction that you qualify for. You gain the benefit of that conviction.\n\n{b}Special:{/b} You can choose this feat more than once. Each time you take it, you choose a conviction you qualify for and gain its benefit." compset="Feat" summary="Gain an extra conviction" uniqueness="useronce">
    <usesource source="srcPOWEx"/>
    <tag group="ProductId" tag="HLCommunit"/>
    <eval phase="PostLevel" priority="10000"><![CDATA[      ~ If we're disabled, do nothing
      doneif (tagis[Helper.FtDisable] <> 0)

      hero.childfound[cHelpPW5].field[cGiveSpec].value += 1]]></eval>
    <exprreq message="Zealot level 2 required"><![CDATA[hero.tagcount[ClsCountAs.cHelpPW5] >= 2]]></exprreq>
    </thing>
  <thing id="fPWHigtMan" name="Heighten Maneuver" description="{b}Prerequisites:{/b} Able to initiate a 2nd level maneuver, must have a power point pool\n\n{b}Benefit:{/b} You can infuse your maneuvers with psionic power, making them difficult to resist. Your maneuvers gain the following augment:\n\n• For every 2 power points you spend, your maneuver’s effective level increases by 1. All effects dependent on maneuver level (such as saving throw DCs) are calculated according to the heightened level. You cannot increase a maneuver’s level beyond your highest maneuver level known." compset="Feat" summary="Spend PP to increase the effective level of a maneuver" uniqueness="useronce">
    <tag group="Helper" tag="ShowSpec"/>
    <tag group="fCategory" tag="Combat"/>
    <tag group="fCategory" tag="Psionic"/>
    <prereq message="Must be able to initiate 2nd-level maneuvers">
      <validate><![CDATA[      ~ It takes an IL of 3 to initiate 2nd-level maneuvers
      foreach pick in hero from PWManList
          validif (eachpick.field[cIL].value >= 3)
      nexteach]]></validate>
      </prereq>
    <prereq message="Must have a power point pool">
      <validate><![CDATA[validif (hero.childfound[resPowerPt].field[resMax].value >= 1)]]></validate>
      </prereq>
    </thing>
  <thing id="fPWObsPath" name="Obscured Path" description="{b}Prerequisites:{/b} Cloak Dance feat, Path of Dedication conviction\n\n{b}Benefit:{/b} Whenever you use your Path of Dedication or Improved Path of Dedication abilities, all affected allies gain 20% concealment until the beginning of your next turn." compset="Feat" uniqueness="useronce">
    <usesource source="srcPOWEx"/>
    <tag group="fCategory" tag="Psionic"/>
    <tag group="Helper" tag="ShowSpec"/>
    <tag group="ProductId" tag="HLCommunit"/>
    <pickreq thing="fPUClkDnce"/>
    <pickreq thing="cPW5PthDed"/>
    </thing>
  <thing id="fPWUnhWay" name="Unhindered Way" description="{b}Prerequisites:{/b} Collective class feature, Speed of Thought, medium armor proficiency\n\n{b}Benefit:{/b} Your speed is no longer reduced by medium or heavy armor, and you gain the benefit of your Speed of Thought feat while wearing heavy armor. In addition, as long as you maintain psionic focus, allies in your collective gain a +10 ft. insight bonus to their base movement speeds." compset="Feat" uniqueness="useronce">
    <fieldval field="abValue" value="10"/>
    <usesource source="srcPOWEx"/>
    <tag group="Helper" tag="ShowSpec"/>
    <tag group="ProductId" tag="HLCommunit"/>
    <tag group="abAction" tag="PUManFocus"/>
    <tag group="fCategory" tag="Psionic"/>
    <eval phase="PreLevel" priority="10000"><![CDATA[      ~ If we're disabled, do nothing
      doneif (tagis[Helper.FtDisable] <> 0)

      ~ Remove ArmorCateg.Slows from medium/heavy armor
      foreach pick in hero from BaseArmor where "ArmorClass.Medium | ArmorClass.Heavy"
        perform eachpick.delete[ArmorCateg.Slows]
      nexteach

      ~ Stop now if we're not psi-focused
      var v_focus as number
      call PUPsiFocus
      doneif (v_focus = 0)

      ~ Add insight bonus to speed
      #applybonus[BonInsight, hero.child[Speed], field[abValue].value]]]></eval>
    <pickreq thing="fPUSpdThgt"/>
    <exprreq message="Collective ability required"><![CDATA[(#hasability[cPUCollect] + #hasability[cPUTacColl] + #hasability[cPUVitColl] + #hasability[cPW5Collec]) <> 0]]></exprreq>
    <exprreq message="Must be proficient with medium armor"><![CDATA[hero.tagis[Ability.fArmMedium] <> 0]]></exprreq>
    </thing>
  </document>
