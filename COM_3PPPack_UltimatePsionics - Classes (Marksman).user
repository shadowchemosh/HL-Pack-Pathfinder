<?xml version="1.0" encoding="UTF-8"?>
<document signature="Hero Lab Data">
<fileconstants thingidrequirement="PU">
  </fileconstants>
  <thing id="cHelpPU3" name="Marksman" compset="Class" uniqueness="unique">
    <fieldval field="cHDSides" value="10"/>
    <fieldval field="cAbbr" value="Mrk"/>
    <fieldval field="cSkills" value="4"/>
    <fieldval field="cSpecSing" value="Combat Style"/>
    <fieldval field="srcPageNum" value="44"/>
    <fieldval field="srcBookInf" value="Ultimate Psionics"/>
    <fieldval field="cSCRNumDce" value="5"/>
    <fieldval field="cSCRDceSiz" value="6"/>
    <fieldval field="cSCRMult" value="10"/>
    <arrayval field="cBonFtTot" index="16" value="5"/>
    <arrayval field="cBonFtTot" index="19" value="6"/>
    <arrayval field="cPsiPPTot" index="0" value="1"/>
    <arrayval field="cPsiPPTot" index="1" value="2"/>
    <arrayval field="cPsiPPTot" index="2" value="3"/>
    <arrayval field="cPsiPPTot" index="3" value="5"/>
    <arrayval field="cPsiPPTot" index="4" value="7"/>
    <arrayval field="cPsiPPTot" index="5" value="9"/>
    <arrayval field="cPsiPPTot" index="6" value="11"/>
    <arrayval field="cPsiPPTot" index="7" value="14"/>
    <arrayval field="cPsiPPTot" index="8" value="17"/>
    <arrayval field="cPsiPPTot" index="9" value="20"/>
    <arrayval field="cPsiPPTot" index="10" value="24"/>
    <arrayval field="cPsiPPTot" index="11" value="28"/>
    <arrayval field="cPsiPPTot" index="12" value="32"/>
    <arrayval field="cPsiPPTot" index="13" value="37"/>
    <arrayval field="cPsiPPTot" index="14" value="42"/>
    <arrayval field="cPsiPPTot" index="15" value="47"/>
    <arrayval field="cPsiPPTot" index="16" value="52"/>
    <arrayval field="cPsiPPTot" index="17" value="58"/>
    <arrayval field="cPsiPPTot" index="18" value="64"/>
    <arrayval field="cPsiPPTot" index="19" value="70"/>
    <arrayval field="cPsiPowTot" index="1" value="1"/>
    <arrayval field="cPsiPowTot" index="2" value="2"/>
    <arrayval field="cPsiPowTot" index="3" value="2"/>
    <arrayval field="cPsiPowTot" index="4" value="3"/>
    <arrayval field="cPsiPowTot" index="5" value="4"/>
    <arrayval field="cPsiPowTot" index="6" value="5"/>
    <arrayval field="cPsiPowTot" index="7" value="5"/>
    <arrayval field="cPsiPowTot" index="8" value="6"/>
    <arrayval field="cPsiPowTot" index="9" value="7"/>
    <arrayval field="cPsiPowTot" index="10" value="8"/>
    <arrayval field="cPsiPowTot" index="11" value="8"/>
    <arrayval field="cPsiPowTot" index="12" value="9"/>
    <arrayval field="cPsiPowTot" index="13" value="9"/>
    <arrayval field="cPsiPowTot" index="14" value="10"/>
    <arrayval field="cPsiPowTot" index="15" value="10"/>
    <arrayval field="cPsiPowTot" index="16" value="11"/>
    <arrayval field="cPsiPowTot" index="17" value="11"/>
    <arrayval field="cPsiPowTot" index="18" value="12"/>
    <arrayval field="cPsiPowTot" index="19" value="12"/>
    <arrayval field="cPsiLevTot" index="0" value="1"/>
    <arrayval field="cPsiLevTot" index="1" value="1"/>
    <arrayval field="cPsiLevTot" index="2" value="1"/>
    <arrayval field="cPsiLevTot" index="3" value="1"/>
    <arrayval field="cPsiLevTot" index="4" value="2"/>
    <arrayval field="cPsiLevTot" index="5" value="2"/>
    <arrayval field="cPsiLevTot" index="6" value="2"/>
    <arrayval field="cPsiLevTot" index="7" value="2"/>
    <arrayval field="cPsiLevTot" index="8" value="3"/>
    <arrayval field="cPsiLevTot" index="9" value="3"/>
    <arrayval field="cPsiLevTot" index="10" value="3"/>
    <arrayval field="cPsiLevTot" index="11" value="3"/>
    <arrayval field="cPsiLevTot" index="12" value="4"/>
    <arrayval field="cPsiLevTot" index="13" value="4"/>
    <arrayval field="cPsiLevTot" index="14" value="4"/>
    <arrayval field="cPsiLevTot" index="15" value="4"/>
    <arrayval field="cPsiLevTot" index="16" value="4"/>
    <arrayval field="cPsiLevTot" index="17" value="4"/>
    <arrayval field="cPsiLevTot" index="18" value="4"/>
    <arrayval field="cPsiLevTot" index="19" value="4"/>
    <arrayval field="cCustTot" index="0" value="1"/>
    <arrayval field="cBonFtTot" index="4" value="1"/>
    <arrayval field="cBonFtTot" index="7" value="2"/>
    <arrayval field="cBonFtTot" index="10" value="3"/>
    <arrayval field="cBonFtTot" index="13" value="4"/>
    <usesource source="pPsiUn"/>
    <tag group="Psionics" tag="Class"/>
    <tag group="fInclude" tag="fDeadAim"/>
    <tag group="fInclude" tag="fFarShot"/>
    <tag group="fInclude" tag="fPUFellSh"/>
    <tag group="fInclude" tag="fGrtCaShot"/>
    <tag group="fInclude" tag="fPUGPsiSht"/>
    <tag group="fInclude" tag="fImpCaShot"/>
    <tag group="fInclude" tag="fImpCrit"/>
    <tag group="ClassSkill" tag="skPercep"/>
    <tag group="fInclude" tag="fPUPsiShot"/>
    <tag group="fInclude" tag="fQuickDraw"/>
    <tag group="fInclude" tag="fPUReturnS"/>
    <tag group="fInclude" tag="fWepFoc"/>
    <tag group="fInclude" tag="fWepSpec"/>
    <tag group="ClassSkill" tag="skAcrobat"/>
    <tag group="cWill" tag="Medium"/>
    <tag group="Classes" tag="Marksman" name="Marksman"/>
    <tag group="cAttack" tag="Good"/>
    <tag group="cFort" tag="Poor"/>
    <tag group="cRef" tag="Medium"/>
    <tag group="ClassSkill" tag="Perform"/>
    <tag group="ClassSkill" tag="Craft"/>
    <tag group="fInclude" tag="fPartShot"/>
    <tag group="ClassSkill" tag="Profession"/>
    <tag group="ClassSkill" tag="skPUAhypno"/>
    <tag group="ClassSkill" tag="skClimb"/>
    <tag group="ClassSkill" tag="skEscape"/>
    <tag group="ClassSkill" tag="skIntim"/>
    <tag group="ClassSkill" tag="skPUKnwPsi"/>
    <tag group="ClassSkill" tag="skStealth"/>
    <tag group="ClassSkill" tag="skSenseMot"/>
    <tag group="ProductId" tag="HLCommunit"/>
    <tag group="WepProf" tag="wHandaxe"/>
    <tag group="ClassSkill" tag="skSurvival"/>
    <tag group="ClassSkill" tag="skUseMagic"/>
    <bootstrap thing="fArmLight"></bootstrap>
    <bootstrap thing="fSimple"></bootstrap>
    <bootstrap thing="fPWBuckPro"></bootstrap>
    <bootstrap thing="cPUMrkPBS">
      <autotag group="ClSpecWhen" tag="1"/>
      </bootstrap>
    <bootstrap thing="cPUMrkWnd">
      <autotag group="ClSpecWhen" tag="1"/>
      </bootstrap>
    <bootstrap thing="cPUEvArrow">
      <autotag group="ClSpecWhen" tag="2"/>
      </bootstrap>
    <bootstrap thing="cPU3FavWep">
      <autotag group="ClSpecWhen" tag="2"/>
      </bootstrap>
    <bootstrap thing="cPUCovFire">
      <autotag group="ClSpecWhen" tag="4"/>
      </bootstrap>
    <bootstrap thing="cPUEvArrow">
      <autotag group="ClSpecWhen" tag="6"/>
      </bootstrap>
    <bootstrap thing="cPU3FavWep">
      <autotag group="ClSpecWhen" tag="6"/>
      </bootstrap>
    <bootstrap thing="cPUDisenga">
      <autotag group="ClSpecWhen" tag="7"/>
      </bootstrap>
    <bootstrap thing="cPU3FavWep">
      <autotag group="ClSpecWhen" tag="10"/>
      </bootstrap>
    <bootstrap thing="cPUEvArrow">
      <autotag group="ClSpecWhen" tag="10"/>
      </bootstrap>
    <bootstrap thing="cPUEvArrow">
      <autotag group="ClSpecWhen" tag="14"/>
      </bootstrap>
    <bootstrap thing="cPU3FavWep">
      <autotag group="ClSpecWhen" tag="14"/>
      </bootstrap>
    <bootstrap thing="cPUDefShot">
      <autotag group="ClSpecWhen" tag="13"/>
      </bootstrap>
    <bootstrap thing="cPUEvArrow">
      <autotag group="ClSpecWhen" tag="18"/>
      </bootstrap>
    <bootstrap thing="cPU3FavWep">
      <autotag group="ClSpecWhen" tag="18"/>
      </bootstrap>
    <bootstrap thing="cPURangeSp">
      <autotag group="ClSpecWhen" tag="19"/>
      </bootstrap>
    <link linkage="psiattr" thing="aWIS"/>
    <eval phase="First" priority="600"><![CDATA[
      ~ A marksman is proficient with all simple weapons, all light, projectile,
      ~ and thrown martial weapons.
      foreach thing in BaseWep where "(wClass.Light & wProfReq.Martial) | (wProfReq.Martial & (wCategory.Thrown | wCategory.RangeProj) )"
        perform eachthing.pulltags[WepProf.?]
      nexteach

      ~ Push all the weapon proficiency weapon tags to the hero
      perform forward[WepProf.?]]]></eval>
    </thing>
  <thing id="cPUMarksma" name="Marksman" description="Masters of ranged weapons, marksmen are the elite wielders of any weapon that can be shot, fired, or thrown. Unlike rangers, who are more focused on tracking down their chosen enemies, marksmen focus their attention on harnessing their ranged combat abilities, learning to use their weapon in ways others could only dream of. Their psionic ability improves their attacks and augments their otherwise limited defensive abilities.\n\n{b}Role:{/b} As light armor wielders, marksmen are not intended to be front-line combatants. They excel when they have a safe distance from which to unleash their deadly attacks.\n\n{b}Alignment:{/b} Any." compset="ClassLevel" maxlimit="20">
    <usesource source="pPsiUn"/>
    <tag group="ClassType" tag="Normal"/>
    <tag group="ProductId" tag="HLCommunit"/>
    <bootstrap thing="cHelpPU3"></bootstrap>
    <link linkage="helper" thing="cHelpPU3"/>
    </thing>
  <thing id="cPUMrkFin" name="Combat Style (Finesse)" description="Finesse marksmen learn special techniques with ranged attacks that otherwise would find too difficult to perform. A finesse marksman is capable of knocking the weapon out of an opponentâ€™s hand with the flick of the wrist, or pinning a target to a door without drawing blood." compset="CustomSpec" uniqueness="unique">
    <fieldval field="shortname" value="Combat Style"/>
    <usesource source="pPsiUn"/>
    <tag group="abCategory" tag="PUMarkStyl"/>
    <tag group="SpecSource" tag="cHelpPU3"/>
    <tag group="ProductId" tag="HLCommunit"/>
    <bootstrap thing="cPUTechFin">
      <autotag group="ClSpecWhen" tag="2"/>
      </bootstrap>
    <bootstrap thing="cPUMantFin">
      <autotag group="ClSpecWhen" tag="3"/>
      </bootstrap>
    <bootstrap thing="cPUSkilFin">
      <autotag group="ClSpecWhen" tag="3"/>
      </bootstrap>
    <bootstrap thing="cPUFinDazA">
      <autotag group="ClSpecWhen" tag="4"/>
      </bootstrap>
    <bootstrap thing="cPUSkilFin">
      <autotag group="ClSpecWhen" tag="6"/>
      </bootstrap>
    <bootstrap thing="cPUMantFin">
      <autotag group="ClSpecWhen" tag="7"/>
      </bootstrap>
    <bootstrap thing="cPUFinInsA">
      <autotag group="ClSpecWhen" tag="8"/>
      </bootstrap>
    <bootstrap thing="cPUSkilFin">
      <autotag group="ClSpecWhen" tag="9"/>
      </bootstrap>
    <bootstrap thing="cPUMantFin">
      <autotag group="ClSpecWhen" tag="11"/>
      </bootstrap>
    <bootstrap thing="cPUFinTelA">
      <autotag group="ClSpecWhen" tag="12"/>
      </bootstrap>
    <bootstrap thing="cPUSkilFin">
      <autotag group="ClSpecWhen" tag="12"/>
      </bootstrap>
    <bootstrap thing="cPUMantFin">
      <autotag group="ClSpecWhen" tag="15"/>
      </bootstrap>
    <bootstrap thing="cPUSkilFin">
      <autotag group="ClSpecWhen" tag="15"/>
      </bootstrap>
    <bootstrap thing="cPUFinStuD">
      <autotag group="ClSpecWhen" tag="16"/>
      </bootstrap>
    <bootstrap thing="cPUSkilFin">
      <autotag group="ClSpecWhen" tag="18"/>
      </bootstrap>
    <bootstrap thing="cPUMantFin">
      <autotag group="ClSpecWhen" tag="19"/>
      </bootstrap>
    <bootstrap thing="cPUFinOubK">
      <autotag group="ClSpecWhen" tag="20"/>
      </bootstrap>
    <eval phase="PreLevel" index="2"><![CDATA[
      ~ if we've been disabled, get out now
      doneif (tagis[Helper.SpcDisable] <> 0)

      ~ Assign additional bonus feats that are allowed
      perform linkage[table].assign[fInclude.fShotRun]
      perform linkage[table].assign[fInclude.fThrowAny]
      perform linkage[table].assign[fInclude.fDisShot]]]></eval>
    </thing>
  <thing id="cPUSkilFin" name="Style Skill (Finesse)" description="At 3rd level, a finesse marksman gains a +1 bonus to Intimidate. This bonus increases by 1 every three marksman levels thereafter." compset="ClSpecial" summary="You gain a bonus to the Intimidate skill.">
    <tag group="ProductId" tag="HLCommunit"/>
    <eval phase="PostLevel" priority="10000"><![CDATA[
      ~ Set the list name
      field[listname].text = field[thingname].text & " " & signed(field[xIndex].value)

      ~ If we're not shown, just get out now
      doneif (tagis[Helper.ShowSpec] <> 1)
      ~ if we've been disabled, get out now
      doneif (tagis[Helper.SpcDisable] <> 0)

      field[abValue].value += field[xCount].value
      field[livename].text = field[thingname].text & " " & signed(field[abValue].value)

      ~ The following should only happen once on the first copy
      doneif (tagis[Helper.FirstCopy] = 0)

      #skillbonus[skIntim] += field[abValue].value]]></eval>
    </thing>
  <thing id="cPUMantFin" name="Style Mantra (Finesse)" description="Beginning at 3rd level, as long as a finesse marksman maintains psionic focus, she gains a +1 circumstance bonus on attack rolls made when she makes a ranged attack. At 7th level and every four marksman levels thereafter, this circumstance bonus increases by 1." compset="ClSpecial" summary="While psionically focused, you gain a bonus to attack rolls with ranged attacks.">
    <tag group="User" tag="Activation"/>
    <tag group="abAction" tag="PUManFocus"/>
    <tag group="ProductId" tag="HLCommunit"/>
    <eval phase="PostLevel" priority="10000"><![CDATA[
      ~ Set the list name
      field[listname].text = field[thingname].text & " " & signed(field[xIndex].value)

      ~ If we're not shown, just get out now
      doneif (tagis[Helper.ShowSpec] <> 1)
      ~ if we've been disabled, get out now
      doneif (tagis[Helper.SpcDisable] <> 0)

      field[abValue].value += field[xCount].value
      field[livename].text = field[thingname].text & " " & signed(field[abValue].value)

      ~ The following should only happen once on the first copy
      doneif (tagis[Helper.FirstCopy] = 0)

      var v_focus as number
      call PUPsiFocus
      ~ If Not psionically focused get out now
      doneif (v_focus <> 1)

      ~ Give compentence bonus to ranged attacks
      #applybonus[atrModCirc,hero.child[Attack],field[abValue].value]]]></eval>
    </thing>
  <thing id="cPUFinDazA" name="Dazzling Assault" description="A finesse marksman of 4th level is capable of charging her ranged or thrown weapon attacks with psychokinetic energy that gives off a brilliant burst of light on a successful hit. When this ability is activated, all of the marksmanâ€™s ranged or thrown weapon attacks for the round that successfully hit their target dazzle the target for one round. This ability may be used a number of times per day equal to 3 + the marksmanâ€™s Wisdom modifier." compset="ClSpecial" summary="Ranged attacks dazzel targets hit for one round.">
    <tag group="AbilType" tag="Super"/>
    <tag group="User" tag="Tracker"/>
    <tag group="Usage" tag="Day"/>
    <tag group="User" tag="Activation"/>
    <tag group="ChargeCalc" tag="AttrUses3"/>
    <tag group="ChargeAttr" tag="aWIS"/>
    <tag group="ProductId" tag="HLCommunit"/>
    </thing>
  <thing id="cPUFinTelA" name="Teleporting Attack" description="Upon achieving 12th level, a finesse marksman is capable of teleporting her ranged or thrown attacks to hit enemies from unexpected angles. By expending psionic focus as part of a ranged or thrown attack, the target is considered flat-footed for the attack. Should the target have uncanny dodge or improved uncanny dodge, treat the finesse marksmanâ€™s class level as her rogue level to determine if the target is treated as flat-footed." compset="ClSpecial" summary="Expend focus to make target flat-footed for an attack.">
    <tag group="AbilType" tag="Super"/>
    <tag group="Usage" tag="Day"/>
    <tag group="abAction" tag="PUExpFocus"/>
    <tag group="ProductId" tag="HLCommunit"/>
    </thing>
  <thing id="cPUFinStuD" name="Stunning Display" description="At 16th level, a finesse marksman is capable of putting on a truly captivating display of ranged combat mastery with her ranged or thrown weapons. As a standard action, all creatures within 30 ft. of the marksman are fascinated for a number of rounds equal to the marksmanâ€™s Wisdom modifier unless they make a successful Will saving throw (DC 10 + half marksman level + marksmanâ€™s Wisdom modifier). If something ends the effect prematurely, the creature is instead stunned for one round.\n\nThis ability does not affect mindless creatures. This ability may be used once every 10 minutes." compset="ClSpecial">
    <fieldval field="trkMax" value="1"/>
    <usesource source="pPsiUn"/>
    <tag group="Usage" tag="Minute10"/>
    <tag group="StandardDC" tag="aWIS"/>
    <tag group="AbilType" tag="Super"/>
    <tag group="abAction" tag="Standard"/>
    <tag group="abSave" tag="WillNeg"/>
    <tag group="ProductId" tag="HLCommunit"/>
    </thing>
  <thing id="cPUFinOubK" name="Oubliette of Knives" description="As a standard action, you can make a ranged attack with a ranged or thrown weapon, and redirect the attack at another target after every successful strike. Each additional attack made in this fashion uses your full base attack bonus. You may attack the same target multiple times with this technique, but only if another target is successfully attacked between strikes, and each individidual target may only be struck by a single use of oubliette of knives equal to your Wisdom modifier. All distance traveled by the thrown weapon or projectile counts against range increments.\n\nFor example, Bob the finesse marksman has a Wisdom of 20 and uses Oubliette of Knives to attack an orc at his full attack bonus. The attack is successful, so Bob redirects the attack to a nearby goblin. This second attack is successful, so Bob redirects the attack back to the orc, repeating this process until an attack fails, the weapon has gone its total range, or each target has been struck five times each.\n\nThis ability does not affect mindless creatures. This ability may be used once every 10 minutes." compset="ClSpecial">
    <fieldval field="trkMax" value="1"/>
    <tag group="Usage" tag="Minute10"/>
    <tag group="StandardDC" tag="aWIS"/>
    <tag group="AbilType" tag="Super"/>
    <tag group="abAction" tag="Standard"/>
    <tag group="ProductId" tag="HLCommunit"/>
    </thing>
  <thing id="cPUMrkSni" name="Combat Style (Sniper)" description="Marksmen of this style focus on taking a single shot and making the most of it. These are the marksmen who will use a single attack to change the entire course of the battle by eliminating the enemyâ€™s leader. Sometimes nicknamed assassins, these marksmen are not cruel, they simply find elegance in a single perfect shot placed\nat just the right point." compset="CustomSpec" uniqueness="unique">
    <fieldval field="shortname" value="Combat Style"/>
    <usesource source="pPsiUn"/>
    <tag group="abCategory" tag="PUMarkStyl"/>
    <tag group="SpecSource" tag="cHelpPU3"/>
    <tag group="ProductId" tag="HLCommunit"/>
    <bootstrap thing="cPUTechSni">
      <autotag group="ClSpecWhen" tag="2"/>
      </bootstrap>
    <bootstrap thing="cPUMantSni">
      <autotag group="ClSpecWhen" tag="3"/>
      </bootstrap>
    <bootstrap thing="cPUSniSecC">
      <autotag group="ClSpecWhen" tag="3"/>
      </bootstrap>
    <bootstrap thing="cPUSkilSni">
      <autotag group="ClSpecWhen" tag="3"/>
      </bootstrap>
    <bootstrap thing="cPUSkilSni">
      <autotag group="ClSpecWhen" tag="6"/>
      </bootstrap>
    <bootstrap thing="cPUSniAugS">
      <autotag group="ClSpecWhen" tag="8"/>
      </bootstrap>
    <bootstrap thing="cPUSkilSni">
      <autotag group="ClSpecWhen" tag="9"/>
      </bootstrap>
    <bootstrap thing="cPUSkilSni">
      <autotag group="ClSpecWhen" tag="12"/>
      </bootstrap>
    <bootstrap thing="cPUSniUnsF">
      <autotag group="ClSpecWhen" tag="12"/>
      </bootstrap>
    <bootstrap thing="cPUSkilSni">
      <autotag group="ClSpecWhen" tag="15"/>
      </bootstrap>
    <bootstrap thing="cPUSniCriM">
      <autotag group="ClSpecWhen" tag="16"/>
      </bootstrap>
    <bootstrap thing="cPUSkilSni">
      <autotag group="ClSpecWhen" tag="18"/>
      </bootstrap>
    <bootstrap thing="cPUSniEyeN">
      <autotag group="ClSpecWhen" tag="20"/>
      </bootstrap>
    <eval phase="PreLevel" index="2"><![CDATA[
      ~ if we've been disabled, get out now
      doneif (tagis[Helper.SpcDisable] <> 0)

      ~ Assign additional bonus feats that are allowed &
      perform linkage[table].assign[fInclude.fVitStr]
      perform linkage[table].assign[fInclude.fImpVitStr]
      perform linkage[table].assign[fInclude.fGrtVitStr]
      perform linkage[table].assign[fInclude.fImpPrec]
      perform linkage[table].assign[fInclude.fPinTarget]]]></eval>
    </thing>
  <thing id="cPUTechSni" name="Style Technique (Sniper)" description="Once a marksman has reached 2nd level, she may expend her psionic focus while making a single ranged attack to add her Wisdom modifier to the damage the attack deals. This ability may not be used as part of a full attack." compset="ClSpecial">
    <tag group="abAction" tag="PUExpFocus"/>
    <tag group="User" tag="Activation"/>
    <tag group="ProductId" tag="HLCommunit"/>
    <eval phase="PostAttr" priority="10000"><![CDATA[
      ~ If we're not shown, just get out now
      doneif (tagis[Helper.ShowSpec] <> 1)
      ~ if we've been disabled, get out now
      doneif (tagis[Helper.SpcDisable] <> 0)
      ~ If not activated get out now!
      doneif (field[abilActive].value = 0)

      ~ Set wisdom bonus
      field[abValue].value += #attrmod[aWIS]

      ~ Give bonus to ranged damage attacks
      hero.child[Attack].field[dmrBonus].value += field[abValue].value]]></eval>
    </thing>
  <thing id="cPUMantSni" name="Style Mantra (Sniper)" description="Beginning at 3rd level, as long as a sniper marksman maintains psionic focus, she gains a +2 competence bonus on damage rolls for attacks made with a ranged or thrown weapon. At 7th level and every four marksman levels thereafter, this bonus increases by 1." compset="ClSpecial" summary="While psionically focused, you gain a bonus to range damage.">
    <tag group="abAction" tag="PUManFocus"/>
    <tag group="ProductId" tag="HLCommunit"/>
    <eval phase="PostLevel" priority="10000"><![CDATA[
      ~ Set the list name
      field[listname].text = field[thingname].text & " " & signed(field[xIndex].value + 1)

      ~ If we're not shown, just get out now
      doneif (tagis[Helper.ShowSpec] <> 1)
      ~ if we've been disabled, get out now
      doneif (tagis[Helper.SpcDisable] <> 0)

      field[abValue].value += field[xCount].value + 1
      field[livename].text = field[thingname].text & " " & signed(field[abValue].value)

      ~ The following should only happen once on the first copy
      doneif (tagis[Helper.FirstCopy] = 0)

      var v_focus as number
      call PUPsiFocus
      ~ If Not psionically focused get out now
      doneif (v_focus <> 1)

      ~ Give competence bonus to ranged damage attacks
      #applybonus[dmrBonComp,hero.child[Attack],field[abValue].value]]]></eval>
    </thing>
  <thing id="cPUSkilSni" name="Style Skill (Sniper)" description="At 3rd level, a sniper marksman gains a +1 bonus to Stealth. This bonus increases by 1 every three marksman levels thereafter." compset="ClSpecial" summary="You gain a bonus to the Stealth skill.">
    <tag group="ProductId" tag="HLCommunit"/>
    <eval phase="PostLevel" priority="10000"><![CDATA[
      ~ Set the list name
      field[listname].text = field[thingname].text & " " & signed(field[xIndex].value)

      ~ If we're not shown, just get out now
      doneif (tagis[Helper.ShowSpec] <> 1)
      ~ if we've been disabled, get out now
      doneif (tagis[Helper.SpcDisable] <> 0)

      field[abValue].value += field[xCount].value
      field[livename].text = field[thingname].text & " " & signed(field[abValue].value)

      ~ The following should only happen once on the first copy
      doneif (tagis[Helper.FirstCopy] = 0)

      #skillbonus[skStealth] += field[abValue].value]]></eval>
    </thing>
  <thing id="cPUSniSecC" name="Second Chance" description="A sniper marksman of 4th level may expend her psionic focus when a ranged attack she has made misses to reroll the attack. This ability can be used a number of times per day equal to 3 + the marksman’s Wisdom modifier." compset="ClSpecial">
    <tag group="AbilType" tag="Super"/>
    <tag group="Usage" tag="Day"/>
    <tag group="ChargeAttr" tag="aWIS"/>
    <tag group="ChargeCalc" tag="AttrUses3"/>
    <tag group="abAction" tag="PUExpFocus"/>
    <tag group="ProductId" tag="HLCommunit"/>
    </thing>
  <thing id="cPUSniAugS" name="Augmented Shot" description="As part of a single attack with a ranged or thrown weapon, a sniper marksman of at least 8th level can expend her psionic focus, causing the attack to deal augmented damage. Increase the base damage of the attack by one die. Unlike normal bonus damage, this increases the actual weapon damage (much like your Strength modifier on a melee attack), and is thus multiplied in the case of a critical hit. With feats such as Vital Strike, this increased base damage is used to determine the bonus damage on the attack. For example, if wielding a medium-sized light crossbow, add 1d8 damage. Every six marksman levels thereafter, increase the weapon damage by an additional die. This ability may not be used as part of a full attack." compset="ClSpecial">
    <tag group="User" tag="Activation"/>
    <tag group="AbilType" tag="Super"/>
    <tag group="abAction" tag="PUExpFocus"/>
    <tag group="ProductId" tag="HLCommunit"/>
    <eval phase="Final" priority="20000"><![CDATA[
      ~ Set the list name
      field[listname].text = field[thingname].text & " (" & signed(field[xIndex].value) & " die)"

      ~ If we're not shown, just get out now
      doneif (tagis[Helper.ShowSpec] <> 1)
      ~ if we've been disabled, get out now
      doneif (tagis[Helper.SpcDisable] <> 0)

      field[abValue].value += field[xCount].value
      field[livename].text = field[thingname].text & " (" & signed(field[abValue].value) & " die)"

      ~ The following should only happen once on the first copy
      doneif (tagis[Helper.FirstCopy] = 0)
      ~ If not active get out now!
      doneif (field[abilActive].value = 0)
      var v_focus as number
      call PUPsiFocus
      ~ If psionically focused get out now!
      doneif (v_focus = 1)

      ~ Find all ranged thrown & projectile weapons
      foreach pick in hero from AttDam where "!IsWeapon.wBlast & wCategory.Range? & !Helper.NatAttSpec & !Helper.SingleRAtt"
        eachpick.field[wRMainDNum].value += field[abValue].value
      nexteach]]></eval>
    </thing>
  <thing id="cPUSniCriM" name="Critical Master" description="Once a sniper marksman has reached 16th level, her critical threat range with her favored weapons are doubled and she gains a competence bonus equal to her Wisdom modifier on rolls to confirm critical hits. This ability does not stack with the Improved Critical feat or keen weapons; instead, the critical threat range is only increased by 1." compset="ClSpecial">
    <tag group="Usage" tag="Day"/>
    <tag group="AbilType" tag="Extra"/>
    <tag group="ProductId" tag="HLCommunit"/>
    <eval phase="Final" priority="50000"><![CDATA[
      ~ If we're not shown, just get out now
      doneif (tagis[Helper.ShowSpec] <> 1)
      ~ if we've been disabled, get out now
      doneif (tagis[Helper.SpcDisable] <> 0)

      ~ The following should only happen once on the first copy
      doneif (tagis[Helper.FirstCopy] = 0)

      ~ Wisdom bonus to critical confirmation
      field[abValue].value += #attrmod[aWIS]

      var ImpCrit as number
      var sCrit as String
      var nCrit as number

      ~ Find all weapons of the classes fighter group
      foreach pick in hero from BaseWep where root.linkage[table].tagids[wFtrGroup.?,"|"]
        #situational[eachpick,signed(field[abValue].value) & " competence bonus to confirm critical hits",field[thingname].text]

        ~ Save if we have improved critical or keen tags
        ImpCrit = eachpick.tagis[Broadcast.ImpCrit] + eachpick.tagis[Helper.Keen]

        ~ Remove improved critical & keen tags
        perform eachpick.delete[Broadcast.ImpCrit]
        perform eachpick.delete[Helper.Keen]

        ~ Calcaulate the crit range minimum value of 1
        nCrit = maximum(20 - eachpick.tagvalue[wCritMin.?],1)

        ~ Double the threat range
        nCrit *= 2

        ~ This is here to make the math work correctly!
        nCrit += 1

        ~ If we had Improved Critical or Keen increase the
        ~ threat range by 1.
        If (ImpCrit <> 0) Then
          nCrit += 1
        Endif

        ~ Set the critical threat range
        nCrit = 20 - nCrit

        ~ Create the Crit string value
        sCrit = "wCritMin." & nCrit

        ~ Assign the string to the weapon
        perform eachpick.delete[wCritMin.?]
        perform eachpick.assignstr[sCrit]
      nexteach]]></eval>
    </thing>
  <thing id="cPUSniUnsF" name="Unstoppable Force" description="Upon achieving 12th level, if a sniper marksman’s ranged attack would deal enough damage to a target to kill the target or knock it unconscious, the marksman may choose to have the bolt continue on a straight line through the target’s location until it hits another target, at which point the marksman makes a second attack roll at the same bonus as the previous attack -4. If this attack roll is successful, the target takes damage as if struck by the attack (although bonus damage that would not be multiplied on a critical hit only applies to the first target). This process repeats until a target is not killed or knocked unconscious, an attack roll misses, or the attack reaches its maximum range." compset="ClSpecial">
    <tag group="AbilType" tag="Extra"/>
    </thing>
  <thing id="cPUSniEyeN" name="Through the Eye of the Needle" description="As a standard action, you carefully focus your shot on your enemy and make a single ranged attack against that enemy. If your attack is successful, the target takes an additional 5d6 points of damage and gains one of the following penalties, your choice, until they are fully healed (at full hit points):\n\nâ€¢ Ability damage equal to your Wisdom modifier to any one stat\nâ€¢ -4 to all attacks and damage rolls\nâ€¢ Blinded\nâ€¢ Deafened\nâ€¢ Staggered\nâ€¢ Shaken and slowed\n\nA successful Fortitude save (DC 20 + the marksmanâ€™s Wisdom modifier) negates the chosen penalty, but does not negate the damage taken." compset="ClSpecial">
    <fieldval field="abValue" value="5"/>
    <fieldval field="abValue2" value="6"/>
    <tag group="LvNamePar" tag="DieCntVal"/>
    <tag group="LvNamePar" tag="DieSizVal2"/>
    <tag group="abAction" tag="Standard"/>
    <tag group="StandardDC" tag="aWIS"/>
    <tag group="abSave" tag="FortPart"/>
    <tag group="ProductId" tag="HLCommunit"/>
    </thing>
  <thing id="cPUMrkVol" name="Combat Style (Volley)" description="Volley marksmen are all about sending out as many projectiles as possible. These marksmen are great at hitting multiple targets, turning an opponent into a pincushion, or drawing a bow with such rapid rate of fire as to seem faster than the eye can see." compset="CustomSpec" uniqueness="unique">
    <fieldval field="shortname" value="Combat Style"/>
    <usesource source="pPsiUn"/>
    <tag group="abCategory" tag="PUMarkStyl"/>
    <tag group="SpecSource" tag="cHelpPU3"/>
    <tag group="ProductId" tag="HLCommunit"/>
    <bootstrap thing="cPUTechVol">
      <autotag group="ClSpecWhen" tag="2"/>
      </bootstrap>
    <bootstrap thing="cPUSkilVol">
      <autotag group="ClSpecWhen" tag="3"/>
      </bootstrap>
    <bootstrap thing="cPUMantVol">
      <autotag group="ClSpecWhen" tag="3"/>
      </bootstrap>
    <bootstrap thing="cPUVolSplS">
      <autotag group="ClSpecWhen" tag="3"/>
      </bootstrap>
    <bootstrap thing="cPUSkilVol">
      <autotag group="ClSpecWhen" tag="6"/>
      </bootstrap>
    <bootstrap thing="cPUVolQuiV">
      <autotag group="ClSpecWhen" tag="8"/>
      </bootstrap>
    <bootstrap thing="cPUSkilVol">
      <autotag group="ClSpecWhen" tag="9"/>
      </bootstrap>
    <bootstrap thing="cPUSkilVol">
      <autotag group="ClSpecWhen" tag="12"/>
      </bootstrap>
    <bootstrap thing="cPUVolBurA">
      <autotag group="ClSpecWhen" tag="14"/>
      </bootstrap>
    <bootstrap thing="cPUVolBurA">
      <autotag group="ClSpecWhen" tag="16"/>
      </bootstrap>
    <bootstrap thing="cPUVolVisV">
      <autotag group="ClSpecWhen" tag="16"/>
      </bootstrap>
    <bootstrap thing="cPUVolBurA">
      <autotag group="ClSpecWhen" tag="18"/>
      </bootstrap>
    <bootstrap thing="cPUVolBurA">
      <autotag group="ClSpecWhen" tag="20"/>
      </bootstrap>
    <bootstrap thing="cPUSkilVol">
      <autotag group="ClSpecWhen" tag="15"/>
      </bootstrap>
    <bootstrap thing="cPUSkilVol">
      <autotag group="ClSpecWhen" tag="18"/>
      </bootstrap>
    <bootstrap thing="cPUVolBloS">
      <autotag group="ClSpecWhen" tag="20"/>
      </bootstrap>
    <eval phase="PreLevel" index="2"><![CDATA[
      ~ if we've been disabled, get out now
      doneif (tagis[Helper.SpcDisable] <> 0)

      ~ Assign additional bonus feats that are allowed
      perform linkage[table].assign[fInclude.fPFCrossbo]
      perform linkage[table].assign[fInclude.fManyshot]
      perform linkage[table].assign[fInclude.fRapidRel]
      perform linkage[table].assign[fInclude.fRapidShot]]]></eval>
    </thing>
  <thing id="cPUTechVol" name="Style Technique (Volley)" description="Once a marksman has reached 2nd level, she may expend her psionic focus while making a full attack with a ranged or thrown weapon to gain one additional attack. This extra attack does not stack with other effects that grant additional attacks such as haste, physical acceleration, or the speed weapon special ability. Beginning at 15th level, this technique does stack with additional attacks such as those from haste, physical acceleration, or the speed weapon special ability." compset="ClSpecial">
    <tag group="abAction" tag="PUExpFocus"/>
    <tag group="ProductId" tag="HLCommunit"/>
    <eval phase="Final" priority="9500"><![CDATA[
      ~ If we're not shown, just get out now
      doneif (tagis[Helper.ShowSpec] <> 1)
      ~ if we've been disabled, get out now
      doneif (tagis[Helper.SpcDisable] <> 0)

      ~ The following should only happen once on the first copy
      doneif (tagis[Helper.FirstCopy] = 0)
      ~ If not active get out now!
      doneif (field[abilActive].value = 0)

      var v_focus as number
      call PUPsiFocus
      ~ If psionically focused get out now!
      doneif (v_focus = 1)

      ~ Give an extra attack to all ranged weapons
      foreach pick in hero from BaseWep where "!IsWeapon.wBlast & wCategory.Range? & !Helper.NatAttSpec & !Helper.SingleRAtt"
        perform eachpick.pushtags[Helper.ExtraRanHi]
      nexteach]]></eval>
    </thing>
  <thing id="cPUSkilVol" name="Style Skill (Volley)" description="At 3rd level, a finesse marksman gains a +1 bonus to Perception. This bonus increases by 1 every three marksman levels thereafter." compset="ClSpecial" summary="You gain a bonus to the Perception skill.">
    <tag group="ProductId" tag="HLCommunit"/>
    <eval phase="PostLevel" priority="10000"><![CDATA[
      ~ Set the list name
      field[listname].text = field[thingname].text & " " & signed(field[xIndex].value)

      ~ If we're not shown, just get out now
      doneif (tagis[Helper.ShowSpec] <> 1)
      ~ if we've been disabled, get out now
      doneif (tagis[Helper.SpcDisable] <> 0)

      field[abValue].value += field[xCount].value
      field[livename].text = field[thingname].text & " " & signed(field[abValue].value)

      ~ The following should only happen once on the first copy
      doneif (tagis[Helper.FirstCopy] = 0)

      #skillbonus[skPercep] += field[abValue].value]]></eval>
    </thing>
  <thing id="cPUMantVol" name="Style Mantra (Volley)" description="Beginning at 3rd level, as long as a volley marksman maintains psionic focus, she gains a +1 competence bonus to her Initiative and Reflex saves. At 7th level and every four marksman levels thereafter, the competence bonus improves by 1." compset="ClSpecial" summary="While psionically focused, you gain a bonus to Initiative and Reflex saves.">
    <usesource source="pPsiUn"/>
    <tag group="AbilType" tag="Extra"/>
    <tag group="User" tag="Activation"/>
    <tag group="abAction" tag="PUManFocus"/>
    <tag group="ProductId" tag="HLCommunit"/>
    <eval phase="PostLevel" priority="10000"><![CDATA[
      ~ Set the list name
      field[listname].text = field[thingname].text & " " & field[xIndex].value

      ~ If we're not shown, just get out now
      doneif (tagis[Helper.ShowSpec] <> 1)
      ~ if we've been disabled, get out now
      doneif (tagis[Helper.SpcDisable] <> 0)

      field[abValue].value += field[xCount].value
      field[livename].text = field[thingname].text & " " & field[abValue].value

      ~ The following should only happen once on the first copy
      doneif (tagis[Helper.FirstCopy] = 0)

      var v_focus as number
      call PUPsiFocus
      ~ If not psionically focused get out now!
      doneif (v_focus = 0)

      ~ competence bonus to reflex and Initiative
      #applybonus[BonComp,hero.child[svRef],field[abValue].value]
      #applybonus[BonComp,hero.child[Initiative],field[abValue].value]]]></eval>
    </thing>
  <thing id="cPUVolSplS" name="Split Shot" description="A volley marksman of 4th level is capable of psychokinetically splitting a ranged attack inflight to hit two targets. When activated, a single ranged attack made by the marksman can strike one additional target within 15 ft. of the initial target. Use the same attack roll to determine the success against both targets. Roll damage normally and split the damage to each target equally. This ability may be used a number of times per day equal to 3 + the marksman’s Wisdom modifier." compset="ClSpecial">
    <tag group="AbilType" tag="Super"/>
    <tag group="Usage" tag="Day"/>
    <tag group="StandardDC" tag="aWIS"/>
    <tag group="User" tag="Tracker"/>
    <tag group="ChargeCalc" tag="AttrUses3"/>
    <tag group="ChargeAttr" tag="aWIS"/>
    <tag group="ProductId" tag="HLCommunit"/>
    </thing>
  <thing id="cPUVolQuiV" name="Quick Volley" description="Volley marksmen of 8th level learn to fire their weapons rapidly while needing to maintain mobility. As long as the marksman maintains psionic focus, she can make a full attack with a ranged or thrown weapon while also moving her full movement, but suffers a -4 penalty to all attacks made during the round and suffers a -2 penalty to her Armor Class until the beginning of her next turn." compset="ClSpecial">
    <fieldval field="abValue" value="-4"/>
    <fieldval field="abValue2" value="-2"/>
    <tag group="AbilType" tag="Super"/>
    <tag group="Usage" tag="Day"/>
    <tag group="User" tag="Activation"/>
    <tag group="abAction" tag="PUManFocus"/>
    <tag group="ProductId" tag="HLCommunit"/>
    <eval phase="PostAttr" priority="10000"><![CDATA[
      ~ If we're not shown, just get out now
      doneif (tagis[Helper.ShowSpec] <> 1)
      ~ if we've been disabled, get out now
      doneif (tagis[Helper.SpcDisable] <> 0)
      ~ If not activated get out now!
      doneif (field[abilActive].value = 0)

      var v_focus as number
      call PUPsiFocus
      ~ If not psi-focused get out now!
      doneif (v_focus = 0)

      ~ Penalty to attack & AC
      hero.child[Attack].field[Penalty].value += field[abValue].value
      hero.child[ArmorClass].field[Penalty].value += field[abValue2].value]]></eval>
    </thing>
  <thing id="cPUVolBurA" name="Burst Arrows" description="At 12th level, a volley marksman is capable of charging her ranged attacks with psychokinetic energy to explode and disrupt enemies. Once per day as part of a full attack with a ranged or thrown weapon, the marksman can expend psionic focus and have the space occupied by each target treated as if covered in caltrops for a number of rounds equal to her Wisdom modifier. In addition, all creatures within a 5 ft. radius of the struck target take damage equal to the marksman’s Wisdom modifier unless they make a successful Reflex save (DC 10 + half marksman level + marksman’s Wisdom modifier). This ability can be used an additional time per day every two marksman levels thereafter." compset="ClSpecial">
    <tag group="Usage" tag="Day"/>
    <tag group="StandardDC" tag="aWIS"/>
    <tag group="User" tag="Tracker"/>
    <tag group="AbilType" tag="Super"/>
    <tag group="abAction" tag="PUExpFocus"/>
    <tag group="ProductId" tag="HLCommunit"/>
    <eval phase="PostAttr" priority="10000"><![CDATA[
      ~ Set the list name
      field[listname].text = field[thingname].text & " " & field[xIndex].value & "/day"

      ~ If we're not shown, just get out now
      doneif (tagis[Helper.ShowSpec] <> 1)
      ~ if we've been disabled, get out now
      doneif (tagis[Helper.SpcDisable] <> 0)

      field[abValue].value += #attrmod[aWIS]
      field[livename].text = field[thingname].text & " (" & field[abValue].value & " dmg)"

      ~ The following should only happen once on the first copy
      doneif (tagis[Helper.FirstCopy] = 0)

      field[trkMax].value += field[abValue].value]]></eval>
    </thing>
  <thing id="cPUVolVisV" name="Vicious Volley" description="Beginning at 16th level, a volley marksman is able to make her arrows more deadly and accurate. When making a full attack with a ranged or thrown weapon, the marksman may make two attack rolls for each attack in the full attack and take the better roll. This ability may be used once every 10 minutes." compset="ClSpecial">
    <fieldval field="trkMax" value="1"/>
    <tag group="Usage" tag="Minute10"/>
    <tag group="User" tag="Tracker"/>
    <tag group="AbilType" tag="Super"/>
    <tag group="ProductId" tag="HLCommunit"/>
    </thing>
  <thing id="cPUVolBloS" name="Block the Sun" description="As a full-round action, you can choose two five foot squares per attack roll you would normally make during a full attack. Each targeted square must be adjacent to another targeted square. Make one attack roll at your highest attack bonus and use that against any creature or creatures in each affected square. If the attack is successful, you deal damage normally to each target successfully struck. If your attack threatens a critical, roll to confirm separately for each target struck. In addition, each square affected is treated as difficult terrain due to the volume of shots unleashed. Using this ability expends four units of ammunition (or one thrown weapon) per square affected and cannot be used unless sufficient ammunition is available. Alternately, the marksman may use one unit of ammunition per square affected or a single thrown weapon by expending one use of Split Shot, but does not gain the usual benefit of Split Shot this round. This ability may be combined with the Vicious Volley style ability." compset="ClSpecial">
    <tag group="ProductId" tag="HLCommunit"/>
    </thing>
  <thing id="cPUMrkWnd" name="Wind Reader" description="A marksman can use her heightened senses and awareness of her surroundings to read the wind and environment, allowing her to drastically improve her accuracy. While maintaining psionic focus, she can spend a swift action to gain a competence bonus equal to her Wisdom modifier on ranged attacks until the end of the round. She can do this a number of times per day equal to 3 + her class level." compset="ClSpecial" summary="Psionically focused, gain competence bonus to ranged attacks equal to Wisdom.">
    <fieldval field="trkMax" value="3"/>
    <tag group="ChargeCalc" tag="LevelFull"/>
    <tag group="ChargeCalc" tag="LevelX1"/>
    <tag group="AbilType" tag="Super"/>
    <tag group="User" tag="Tracker"/>
    <tag group="Usage" tag="Day"/>
    <tag group="User" tag="Activation"/>
    <tag group="ProductId" tag="HLCommunit"/>
    <eval phase="PostAttr" priority="10000"><![CDATA[
      ~ If we're not shown, just get out now
      doneif (tagis[Helper.ShowSpec] <> 1)
      ~ if we've been disabled, get out now
      doneif (tagis[Helper.SpcDisable] <> 0)

      ~ If not activated get out now!
      doneif (field[abilActive].value = 0)

      var v_focus as number
      call PUPsiFocus
      ~ If nto psi-focused get out now!
      doneif (v_focus = 0)

      ~ Set wisdom bonus
      field[abValue].value += #attrmod[aWIS]

      ~ Give compentence bonus to ranged attacks
      #applybonus[atrBonComp,hero.child[Attack],field[abValue].value]]]></eval>
    </thing>
  <thing id="cPU3FavWep" name="Favored Weapon" description="Marksmen of 2nd level select a group of ranged weapons from the list below as their preferred weapons and gain a +1 competence bonus to ranged attack rolls made with any weapon of that group. Every four marksman levels thereafter, this bonus increases by 1.\n\n{i}Bows:{/i} composite longbow, composite shortbow, longbow,  and shortbow.\n\n{i}Crossbows:{/i} double crossbow, hand crossbow, heavy crossbow, light crossbow, repeating heavy crossbow, and repeating light crossbow.\n\n{i}Spears:{/i} javelin, lance, longspear, pilum, shortspear, spear, and trident.\n\n{i}Thrown:{/i} blowgun, bolas, boomerang, chakram, club, dagger, dart, halfling sling staff, javelin, light hammer, net, shortspear, shuriken, sling, spear, starknife, throwing axe, trident, wooden stake.\n\n{b}Note:{/b} Note this ability is using the standard &quot;Fighter&quot; weapon groups. Meaning the weapons that are in each group will grow as Paizo adds any weapons to the selected group." compset="ClSpecial" summary="Gain a compentence bonus to ranged attacks with the selected weapon group.">
    <fieldval field="usrCandid1" value="component.SelectHelp &amp; Selection.WeaponsGrp &amp; (wFtrGroup.Bows|wFtrGroup.Crossbows|wFtrGroup.Spears|wFtrGroup.Thrown)"/>
    <tag group="Usage" tag="Day"/>
    <tag group="ChooseSrc1" tag="Thing"/>
    <tag group="ProductId" tag="HLCommunit"/>
    <eval phase="PostLevel" priority="10000"><![CDATA[
      ~ Set the list name
      field[listname].text = field[thingname].text & " (" & signed(field[xIndex].value) & ")"

      ~ If we're not shown, just get out now
      doneif (tagis[Helper.ShowSpec] <> 1)
      ~ if we've been disabled, get out now
      doneif (tagis[Helper.SpcDisable] <> 0)

      field[abValue].value += field[xCount].value
      field[livename].text = field[thingname].text & " (" & signed(field[abValue].value) & ")"

      ~ The following should only happen once on the first copy
      doneif (tagis[Helper.FirstCopy] = 0)
      ~ If nothing chosen get out now!
      doneif (field[usrChosen1].ischosen <> 1)

      perform field[usrChosen1].chosen.pulltags[wFtrGroup.?]
      perform root.pushtags[wFtrGroup.?]

      ~ Give a ranged attack bonus to each weapon
      foreach pick in hero from BaseWep where tagids[wFtrGroup.?]
        #applybonus[atrBonComp,eachpick,field[abValue].value]
      nexteach]]></eval>
    <eval phase="PostLevel" priority="10000" index="2"><![CDATA[
      ~ The following should only happen on each additional
      ~ bootstrap of this ability.
      doneif (tagis[Helper.FirstCopy] = 1)

      ~ Remove weapon group selection
      perform delete[ChooseSrc1.?]
      field[usrCandid1].text = ""]]></eval>
    </thing>
  <thing id="cPUCovFire" name="Cover FIre" description="Beginning at 4th level, the marksman knows not only how to directly engage her enemies, but also how to protect her allies. As an attack action, she may choose to fire a ranged or thrown weapon at an opponent within 30 feet to distract that opponent rather than to deal damage. Make an attack roll against the space a target occupies (AC 10). If successful, the targeted enemy must make a Reflex save (DC 10 + one-half the marksmanâ€™s class level + the marksmanâ€™s Dexterity modifier), or be staggered for one round. The marksman still expends ammunition as normal for this attack.\n\nIf the attack roll would indicate a critical threat and the result would hit the opponentâ€™s AC, roll to confirm: if the critical hit is confirmed against the opponentâ€™s AC, the attack does normal damage as well. A marksman cannot use cover fire if her opponent or the square she targets would be subject to a miss chance (such as from a concealed target)." compset="ClSpecial">
    <tag group="Usage" tag="Day"/>
    <tag group="AbilType" tag="Extra"/>
    <tag group="StandardDC" tag="aDEX"/>
    <tag group="ProductId" tag="HLCommunit"/>
    </thing>
  <thing id="cPUDisenga" name="Disengage" description="Once a marksman has reached 7th level, she learns how to effectively distance herself from enemies.\n\nWhen the marksman would provoke an attack of opportunity for moving out of a threatened space, she may expend her psionic focus to add her Wisdom modifier to her Acrobatics rolls to avoid attacks of opportunity for the round and can move at full speed without increasing the Acrobatics DC." compset="ClSpecial">
    <tag group="Usage" tag="Day"/>
    <tag group="AbilType" tag="Extra"/>
    <tag group="StandardDC" tag="aDEX"/>
    <tag group="abAction" tag="PUExpFocus"/>
    <tag group="ProductId" tag="HLCommunit"/>
    </thing>
  <thing id="cPUDefShot" name="Defensive Shot" description="At 13th level, a marksman no longer provokes attacks of opportunity when making ranged attacks with a ranged or thrown weapon." compset="ClSpecial">
    <tag group="Usage" tag="Day"/>
    <tag group="AbilType" tag="Extra"/>
    <tag group="ProductId" tag="HLCommunit"/>
    </thing>
  <thing id="cPURangeSp" name="Ranged Specialist" description="At 19th level, a marksmanâ€™s ranged and thrown attacks have their critical multiplier increased by 1 (x2 becomes x3, for example) and her penalties for range increments are halved. If the marksman has the Far Shot feat, she instead suffers no penalties for range increments." compset="ClSpecial">
    <tag group="Usage" tag="Day"/>
    <tag group="AbilType" tag="Super"/>
    <tag group="ProductId" tag="HLCommunit"/>
    </thing>
  <thing id="cPUMrkPBS" name="Point Blank Shot" description="At 1st level, a marksman gains the Point-Blank Shot feat as a bonus feat." compset="ClSpecial">
    <tag group="Helper" tag="SpecUp"/>
    <tag group="ProductId" tag="HLCommunit"/>
    <bootstrap thing="fPointBlnk">
      <containerreq phase="First" priority="500">!AbReplace.cPUMrkPBS</containerreq>
      </bootstrap>
    </thing>
  <thing id="cPUEvArrow" name="Evade Arrows" description="At 2nd level, a marksmanâ€™s familiarity with ranged attacks and her natural intuition alerts her to danger from mundane ranged attacks. She gains a +1 Dodge bonus to Armor Class against ranged attacks (but not ranged touch attacks). At 6th level and every four marksman levels thereafter, this Dodge bonus increases by 1." compset="ClSpecial">
    <tag group="SpecType" tag="Skill"/>
    <tag group="AbilType" tag="Extra"/>
    <tag group="Helper" tag="SpecUp"/>
    <tag group="ProductId" tag="HLCommunit"/>
    <eval phase="PostLevel" priority="10000"><![CDATA[
      field[listname].text = field[thingname].text & " (" & signed(field[xIndex].value) & ")"

      ~ If we're not shown, just get out now
      doneif (tagis[Helper.ShowSpec] <> 1)
      ~ if we've been disabled, get out now
      doneif (tagis[Helper.SpcDisable] <> 0)

      field[abValue].value += field[xCount].value
      field[livename].text = field[thingname].text & " " & signed(field[abValue].value)

      #situational[hero.childfound[ArmorClass],signed(field[abValue].value) & " Dodge bonus to Ranged Attacks.",field[thingname].text]]]></eval>
    </thing>
  </document>